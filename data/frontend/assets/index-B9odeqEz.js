var ep=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Hk=ep((nS,Pr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var np=Object.defineProperty,ip=(e,t,n)=>t in e?np(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kn=(e,t,n)=>(ip(e,typeof t!="symbol"?t+"":t,n),n);function sp(e,t){const n=Object.create(null),i=e.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return s=>!!n[s]}function lh(e){if(te(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=Oi(i)?ap(i):lh(i);if(s)for(const r in s)t[r]=s[r]}return t}else if(Oi(e)||Pn(e))return e}const rp=/;(?![^(]*\))/g,op=/:(.+)/;function ap(e){const t={};return e.split(rp).forEach(n=>{if(n){const i=n.split(op);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ch(e){let t="";if(Oi(e))t=e;else if(te(e))for(let n=0;n<e.length;n++){const i=ch(e[n]);i&&(t+=i+" ")}else if(Pn(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function lp(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=xi(e[i],t[i]);return n}function xi(e,t){if(e===t)return!0;let n=mc(e),i=mc(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=te(e),i=te(t),n||i)return n&&i?lp(e,t):!1;if(n=Pn(e),i=Pn(t),n||i){if(!n||!i)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),c=t.hasOwnProperty(o);if(a&&!c||!a&&c||!xi(e[o],t[o]))return!1}}return String(e)===String(t)}function Xo(e,t){return e.findIndex(n=>xi(n,t))}const cp=Object.assign,up=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hp=Object.prototype.hasOwnProperty,Ka=(e,t)=>hp.call(e,t),te=Array.isArray,Zo=e=>uh(e)==="[object Map]",mc=e=>e instanceof Date,Oi=e=>typeof e=="string",Ua=e=>typeof e=="symbol",Pn=e=>e!==null&&typeof e=="object",fp=Object.prototype.toString,uh=e=>fp.call(e),dp=e=>uh(e).slice(8,-1),$a=e=>Oi(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,hh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},pp=/-(\w)/g,gp=hh(e=>e.replace(pp,(t,n)=>n?n.toUpperCase():"")),mp=/\B([A-Z])/g,fh=hh(e=>e.replace(mp,"-$1").toLowerCase()),yp=(e,t)=>!Object.is(e,t),yc=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let bp;function dh(e,t){t=t||bp,t&&t.active&&t.effects.push(e)}const ph=e=>{const t=new Set(e);return t.w=0,t.n=0,t},gh=e=>(e.w&Tn)>0,mh=e=>(e.n&Tn)>0,_p=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Tn},vp=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const s=t[i];gh(s)&&!mh(s)?s.delete(e):t[n++]=s,s.w&=~Tn,s.n&=~Tn}t.length=n}},ya=new WeakMap;let ns=0,Tn=1;const ba=30,qi=[];let ti;const xr=Symbol(""),bc=Symbol("");class xp{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],dh(this,i)}run(){if(!this.active)return this.fn();if(!qi.includes(this))try{return qi.push(ti=this),Mp(),Tn=1<<++ns,ns<=ba?_p(this):_c(this),this.fn()}finally{ns<=ba&&vp(this),Tn=1<<--ns,yh(),qi.pop();const t=qi.length;ti=t>0?qi[t-1]:void 0}}stop(){this.active&&(_c(this),this.onStop&&this.onStop(),this.active=!1)}}function _c(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function wp(e,t){e.effect&&(e=e.effect.fn);const n=new xp(e);t&&(cp(n,t),t.scope&&dh(n,t.scope)),(!t||!t.lazy)&&n.run();const i=n.run.bind(n);return i.effect=n,i}function kp(e){e.effect.stop()}let Di=!0;const qa=[];function Sp(){qa.push(Di),Di=!1}function Mp(){qa.push(Di),Di=!0}function yh(){const e=qa.pop();Di=e===void 0?!0:e}function Kr(e,t,n){if(!Op())return;let i=ya.get(e);i||ya.set(e,i=new Map);let s=i.get(n);s||i.set(n,s=ph()),Dp(s)}function Op(){return Di&&ti!==void 0}function Dp(e,t){let n=!1;ns<=ba?mh(e)||(e.n|=Tn,n=!gh(e)):n=!e.has(ti),n&&(e.add(ti),ti.deps.push(e))}function _a(e,t,n,i,s,r){const o=ya.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&te(e))o.forEach((c,h)=>{(h==="length"||h>=i)&&a.push(c)});else switch(n!==void 0&&a.push(o.get(n)),t){case"add":te(e)?$a(n)&&a.push(o.get("length")):(a.push(o.get(xr)),Zo(e)&&a.push(o.get(bc)));break;case"delete":te(e)||(a.push(o.get(xr)),Zo(e)&&a.push(o.get(bc)));break;case"set":Zo(e)&&a.push(o.get(xr));break}if(a.length===1)a[0]&&vc(a[0]);else{const c=[];for(const h of a)h&&c.push(...h);vc(ph(c))}}function vc(e,t){for(const n of te(e)?e:[...e])(n!==ti||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const Pp=sp("__proto__,__v_isRef,__isVue"),bh=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Ua)),Tp=_h(),Cp=_h(!0),xc=Ap();function Ap(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=ei(this);for(let r=0,o=this.length;r<o;r++)Kr(i,"get",r+"");const s=i[t](...n);return s===-1||s===!1?i[t](...n.map(ei)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Sp();const i=ei(this)[t].apply(this,n);return yh(),i}}),e}function _h(e=!1,t=!1){return function(n,i,s){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_raw"&&s===(e?t?Bp:xh:t?Wp:vh).get(n))return n;const r=te(n);if(!e&&r&&Ka(xc,i))return Reflect.get(xc,i,s);const o=Reflect.get(n,i,s);return(Ua(i)?bh.has(i):Pp(i))||(e||Kr(n,"get",i),t)?o:va(o)?!r||!$a(i)?o.value:o:Pn(o)?e?Vp(o):Ss(o):o}}const Rp=Ep();function Ep(e=!1){return function(t,n,i,s){let r=t[n];if(!e&&!Hp(i)&&(i=ei(i),r=ei(r),!te(t)&&va(r)&&!va(i)))return r.value=i,!0;const o=te(t)&&$a(n)?Number(n)<t.length:Ka(t,n),a=Reflect.set(t,n,i,s);return t===ei(s)&&(o?yp(i,r)&&_a(t,"set",n,i):_a(t,"add",n,i)),a}}function Lp(e,t){const n=Ka(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&_a(e,"delete",t,void 0),i}function Fp(e,t){const n=Reflect.has(e,t);return(!Ua(t)||!bh.has(t))&&Kr(e,"has",t),n}function Ip(e){return Kr(e,"iterate",te(e)?"length":xr),Reflect.ownKeys(e)}const Np={get:Tp,set:Rp,deleteProperty:Lp,has:Fp,ownKeys:Ip},Yp={get:Cp,set(e,t){return!0},deleteProperty(e,t){return!0}},vh=new WeakMap,Wp=new WeakMap,xh=new WeakMap,Bp=new WeakMap;function jp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zp(e){return e.__v_skip||!Object.isExtensible(e)?0:jp(dp(e))}function Ss(e){return e&&e.__v_isReadonly?e:wh(e,!1,Np,null,vh)}function Vp(e){return wh(e,!0,Yp,null,xh)}function wh(e,t,n,i,s){if(!Pn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const o=zp(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return s.set(e,a),a}function Hp(e){return!!(e&&e.__v_isReadonly)}function ei(e){const t=e&&e.__v_raw;return t?ei(t):e}function va(e){return!!(e&&e.__v_isRef===!0)}Promise.resolve();let xa=!1;const Tr=[],Kp=Promise.resolve(),Ur=e=>Kp.then(e),wc=e=>{Tr.includes(e)||Tr.push(e),xa||(xa=!0,Ur(Up))},Up=()=>{for(const e of Tr)e();Tr.length=0,xa=!1},$p=/^(spellcheck|draggable|form|list|type)$/,wa=({el:e,get:t,effect:n,arg:i,modifiers:s})=>{let r;i==="class"&&(e._class=e.className),n(()=>{let o=t();if(i)s?.camel&&(i=gp(i)),Qo(e,i,o,r);else{for(const a in o)Qo(e,a,o[a],r&&r[a]);for(const a in r)(!o||!(a in o))&&Qo(e,a,null)}r=o})},Qo=(e,t,n,i)=>{if(t==="class")e.setAttribute("class",ch(e._class?[e._class,n]:n)||"");else if(t==="style"){n=lh(n);const{style:s}=e;if(!n)e.removeAttribute("style");else if(Oi(n))n!==i&&(s.cssText=n);else{for(const r in n)ka(s,r,n[r]);if(i&&!Oi(i))for(const r in i)n[r]==null&&ka(s,r,"")}}else!(e instanceof SVGElement)&&t in e&&!$p.test(t)?(e[t]=n,t==="value"&&(e._value=n)):t==="true-value"?e._trueValue=n:t==="false-value"?e._falseValue=n:n!=null?e.setAttribute(t,n):e.removeAttribute(t)},kc=/\s*!important$/,ka=(e,t,n)=>{te(n)?n.forEach(i=>ka(e,t,i)):t.startsWith("--")?e.setProperty(t,n):kc.test(n)?e.setProperty(fh(t),n.replace(kc,""),"important"):e[t]=n},vn=(e,t)=>{const n=e.getAttribute(t);return n!=null&&e.removeAttribute(t),n},_n=(e,t,n,i)=>{e.addEventListener(t,n,i)},qp=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Gp=["ctrl","shift","alt","meta"],Xp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Gp.some(n=>e[`${n}Key`]&&!t[n])},kh=({el:e,get:t,exp:n,arg:i,modifiers:s})=>{if(!i)return;let r=qp.test(n)?t(`(e => ${n}(e))`):t(`($event => { ${n} })`);if(i==="vue:mounted"){Ur(r);return}else if(i==="vue:unmounted")return()=>r();if(s){i==="click"&&(s.right&&(i="contextmenu"),s.middle&&(i="mouseup"));const o=r;r=a=>{if(!("key"in a&&!(fh(a.key)in s))){for(const c in s){const h=Xp[c];if(h&&h(a,s))return}return o(a)}}}_n(e,i,r,s)},Zp=({el:e,get:t,effect:n})=>{const i=e.style.display;n(()=>{e.style.display=t()?i:"none"})},Sh=({el:e,get:t,effect:n})=>{n(()=>{e.textContent=Mh(t())})},Mh=e=>e==null?"":Pn(e)?JSON.stringify(e,null,2):String(e),Qp=({el:e,get:t,effect:n})=>{n(()=>{e.innerHTML=t()})},Jp=({el:e,exp:t,get:n,effect:i,modifiers:s})=>{const r=e.type,o=n(`(val) => { ${t} = val }`),{trim:a,number:c=r==="number"}=s||{};if(e.tagName==="SELECT"){const h=e;_n(e,"change",()=>{const d=Array.prototype.filter.call(h.options,g=>g.selected).map(g=>c?yc(bn(g)):bn(g));o(h.multiple?d:d[0])}),i(()=>{const d=n(),g=h.multiple;for(let y=0,_=h.options.length;y<_;y++){const x=h.options[y],w=bn(x);if(g)te(d)?x.selected=Xo(d,w)>-1:x.selected=d.has(w);else if(xi(bn(x),d)){h.selectedIndex!==y&&(h.selectedIndex=y);return}}!g&&h.selectedIndex!==-1&&(h.selectedIndex=-1)})}else if(r==="checkbox"){_n(e,"change",()=>{const d=n(),g=e.checked;if(te(d)){const y=bn(e),_=Xo(d,y),x=_!==-1;if(g&&!x)o(d.concat(y));else if(!g&&x){const w=[...d];w.splice(_,1),o(w)}}else o(Sc(e,g))});let h;i(()=>{const d=n();te(d)?e.checked=Xo(d,bn(e))>-1:d!==h&&(e.checked=xi(d,Sc(e,!0))),h=d})}else if(r==="radio"){_n(e,"change",()=>{o(bn(e))});let h;i(()=>{const d=n();d!==h&&(e.checked=xi(d,bn(e)))})}else{const h=d=>a?d.trim():c?yc(d):d;_n(e,"compositionstart",tg),_n(e,"compositionend",eg),_n(e,s?.lazy?"change":"input",()=>{e.composing||o(h(e.value))}),a&&_n(e,"change",()=>{e.value=e.value.trim()}),i(()=>{if(e.composing)return;const d=e.value,g=n();document.activeElement===e&&h(d)===g||d!==g&&(e.value=g)})}},bn=e=>"_value"in e?e._value:e.value,Sc=(e,t)=>{const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t},tg=e=>{e.target.composing=!0},eg=e=>{const t=e.target;t.composing&&(t.composing=!1,ng(t,"input"))},ng=(e,t)=>{const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)},Mc=Object.create(null),fs=(e,t,n)=>Oh(e,`return(${t})`,n),Oh=(e,t,n)=>{const i=Mc[t]||(Mc[t]=ig(t));try{return i(e,n)}catch(s){console.error(s)}},ig=e=>{try{return new Function("$data","$el",`with($data){${e}}`)}catch(t){return console.error(`${t.message} in expression: ${e}`),()=>{}}},sg=({el:e,ctx:t,exp:n,effect:i})=>{Ur(()=>i(()=>Oh(t.scope,n,e)))},rg={bind:wa,on:kh,show:Zp,text:Sh,html:Qp,model:Jp,effect:sg},og=(e,t,n)=>{const i=e.parentElement,s=new Comment("v-if");i.insertBefore(s,e);const r=[{exp:t,el:e}];let o,a;for(;(o=e.nextElementSibling)&&(a=null,vn(o,"v-else")===""||(a=vn(o,"v-else-if")));)i.removeChild(o),r.push({exp:a,el:o});const c=e.nextSibling;i.removeChild(e);let h,d=-1;const g=()=>{h&&(i.insertBefore(s,h.el),h.remove(),h=void 0)};return n.effect(()=>{for(let y=0;y<r.length;y++){const{exp:_,el:x}=r[y];if(!_||fs(n.scope,_)){y!==d&&(g(),h=new Ga(x,n),h.insert(i,s),i.removeChild(s),d=y);return}}d=-1,g()}),c},ag=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Oc=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,lg=/^\(|\)$/g,cg=/^[{[]\s*((?:[\w_$]+\s*,?\s*)+)[\]}]$/,ug=(e,t,n)=>{const i=t.match(ag);if(!i)return;const s=e.nextSibling,r=e.parentElement,o=new Text("");r.insertBefore(o,e),r.removeChild(e);const a=i[2].trim();let c=i[1].trim().replace(lg,"").trim(),h,d=!1,g,y,_="key",x=e.getAttribute(_)||e.getAttribute(_=":key")||e.getAttribute(_="v-bind:key");x&&(e.removeAttribute(_),_==="key"&&(x=JSON.stringify(x)));let w;(w=c.match(Oc))&&(c=c.replace(Oc,"").trim(),g=w[1].trim(),w[2]&&(y=w[2].trim())),(w=c.match(cg))&&(h=w[1].split(",").map(j=>j.trim()),d=c[0]==="[");let M=!1,L,Y,V;const z=j=>{const q=new Map,tt=[];if(te(j))for(let st=0;st<j.length;st++)tt.push(B(q,j[st],st));else if(typeof j=="number")for(let st=0;st<j;st++)tt.push(B(q,st+1,st));else if(Pn(j)){let st=0;for(const rt in j)tt.push(B(q,j[rt],st++,rt))}return[tt,q]},B=(j,q,tt,st)=>{const rt={};h?h.forEach((Bt,dt)=>rt[Bt]=q[d?dt:Bt]):rt[c]=q,st?(g&&(rt[g]=st),y&&(rt[y]=tt)):g&&(rt[g]=tt);const ct=Ch(n,rt),yt=x?fs(ct.scope,x):tt;return j.set(yt,tt),ct.key=yt,ct},$=(j,q)=>{const tt=new Ga(e,j);return tt.key=j.key,tt.insert(r,q),tt};return n.effect(()=>{const j=fs(n.scope,a),q=V;if([Y,V]=z(j),!M)L=Y.map(tt=>$(tt,o)),M=!0;else{for(let yt=0;yt<L.length;yt++)V.has(L[yt].key)||L[yt].remove();const tt=[];let st=Y.length,rt,ct;for(;st--;){const yt=Y[st],Bt=q.get(yt.key);let dt;Bt==null?dt=$(yt,rt?rt.el:o):(dt=L[Bt],Object.assign(dt.ctx.scope,yt.scope),Bt!==st&&(L[Bt+1]!==rt||ct===rt)&&(ct=dt,dt.insert(r,rt?rt.el:o))),tt.unshift(rt=dt)}L=tt}}),s},Dh=({el:e,ctx:{scope:{$refs:t}},get:n,effect:i})=>{let s;return i(()=>{const r=n();t[r]=e,s&&r!==s&&delete t[s],s=r}),()=>{s&&delete t[s]}},hg=/^(?:v-|:|@)/,fg=/\.([\w-]+)/g;let Sa=!1;const Ph=(e,t)=>{const n=e.nodeType;if(n===1){const i=e;if(i.hasAttribute("v-pre"))return;vn(i,"v-cloak");let s;if(s=vn(i,"v-if"))return og(i,s,t);if(s=vn(i,"v-for"))return ug(i,s,t);if((s=vn(i,"v-scope"))||s===""){const a=s?fs(t.scope,s):{};t=Ch(t,a),a.$template&&dg(i,a.$template)}const r=vn(i,"v-once")!=null;r&&(Sa=!0),(s=vn(i,"ref"))&&Ma(i,Dh,`"${s}"`,t),Dc(i,t);const o=[];for(const{name:a,value:c}of[...i.attributes])hg.test(a)&&a!=="v-cloak"&&(a==="v-model"?o.unshift([a,c]):a[0]==="@"||/^v-on\b/.test(a)?o.push([a,c]):Pc(i,a,c,t));for(const[a,c]of o)Pc(i,a,c,t);r&&(Sa=!1)}else if(n===3){const i=e.data;if(i.includes(t.delimiters[0])){let s=[],r=0,o;for(;o=t.delimitersRE.exec(i);){const a=i.slice(r,o.index);a&&s.push(JSON.stringify(a)),s.push(`$s(${o[1]})`),r=o.index+o[0].length}r<i.length&&s.push(JSON.stringify(i.slice(r))),Ma(e,Sh,s.join("+"),t)}}else n===11&&Dc(e,t)},Dc=(e,t)=>{let n=e.firstChild;for(;n;)n=Ph(n,t)||n.nextSibling},Pc=(e,t,n,i)=>{let s,r,o;if(t=t.replace(fg,(a,c)=>((o||(o={}))[c]=!0,"")),t[0]===":")s=wa,r=t.slice(1);else if(t[0]==="@")s=kh,r=t.slice(1);else{const a=t.indexOf(":"),c=a>0?t.slice(2,a):t.slice(2);s=rg[c]||i.dirs[c],r=a>0?t.slice(a+1):void 0}s&&(s===wa&&r==="ref"&&(s=Dh),Ma(e,s,n,i,r,o),e.removeAttribute(t))},Ma=(e,t,n,i,s,r)=>{const o=t({el:e,get:(a=n)=>fs(i.scope,a,e),effect:i.effect,ctx:i,exp:n,arg:s,modifiers:r});o&&i.cleanups.push(o)},dg=(e,t)=>{if(t[0]==="#"){const n=document.querySelector(t);e.appendChild(n.content.cloneNode(!0));return}e.innerHTML=t},Th=e=>{const t={delimiters:["{{","}}"],delimitersRE:/\{\{([^]+?)\}\}/g,...e,scope:e?e.scope:Ss({}),dirs:e?e.dirs:{},effects:[],blocks:[],cleanups:[],effect:n=>{if(Sa)return wc(n),n;const i=wp(n,{scheduler:()=>wc(i)});return t.effects.push(i),i}};return t},Ch=(e,t={})=>{const n=e.scope,i=Object.create(n);Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)),i.$refs=Object.create(n.$refs);const s=Ss(new Proxy(i,{set(r,o,a,c){return c===s&&!r.hasOwnProperty(o)?Reflect.set(n,o,a):Reflect.set(r,o,a,c)}}));return Ah(s),{...e,scope:s}},Ah=e=>{for(const t of Object.keys(e))typeof e[t]=="function"&&(e[t]=e[t].bind(e))};class Ga{constructor(t,n,i=!1){Kn(this,"template"),Kn(this,"ctx"),Kn(this,"key"),Kn(this,"parentCtx"),Kn(this,"isFragment"),Kn(this,"start"),Kn(this,"end"),this.isFragment=t instanceof HTMLTemplateElement,i?this.template=t:this.isFragment?this.template=t.content.cloneNode(!0):this.template=t.cloneNode(!0),i?this.ctx=n:(this.parentCtx=n,n.blocks.push(this),this.ctx=Th(n)),Ph(this.template,this.ctx)}get el(){return this.start||this.template}insert(t,n=null){if(this.isFragment)if(this.start){let i=this.start,s;for(;i&&(s=i.nextSibling,t.insertBefore(i,n),i!==this.end);)i=s}else this.start=new Text(""),this.end=new Text(""),t.insertBefore(this.end,n),t.insertBefore(this.start,this.end),t.insertBefore(this.template,this.end);else t.insertBefore(this.template,n)}remove(){if(this.parentCtx&&up(this.parentCtx.blocks,this),this.start){const t=this.start.parentNode;let n=this.start,i;for(;n&&(i=n.nextSibling,t.removeChild(n),n!==this.end);)n=i}else this.template.parentNode.removeChild(this.template);this.teardown()}teardown(){this.ctx.blocks.forEach(t=>{t.teardown()}),this.ctx.effects.forEach(kp),this.ctx.cleanups.forEach(t=>t())}}const Tc=e=>e.replace(/[-.*+?^${}()|[\]\/\\]/g,"\\$&"),Rh=e=>{const t=Th();if(e&&(t.scope=Ss(e),Ah(t.scope),e.$delimiters)){const[i,s]=t.delimiters=e.$delimiters;t.delimitersRE=new RegExp(Tc(i)+"([^]+?)"+Tc(s),"g")}t.scope.$s=Mh,t.scope.$nextTick=Ur,t.scope.$refs=Object.create(null);let n;return{directive(i,s){return s?(t.dirs[i]=s,this):t.dirs[i]},mount(i){if(typeof i=="string"&&(i=document.querySelector(i),!i))return;i=i||document.documentElement;let s;return i.hasAttribute("v-scope")?s=[i]:s=[...i.querySelectorAll("[v-scope]")].filter(r=>!r.matches("[v-scope] [v-scope]")),s.length||(s=[i]),n=s.map(r=>new Ga(r,t,!0)),this},unmount(){n.forEach(i=>i.teardown())}}},Cc=document.currentScript;Cc&&Cc.hasAttribute("init")&&Rh().mount();/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ms(e){return e+.5|0}const xn=(e,t,n)=>Math.max(Math.min(e,n),t);function is(e){return xn(Ms(e*2.55),0,255)}function On(e){return xn(Ms(e*255),0,255)}function Ge(e){return xn(Ms(e/2.55)/100,0,1)}function Ac(e){return xn(Ms(e*100),0,100)}const xe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Oa=[..."0123456789ABCDEF"],pg=e=>Oa[e&15],gg=e=>Oa[(e&240)>>4]+Oa[e&15],rr=e=>(e&240)>>4===(e&15),mg=e=>rr(e.r)&&rr(e.g)&&rr(e.b)&&rr(e.a);function yg(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&xe[e[1]]*17,g:255&xe[e[2]]*17,b:255&xe[e[3]]*17,a:t===5?xe[e[4]]*17:255}:(t===7||t===9)&&(n={r:xe[e[1]]<<4|xe[e[2]],g:xe[e[3]]<<4|xe[e[4]],b:xe[e[5]]<<4|xe[e[6]],a:t===9?xe[e[7]]<<4|xe[e[8]]:255})),n}const bg=(e,t)=>e<255?t(e):"";function _g(e){var t=mg(e)?pg:gg;return e?"#"+t(e.r)+t(e.g)+t(e.b)+bg(e.a,t):void 0}const vg=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Eh(e,t,n){const i=t*Math.min(n,1-n),s=(r,o=(r+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function xg(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function wg(e,t,n){const i=Eh(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function kg(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function Xa(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let c,h,d;return r!==o&&(d=r-o,h=a>.5?d/(2-r-o):d/(r+o),c=kg(n,i,s,d,r),c=c*60+.5),[c|0,h||0,a]}function Za(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(On)}function Qa(e,t,n){return Za(Eh,e,t,n)}function Sg(e,t,n){return Za(wg,e,t,n)}function Mg(e,t,n){return Za(xg,e,t,n)}function Lh(e){return(e%360+360)%360}function Og(e){const t=vg.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?is(+t[5]):On(+t[5]));const s=Lh(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=Sg(s,r,o):t[1]==="hsv"?i=Mg(s,r,o):i=Qa(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function Dg(e,t){var n=Xa(e);n[0]=Lh(n[0]+t),n=Qa(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Pg(e){if(!e)return;const t=Xa(e),n=t[0],i=Ac(t[1]),s=Ac(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${Ge(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const Rc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ec={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Tg(){const e={},t=Object.keys(Ec),n=Object.keys(Rc);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,Rc[r]);r=parseInt(Ec[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let or;function Cg(e){or||(or=Tg(),or.transparent=[0,0,0,0]);const t=or[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Ag=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Rg(e){const t=Ag.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?is(o):xn(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?is(i):xn(i,0,255)),s=255&(t[4]?is(s):xn(s,0,255)),r=255&(t[6]?is(r):xn(r,0,255)),{r:i,g:s,b:r,a:n}}}function Eg(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ge(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Jo=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,mi=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Lg(e,t,n){const i=mi(Ge(e.r)),s=mi(Ge(e.g)),r=mi(Ge(e.b));return{r:On(Jo(i+n*(mi(Ge(t.r))-i))),g:On(Jo(s+n*(mi(Ge(t.g))-s))),b:On(Jo(r+n*(mi(Ge(t.b))-r))),a:e.a+n*(t.a-e.a)}}function ar(e,t,n){if(e){let i=Xa(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Qa(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Fh(e,t){return e&&Object.assign(t||{},e)}function Lc(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=On(e[3]))):(t=Fh(e,{r:0,g:0,b:0,a:1}),t.a=On(t.a)),t}function Fg(e){return e.charAt(0)==="r"?Rg(e):Og(e)}class ds{constructor(t){if(t instanceof ds)return t;const n=typeof t;let i;n==="object"?i=Lc(t):n==="string"&&(i=yg(t)||Cg(t)||Fg(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Fh(this._rgb);return t&&(t.a=Ge(t.a)),t}set rgb(t){this._rgb=Lc(t)}rgbString(){return this._valid?Eg(this._rgb):void 0}hexString(){return this._valid?_g(this._rgb):void 0}hslString(){return this._valid?Pg(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,c=i.a-s.a,h=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-h,i.r=255&h*i.r+r*s.r+.5,i.g=255&h*i.g+r*s.g+.5,i.b=255&h*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=Lg(this._rgb,t._rgb,n)),this}clone(){return new ds(this.rgb)}alpha(t){return this._rgb.a=On(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ms(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ar(this._rgb,2,t),this}darken(t){return ar(this._rgb,2,-t),this}saturate(t){return ar(this._rgb,1,t),this}desaturate(t){return ar(this._rgb,1,-t),this}rotate(t){return Dg(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function He(){}const Ig=(()=>{let e=0;return()=>e++})();function bt(e){return e==null}function Yt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function _t(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Vt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ye(e,t){return Vt(e)?e:t}function ut(e,t){return typeof e>"u"?t:e}const Ng=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Ih=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function At(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Dt(e,t,n,i){let s,r,o;if(Yt(e))for(r=e.length,s=0;s<r;s++)t.call(n,e[s],s);else if(_t(e))for(o=Object.keys(e),r=o.length,s=0;s<r;s++)t.call(n,e[o[s]],o[s])}function Cr(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Ar(e){if(Yt(e))return e.map(Ar);if(_t(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=Ar(e[n[s]]);return t}return e}function Nh(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Yg(e,t,n,i){if(!Nh(e))return;const s=t[e],r=n[e];_t(s)&&_t(r)?ps(s,r,i):t[e]=Ar(r)}function ps(e,t,n){const i=Yt(t)?t:[t],s=i.length;if(!_t(e))return e;n=n||{};const r=n.merger||Yg;let o;for(let a=0;a<s;++a){if(o=i[a],!_t(o))continue;const c=Object.keys(o);for(let h=0,d=c.length;h<d;++h)r(c[h],e,o,n)}return e}function as(e,t){return ps(e,t,{merger:Wg})}function Wg(e,t,n){if(!Nh(e))return;const i=t[e],s=n[e];_t(i)&&_t(s)?as(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ar(s))}const Fc={"":e=>e,x:e=>e.x,y:e=>e.y};function Bg(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function jg(e){const t=Bg(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function Cn(e,t){return(Fc[t]||(Fc[t]=jg(t)))(e)}function Ja(e){return e.charAt(0).toUpperCase()+e.slice(1)}const gs=e=>typeof e<"u",An=e=>typeof e=="function",Ic=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function zg(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const St=Math.PI,Et=2*St,Vg=Et+St,Rr=Number.POSITIVE_INFINITY,Hg=St/180,$t=St/2,Un=St/4,Nc=St*2/3,wn=Math.log10,Ye=Math.sign;function ls(e,t,n){return Math.abs(e-t)<n}function Yc(e){const t=Math.round(e);e=ls(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(wn(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Kg(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function Ug(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Pi(e){return!Ug(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function $g(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Yh(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Me(e){return e*(St/180)}function tl(e){return e*(180/St)}function Wc(e){if(!Vt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Wh(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*St&&(r+=Et),{angle:r,distance:s}}function Da(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function qg(e,t){return(e-t+Vg)%Et-St}function oe(e){return(e%Et+Et)%Et}function ms(e,t,n,i){const s=oe(e),r=oe(t),o=oe(n),a=oe(r-s),c=oe(o-s),h=oe(s-r),d=oe(s-o);return s===r||s===o||i&&r===o||a>c&&h<d}function Jt(e,t,n){return Math.max(t,Math.min(n,e))}function Gg(e){return Jt(e,-32768,32767)}function Ze(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function el(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Qe=(e,t,n,i)=>el(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),Xg=(e,t,n)=>el(e,n,i=>e[i][t]>=n);function Zg(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const Bh=["push","pop","shift","splice","unshift"];function Qg(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Bh.forEach(n=>{const i="_onData"+Ja(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function Bc(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(Bh.forEach(r=>{delete e[r]}),delete e._chartjs)}function jh(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const zh=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Vh(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,zh.call(window,()=>{i=!1,e.apply(t,n)}))}}function Jg(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const nl=e=>e==="start"?"left":e==="end"?"right":"center",re=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,tm=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function Hh(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:o,vScale:a,_parsed:c}=e,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=o.axis,{min:g,max:y,minDefined:_,maxDefined:x}=o.getUserBounds();if(_){if(s=Math.min(Qe(c,d,g).lo,n?i:Qe(t,d,o.getPixelForValue(g)).lo),h){const w=c.slice(0,s+1).reverse().findIndex(M=>!bt(M[a.axis]));s-=Math.max(0,w)}s=Jt(s,0,i-1)}if(x){let w=Math.max(Qe(c,o.axis,y,!0).hi+1,n?0:Qe(t,d,o.getPixelForValue(y),!0).hi+1);if(h){const M=c.slice(w-1).findIndex(L=>!bt(L[a.axis]));w+=Math.max(0,M)}r=Jt(w,s,i)-s}else r=i-s}return{start:s,count:r}}function Kh(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const lr=e=>e===0||e===1,jc=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Et/n)),zc=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Et/n)+1,cs={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*$t)+1,easeOutSine:e=>Math.sin(e*$t),easeInOutSine:e=>-.5*(Math.cos(St*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>lr(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>lr(e)?e:jc(e,.075,.3),easeOutElastic:e=>lr(e)?e:zc(e,.075,.3),easeInOutElastic(e){return lr(e)?e:e<.5?.5*jc(e*2,.1125,.45):.5+.5*zc(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-cs.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?cs.easeInBounce(e*2)*.5:cs.easeOutBounce(e*2-1)*.5+.5};function il(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Vc(e){return il(e)?e:new ds(e)}function ta(e){return il(e)?e:new ds(e).saturate(.5).darken(.1).hexString()}const em=["x","y","borderWidth","radius","tension"],nm=["color","borderColor","backgroundColor"];function im(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:nm},numbers:{type:"number",properties:em}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function sm(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Hc=new Map;function rm(e,t){t=t||{};const n=e+JSON.stringify(t);let i=Hc.get(n);return i||(i=new Intl.NumberFormat(e,t),Hc.set(n,i)),i}function Os(e,t,n){return rm(t,n).format(e)}const Uh={values(e){return Yt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),r=om(e,n)}const o=wn(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Os(e,i,c)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(wn(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?Uh.numeric.call(this,e,t,n):""}};function om(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var $r={formatters:Uh};function am(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$r.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ri=Object.create(null),Pa=Object.create(null);function us(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function ea(e,t,n){return typeof t=="string"?ps(us(e,t),n):ps(us(e,""),t)}class lm{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>ta(s.backgroundColor),this.hoverBorderColor=(i,s)=>ta(s.borderColor),this.hoverColor=(i,s)=>ta(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return ea(this,t,n)}get(t){return us(this,t)}describe(t,n){return ea(Pa,t,n)}override(t,n){return ea(ri,t,n)}route(t,n,i,s){const r=us(this,t),o=us(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],h=o[s];return _t(c)?Object.assign({},h,c):ut(c,h)},set(c){this[a]=c}}})}apply(t){t.forEach(n=>n(this))}}var Wt=new lm({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[im,sm,am]);function cm(e){return!e||bt(e.size)||bt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Er(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function um(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let c,h,d,g,y;for(c=0;c<a;c++)if(g=n[c],g!=null&&!Yt(g))o=Er(e,s,r,o,g);else if(Yt(g))for(h=0,d=g.length;h<d;h++)y=g[h],y!=null&&!Yt(y)&&(o=Er(e,s,r,o,y));e.restore();const _=r.length/2;if(_>n.length){for(c=0;c<_;c++)delete s[r[c]];r.splice(0,_)}return o}function $n(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function Kc(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ta(e,t,n,i){$h(e,t,n,i,null)}function $h(e,t,n,i,s){let r,o,a,c,h,d,g,y;const _=t.pointStyle,x=t.rotation,w=t.radius;let M=(x||0)*Hg;if(_&&typeof _=="object"&&(r=_.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(M),e.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),e.restore();return}if(!(isNaN(w)||w<=0)){switch(e.beginPath(),_){default:s?e.ellipse(n,i,s/2,w,0,0,Et):e.arc(n,i,w,0,Et),e.closePath();break;case"triangle":d=s?s/2:w,e.moveTo(n+Math.sin(M)*d,i-Math.cos(M)*w),M+=Nc,e.lineTo(n+Math.sin(M)*d,i-Math.cos(M)*w),M+=Nc,e.lineTo(n+Math.sin(M)*d,i-Math.cos(M)*w),e.closePath();break;case"rectRounded":h=w*.516,c=w-h,o=Math.cos(M+Un)*c,g=Math.cos(M+Un)*(s?s/2-h:c),a=Math.sin(M+Un)*c,y=Math.sin(M+Un)*(s?s/2-h:c),e.arc(n-g,i-a,h,M-St,M-$t),e.arc(n+y,i-o,h,M-$t,M),e.arc(n+g,i+a,h,M,M+$t),e.arc(n-y,i+o,h,M+$t,M+St),e.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*w,d=s?s/2:c,e.rect(n-d,i-c,2*d,2*c);break}M+=Un;case"rectRot":g=Math.cos(M)*(s?s/2:w),o=Math.cos(M)*w,a=Math.sin(M)*w,y=Math.sin(M)*(s?s/2:w),e.moveTo(n-g,i-a),e.lineTo(n+y,i-o),e.lineTo(n+g,i+a),e.lineTo(n-y,i+o),e.closePath();break;case"crossRot":M+=Un;case"cross":g=Math.cos(M)*(s?s/2:w),o=Math.cos(M)*w,a=Math.sin(M)*w,y=Math.sin(M)*(s?s/2:w),e.moveTo(n-g,i-a),e.lineTo(n+g,i+a),e.moveTo(n+y,i-o),e.lineTo(n-y,i+o);break;case"star":g=Math.cos(M)*(s?s/2:w),o=Math.cos(M)*w,a=Math.sin(M)*w,y=Math.sin(M)*(s?s/2:w),e.moveTo(n-g,i-a),e.lineTo(n+g,i+a),e.moveTo(n+y,i-o),e.lineTo(n-y,i+o),M+=Un,g=Math.cos(M)*(s?s/2:w),o=Math.cos(M)*w,a=Math.sin(M)*w,y=Math.sin(M)*(s?s/2:w),e.moveTo(n-g,i-a),e.lineTo(n+g,i+a),e.moveTo(n+y,i-o),e.lineTo(n-y,i+o);break;case"line":o=s?s/2:Math.cos(M)*w,a=Math.sin(M)*w,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(M)*(s?s/2:w),i+Math.sin(M)*w);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Je(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function qr(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Gr(e){e.restore()}function hm(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function fm(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function dm(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),bt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function pm(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,c=n-r.actualBoundingBoxAscent,h=n+r.actualBoundingBoxDescent,d=s.strikethrough?(c+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,d),e.lineTo(a,d),e.stroke()}}function gm(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function oi(e,t,n,i,s,r={}){const o=Yt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let c,h;for(e.save(),e.font=s.string,dm(e,r),c=0;c<o.length;++c)h=o[c],r.backdrop&&gm(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),bt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(h,n,i,r.maxWidth)),e.fillText(h,n,i,r.maxWidth),pm(e,n,i,h,r),i+=Number(s.lineHeight);e.restore()}function ys(e,t){const{x:n,y:i,w:s,h:r,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*St,St,!0),e.lineTo(n,i+r-o.bottomLeft),e.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,St,$t,!0),e.lineTo(n+s-o.bottomRight,i+r),e.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,$t,0,!0),e.lineTo(n+s,i+o.topRight),e.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-$t,!0),e.lineTo(n+o.topLeft,i)}const mm=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ym=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function bm(e,t){const n=(""+e).match(mm);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const _m=e=>+e||0;function sl(e,t){const n={},i=_t(t),s=i?Object.keys(t):t,r=_t(e)?i?o=>ut(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=_m(r(o));return n}function qh(e){return sl(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ni(e){return sl(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ce(e){const t=qh(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Gt(e,t){e=e||{},t=t||Wt.font;let n=ut(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=ut(e.style,t.style);i&&!(""+i).match(ym)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ut(e.family,t.family),lineHeight:bm(ut(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:ut(e.weight,t.weight),string:""};return s.string=cm(s),s}function ss(e,t,n,i){let s,r,o;for(s=0,r=e.length;s<r;++s)if(o=e[s],o!==void 0&&o!==void 0)return o}function vm(e,t,n){const{min:i,max:s}=e,r=Ih(t,(s-i)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Rn(e,t){return Object.assign(Object.create(e),t)}function rl(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=Qh("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>rl([a,...e],t,r,i)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete e[0][c],!0},get(a,c){return Xh(a,c,()=>Pm(c,t,e,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,c){return $c(a).includes(c)},ownKeys(a){return $c(a)},set(a,c,h){const d=a._storage||(a._storage=s());return a[c]=d[c]=h,delete a._keys,!0}})}function Ti(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Gh(e,i),setContext:r=>Ti(e,r,n,i),override:r=>Ti(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return Xh(r,o,()=>wm(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function Gh(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:An(n)?n:()=>n,isIndexable:An(i)?i:()=>i}}const xm=(e,t)=>e?e+Ja(t):t,ol=(e,t)=>_t(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Xh(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function wm(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=e;let a=i[t];return An(a)&&o.isScriptable(t)&&(a=km(t,a,e,n)),Yt(a)&&a.length&&(a=Sm(t,a,e,o.isIndexable)),ol(t,a)&&(a=Ti(a,s,r&&r[t],o)),a}function km(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let c=t(r,o||i);return a.delete(e),ol(e,c)&&(c=al(s._scopes,s,e,c)),c}function Sm(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(_t(t[0])){const c=t,h=s._scopes.filter(d=>d!==c);t=[];for(const d of c){const g=al(h,s,e,d);t.push(Ti(g,r,o&&o[e],a))}}return t}function Zh(e,t,n){return An(e)?e(t,n):e}const Mm=(e,t)=>e===!0?t:typeof e=="string"?Cn(t,e):void 0;function Om(e,t,n,i,s){for(const r of t){const o=Mm(n,r);if(o){e.add(o);const a=Zh(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function al(e,t,n,i){const s=t._rootScopes,r=Zh(t._fallback,n,i),o=[...e,...s],a=new Set;a.add(i);let c=Uc(a,o,n,r||n,i);return c===null||typeof r<"u"&&r!==n&&(c=Uc(a,o,r,c,i),c===null)?!1:rl(Array.from(a),[""],s,r,()=>Dm(t,n,i))}function Uc(e,t,n,i,s){for(;n;)n=Om(e,t,n,i,s);return n}function Dm(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return Yt(s)&&_t(n)?n:s||{}}function Pm(e,t,n,i){let s;for(const r of t)if(s=Qh(xm(r,e),n),typeof s<"u")return ol(e,s)?al(n,i,e,s):s}function Qh(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function $c(e){let t=e._keys;return t||(t=e._keys=Tm(e._scopes)),t}function Tm(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function Jh(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,o=new Array(i);let a,c,h,d;for(a=0,c=i;a<c;++a)h=a+n,d=t[h],o[a]={r:s.parse(Cn(d,r),h)};return o}const Cm=Number.EPSILON||1e-14,Ci=(e,t)=>t<e.length&&!e[t].skip&&e[t],tf=e=>e==="x"?"y":"x";function Am(e,t,n,i){const s=e.skip?t:e,r=t,o=n.skip?t:n,a=Da(r,s),c=Da(o,r);let h=a/(a+c),d=c/(a+c);h=isNaN(h)?0:h,d=isNaN(d)?0:d;const g=i*h,y=i*d;return{previous:{x:r.x-g*(o.x-s.x),y:r.y-g*(o.y-s.y)},next:{x:r.x+y*(o.x-s.x),y:r.y+y*(o.y-s.y)}}}function Rm(e,t,n){const i=e.length;let s,r,o,a,c,h=Ci(e,0);for(let d=0;d<i-1;++d)if(c=h,h=Ci(e,d+1),!(!c||!h)){if(ls(t[d],0,Cm)){n[d]=n[d+1]=0;continue}s=n[d]/t[d],r=n[d+1]/t[d],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=s*o*t[d],n[d+1]=r*o*t[d])}}function Em(e,t,n="x"){const i=tf(n),s=e.length;let r,o,a,c=Ci(e,0);for(let h=0;h<s;++h){if(o=a,a=c,c=Ci(e,h+1),!a)continue;const d=a[n],g=a[i];o&&(r=(d-o[n])/3,a[`cp1${n}`]=d-r,a[`cp1${i}`]=g-r*t[h]),c&&(r=(c[n]-d)/3,a[`cp2${n}`]=d+r,a[`cp2${i}`]=g+r*t[h])}}function Lm(e,t="x"){const n=tf(t),i=e.length,s=Array(i).fill(0),r=Array(i);let o,a,c,h=Ci(e,0);for(o=0;o<i;++o)if(a=c,c=h,h=Ci(e,o+1),!!c){if(h){const d=h[t]-c[t];s[o]=d!==0?(h[n]-c[n])/d:0}r[o]=a?h?Ye(s[o-1])!==Ye(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}Rm(e,s,r),Em(e,r,t)}function cr(e,t,n){return Math.max(Math.min(e,n),t)}function Fm(e,t){let n,i,s,r,o,a=Je(e[0],t);for(n=0,i=e.length;n<i;++n)o=r,r=a,a=n<i-1&&Je(e[n+1],t),r&&(s=e[n],o&&(s.cp1x=cr(s.cp1x,t.left,t.right),s.cp1y=cr(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=cr(s.cp2x,t.left,t.right),s.cp2y=cr(s.cp2y,t.top,t.bottom)))}function Im(e,t,n,i,s){let r,o,a,c;if(t.spanGaps&&(e=e.filter(h=>!h.skip)),t.cubicInterpolationMode==="monotone")Lm(e,s);else{let h=i?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],c=Am(h,a,e[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,h=a}t.capBezierPoints&&Fm(e,n)}function ll(){return typeof window<"u"&&typeof document<"u"}function cl(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Lr(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Xr=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Nm(e,t){return Xr(e).getPropertyValue(t)}const Ym=["top","right","bottom","left"];function ii(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=Ym[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Wm=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function Bm(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let o=!1,a,c;if(Wm(s,r,e.target))a=s,c=r;else{const h=t.getBoundingClientRect();a=i.clientX-h.left,c=i.clientY-h.top,o=!0}return{x:a,y:c,box:o}}function Zn(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Xr(n),r=s.boxSizing==="border-box",o=ii(s,"padding"),a=ii(s,"border","width"),{x:c,y:h,box:d}=Bm(e,n),g=o.left+(d&&a.left),y=o.top+(d&&a.top);let{width:_,height:x}=t;return r&&(_-=o.width+a.width,x-=o.height+a.height),{x:Math.round((c-g)/_*n.width/i),y:Math.round((h-y)/x*n.height/i)}}function jm(e,t,n){let i,s;if(t===void 0||n===void 0){const r=e&&cl(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=Xr(r),c=ii(a,"border","width"),h=ii(a,"padding");t=o.width-h.width-c.width,n=o.height-h.height-c.height,i=Lr(a.maxWidth,r,"clientWidth"),s=Lr(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||Rr,maxHeight:s||Rr}}const ur=e=>Math.round(e*10)/10;function zm(e,t,n,i){const s=Xr(e),r=ii(s,"margin"),o=Lr(s.maxWidth,e,"clientWidth")||Rr,a=Lr(s.maxHeight,e,"clientHeight")||Rr,c=jm(e,t,n);let{width:h,height:d}=c;if(s.boxSizing==="content-box"){const y=ii(s,"border","width"),_=ii(s,"padding");h-=_.width+y.width,d-=_.height+y.height}return h=Math.max(0,h-r.width),d=Math.max(0,i?h/i:d-r.height),h=ur(Math.min(h,o,c.maxWidth)),d=ur(Math.min(d,a,c.maxHeight)),h&&!d&&(d=ur(h/2)),(t!==void 0||n!==void 0)&&i&&c.height&&d>c.height&&(d=c.height,h=ur(Math.floor(d*i))),{width:h,height:d}}function qc(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(e.currentDevicePixelRatio=i,o.height=s,o.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Vm=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ll()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Gc(e,t){const n=Nm(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Qn(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Hm(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function Km(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=Qn(e,s,n),a=Qn(s,r,n),c=Qn(r,t,n),h=Qn(o,a,n),d=Qn(a,c,n);return Qn(h,d,n)}const Um=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},$m=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function wi(e,t,n){return e?Um(t,n):$m()}function ef(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function nf(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function sf(e){return e==="angle"?{between:ms,compare:qg,normalize:oe}:{between:Ze,compare:(t,n)=>t-n,normalize:t=>t}}function Xc({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function qm(e,t,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=sf(i),c=t.length;let{start:h,end:d,loop:g}=e,y,_;if(g){for(h+=c,d+=c,y=0,_=c;y<_&&o(a(t[h%c][i]),s,r);++y)h--,d--;h%=c,d%=c}return d<h&&(d+=c),{start:h,end:d,loop:g,style:e.style}}function rf(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,o=t.length,{compare:a,between:c,normalize:h}=sf(i),{start:d,end:g,loop:y,style:_}=qm(e,t,n),x=[];let w=!1,M=null,L,Y,V;const z=()=>c(s,V,L)&&a(s,V)!==0,B=()=>a(r,L)===0||c(r,V,L),$=()=>w||z(),j=()=>!w||B();for(let q=d,tt=d;q<=g;++q)Y=t[q%o],!Y.skip&&(L=h(Y[i]),L!==V&&(w=c(L,s,r),M===null&&$()&&(M=a(L,s)===0?q:tt),M!==null&&j()&&(x.push(Xc({start:M,end:q,loop:y,count:o,style:_})),M=null),tt=q,V=L));return M!==null&&x.push(Xc({start:M,end:g,loop:y,count:o,style:_})),x}function of(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=rf(i[s],e.points,t);r.length&&n.push(...r)}return n}function Gm(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function Xm(e,t,n,i){const s=e.length,r=[];let o=t,a=e[t],c;for(c=t+1;c<=n;++c){const h=e[c%s];h.skip||h.stop?a.skip||(i=!1,r.push({start:t%s,end:(c-1)%s,loop:i}),t=o=h.stop?c:null):(o=c,a.skip&&(t=c)),a=h}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function Zm(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:o,end:a}=Gm(n,s,r,i);if(i===!0)return Zc(e,[{start:o,end:a,loop:r}],n,t);const c=a<o?a+s:a,h=!!e._fullLoop&&o===0&&a===s-1;return Zc(e,Xm(n,o,c,h),n,t)}function Zc(e,t,n,i){return!i||!i.setContext||!n?t:Qm(e,t,n,i)}function Qm(e,t,n,i){const s=e._chart.getContext(),r=Qc(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,c=n.length,h=[];let d=r,g=t[0].start,y=g;function _(x,w,M,L){const Y=a?-1:1;if(x!==w){for(x+=c;n[x%c].skip;)x-=Y;for(;n[w%c].skip;)w+=Y;x%c!==w%c&&(h.push({start:x%c,end:w%c,loop:M,style:L}),d=L,g=w%c)}}for(const x of t){g=a?g:x.start;let w=n[g%c],M;for(y=g+1;y<=x.end;y++){const L=n[y%c];M=Qc(i.setContext(Rn(s,{type:"segment",p0:w,p1:L,p0DataIndex:(y-1)%c,p1DataIndex:y%c,datasetIndex:o}))),Jm(M,d)&&_(g,y-1,x.loop,d),w=L,d=M}g<y-1&&_(g,y-1,x.loop,d)}return h}function Qc(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Jm(e,t){if(!t)return!1;const n=[],i=function(s,r){return il(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function hr(e,t,n){return e.options.clip?e[n]:t[n]}function ty(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:hr(n,t,"left"),right:hr(n,t,"right"),top:hr(i,t,"top"),bottom:hr(i,t,"bottom")}:t}function af(e,t){const n=t._clip;if(n.disabled)return!1;const i=ty(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ey{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=zh.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ue=new ey;const Jc="transparent",ny={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=Vc(e||Jc),s=i.valid&&Vc(t||Jc);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class iy{constructor(t,n,i,s){const r=n[i];s=ss([t.to,s,r,t.from]);const o=ss([t.from,r,s]);this._active=!0,this._fn=t.fn||ny[t.type||typeof o],this._easing=cs[t.easing]||cs.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=ss([t.to,n,s,t.from]),this._from=ss([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let c;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}c=n/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(r,a,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class lf{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!_t(t))return;const n=Object.keys(Wt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!_t(r))return;const o={};for(const a of n)o[a]=r[a];(Yt(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,s=ry(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&sy(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const h=o[c];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(t,n));continue}const d=n[h];let g=r[h];const y=i.get(h);if(g)if(y&&g.active()){g.update(y,d,a);continue}else g.cancel();if(!y||!y.duration){t[h]=d;continue}r[h]=g=new iy(y,t,h,d),s.push(g)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Ue.add(this._chart,i),!0}}function sy(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function ry(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function tu(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function oy(e,t,n){if(n===!1)return!1;const i=tu(e,n),s=tu(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function ay(e){let t,n,i,s;return _t(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function cf(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function eu(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let o,a,c,h;if(t===null)return;let d=!1;for(o=0,a=s.length;o<a;++o){if(c=+s[o],c===n){if(d=!0,i.all)continue;break}h=e.values[c],Vt(h)&&(r||t===0||Ye(t)===Ye(h))&&(t+=h)}return!d&&!i.all?0:t}function ly(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let c,h,d;for(c=0,h=o.length;c<h;++c)d=o[c],a[c]={[s]:d,[r]:e[d]};return a}function na(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function cy(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function uy(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function hy(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function nu(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function iu(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,c=r.axis,h=o.axis,d=cy(r,o,i),g=t.length;let y;for(let _=0;_<g;++_){const x=t[_],{[c]:w,[h]:M}=x,L=x._stacks||(x._stacks={});y=L[h]=hy(s,d,w),y[a]=M,y._top=nu(y,o,!0,i.type),y._bottom=nu(y,o,!1,i.type);const Y=y._visualValues||(y._visualValues={});Y[a]=M}}function ia(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function fy(e,t){return Rn(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function dy(e,t,n){return Rn(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Gi(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const sa=e=>e==="reset"||e==="none",su=(e,t)=>t?e:Object.assign({},e),py=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:cf(n,!0),values:null};class En{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=na(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Gi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(g,y,_,x)=>g==="x"?y:g==="r"?x:_,r=n.xAxisID=ut(i.xAxisID,ia(t,"x")),o=n.yAxisID=ut(i.yAxisID,ia(t,"y")),a=n.rAxisID=ut(i.rAxisID,ia(t,"r")),c=n.indexAxis,h=n.iAxisID=s(c,r,o,a),d=n.vAxisID=s(c,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Bc(this._data,this),t._stacked&&Gi(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(_t(n)){const s=this._cachedMeta;this._data=ly(n,s)}else if(i!==n){if(i){Bc(i,this);const s=this._cachedMeta;Gi(s),s._parsed=[]}n&&Object.isExtensible(n)&&Qg(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=na(n.vScale,n),n.stack!==i.stack&&(s=!0,Gi(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&(iu(this,n._parsed),n._stacked=na(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let c=t===0&&n===s.length?!0:i._sorted,h=t>0&&i._parsed[t-1],d,g,y;if(this._parsing===!1)i._parsed=s,i._sorted=!0,y=s;else{Yt(s[t])?y=this.parseArrayData(i,s,t,n):_t(s[t])?y=this.parseObjectData(i,s,t,n):y=this.parsePrimitiveData(i,s,t,n);const _=()=>g[a]===null||h&&g[a]<h[a];for(d=0;d<n;++d)i._parsed[d+t]=g=y[d],c&&(_()&&(c=!1),h=g);i._sorted=c}o&&iu(this,y)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:o}=t,a=r.axis,c=o.axis,h=r.getLabels(),d=r===o,g=new Array(s);let y,_,x;for(y=0,_=s;y<_;++y)x=y+i,g[y]={[a]:d||r.parse(h[x],x),[c]:o.parse(n[x],x)};return g}parseArrayData(t,n,i,s){const{xScale:r,yScale:o}=t,a=new Array(s);let c,h,d,g;for(c=0,h=s;c<h;++c)d=c+i,g=n[d],a[c]={x:r.parse(g[0],d),y:o.parse(g[1],d)};return a}parseObjectData(t,n,i,s){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,h=new Array(s);let d,g,y,_;for(d=0,g=s;d<g;++d)y=d+i,_=n[y],h[d]={x:r.parse(Cn(_,a),y),y:o.parse(Cn(_,c),y)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:cf(s,!0),values:n._stacks[t.axis]._visualValues};return eu(a,o,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=eu(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),c=py(n,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:g}=uy(a);let y,_;function x(){_=s[y];const w=_[a.axis];return!Vt(_[t.axis])||d>w||g<w}for(y=0;y<o&&!(!x()&&(this.updateRangeFromParsed(h,t,_,c),r));++y);if(r){for(y=o-1;y>=0;--y)if(!x()){this.updateRangeFromParsed(h,t,_,c);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][t.axis],Vt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=ay(ut(this.options.clip,oy(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||s.length-a,h=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(t,r,a,c),d=a;d<a+c;++d){const g=s[d];g.hidden||(g.active&&h?o.push(g):g.draw(t,r))}for(d=0;d<o.length;++d)o[d].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=dy(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=fy(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],c=this.enableOptionSharing&&gs(i);if(a)return su(a,c);const h=this.chart.config,d=h.datasetElementScopeKeys(this._type,t),g=s?[`${t}Hover`,"hover",t,""]:[t,""],y=h.getOptionScopes(this.getDataset(),d),_=Object.keys(Wt.elements[t]),x=()=>this.getContext(i,s,n),w=h.resolveNamedOptions(y,_,x,g);return w.$shared&&(w.$shared=c,r[o]=Object.freeze(su(w,c))),w}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let c;if(s.options.animation!==!1){const d=this.chart.config,g=d.datasetAnimationScopeKeys(this._type,n),y=d.getOptionScopes(this.getDataset(),g);c=d.createResolver(y,this.getContext(t,i,n))}const h=new lf(s,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||sa(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(t,n,i,s){sa(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!sa(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,c,h]of this._syncList)this[a](c,h);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,o=t+n;let a;const c=h=>{for(h.length+=n,a=h.length-1;a>=o;a--)h[a]=h[a-n]};for(c(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Gi(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function gy(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=jh(i.sort((s,r)=>s-r))}return e._cache.$bar}function my(e){const t=e.iScale,n=gy(t,e.type);let i=t._length,s,r,o,a;const c=()=>{o===32767||o===-32768||(gs(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=t.getPixelForValue(n[s]),c();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),c();return i}function yy(e,t,n,i){const s=n.barThickness;let r,o;return bt(s)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[e]-r/2}}function by(e,t,n,i){const s=t.pixels,r=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const c=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const h=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/i,ratio:n.barPercentage,start:h}}function _y(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),o=Math.min(s,r),a=Math.max(s,r);let c=o,h=a;Math.abs(o)>Math.abs(a)&&(c=a,h=o),t[n.axis]=h,t._custom={barStart:c,barEnd:h,start:s,end:r,min:o,max:a}}function uf(e,t,n,i){return Yt(e)?_y(e,t,n,i):t[n.axis]=n.parse(e,i),t}function ru(e,t,n,i){const s=e.iScale,r=e.vScale,o=s.getLabels(),a=s===r,c=[];let h,d,g,y;for(h=n,d=n+i;h<d;++h)y=t[h],g={},g[s.axis]=a||s.parse(o[h],h),c.push(uf(y,g,r,h));return c}function ra(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function vy(e,t,n){return e!==0?Ye(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function xy(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function wy(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:h,bottom:d}=xy(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=h:(n._bottom||0)===i?s=d:(r[ou(d,o,a,c)]=!0,s=h)),r[ou(s,o,a,c)]=!0,e.borderSkipped=r}function ou(e,t,n,i){return i?(e=ky(e,t,n),e=au(e,n,t)):e=au(e,t,n),e}function ky(e,t,n){return e===t?n:e===n?t:e}function au(e,t,n){return e==="start"?t:e==="end"?n:e}function Sy(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class My extends En{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,i,s){return ru(t,n,i,s)}parseArrayData(t,n,i,s){return ru(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,h=r.axis==="x"?a:c,d=o.axis==="x"?a:c,g=[];let y,_,x,w;for(y=i,_=i+s;y<_;++y)w=n[y],x={},x[r.axis]=r.parse(Cn(w,h),y),g.push(uf(Cn(w,d),x,o,y));return g}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),o=r._custom,a=ra(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),h=a.isHorizontal(),d=this._getRuler(),{sharedOptions:g,includeOptions:y}=this._getSharedOptions(n,s);for(let _=n;_<n+i;_++){const x=this.getParsed(_),w=r||bt(x[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(_),M=this._calculateBarIndexPixels(_,d),L=(x._stacks||{})[a.axis],Y={horizontal:h,base:w.base,enableBorderRadius:!L||ra(x._custom)||o===L._top||o===L._bottom,x:h?w.head:M.center,y:h?M.center:w.head,height:h?M.size:Math.abs(w.size),width:h?Math.abs(w.size):M.size};y&&(Y.options=g||this.resolveDataElementOptions(_,t[_].active?"active":s));const V=Y.options||t[_].options;wy(Y,V,L,o),Sy(Y,V,d.ratio),this.updateElement(t[_],_,Y,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),c=a&&a[i.axis],h=d=>{const g=d._parsed.find(_=>_[i.axis]===c),y=g&&g[d.vScale.axis];if(bt(y)||isNaN(y))return!0};for(const d of s)if(!(n!==void 0&&h(d))&&((r===!1||o.indexOf(d.stack)===-1||r===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[ut(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||my(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,c=this.getParsed(t),h=c._custom,d=ra(h);let g=c[n.axis],y=0,_=i?this.applyStack(n,c,i):g,x,w;_!==g&&(y=_-g,_=g),d&&(g=h.barStart,_=h.barEnd-h.barStart,g!==0&&Ye(g)!==Ye(h.barEnd)&&(y=0),y+=g);const M=!bt(r)&&!d?r:y;let L=n.getPixelForValue(M);if(this.chart.getDataVisibility(t)?x=n.getPixelForValue(y+_):x=L,w=x-L,Math.abs(w)<o){w=vy(w,n,a)*o,g===a&&(L-=w/2);const Y=n.getPixelForDecimal(0),V=n.getPixelForDecimal(1),z=Math.min(Y,V),B=Math.max(Y,V);L=Math.max(Math.min(L,B),z),x=L+w,i&&!d&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(x)-n.getValueForPixel(L))}if(L===n.getPixelForValue(a)){const Y=Ye(w)*n.getLineWidthForValue(a)/2;L+=Y,w-=Y}return{size:w,base:L,head:x,center:x+w/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,o=ut(s.maxBarThickness,1/0);let a,c;const h=this._getAxisCount();if(n.grouped){const d=r?this._getStackCount(t):n.stackCount,g=s.barThickness==="flex"?by(t,n,s,d*h):yy(t,n,s,d*h),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(ut(y,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+_;a=g.start+g.chunk*x+g.chunk/2,c=Math.min(o,g.chunk*g.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),c=Math.min(o,n.min*n.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}class Oy extends En{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const r=super.parsePrimitiveData(t,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,n,i,s){const r=super.parseArrayData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=ut(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,n,i,s){const r=super.parseObjectData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=ut(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),c=r.getLabelForValue(o.y),h=o._custom;return{label:i[t]||"",value:"("+a+", "+c+(h?", "+h:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(n,s),d=o.axis,g=a.axis;for(let y=n;y<n+i;y++){const _=t[y],x=!r&&this.getParsed(y),w={},M=w[d]=r?o.getPixelForDecimal(.5):o.getPixelForValue(x[d]),L=w[g]=r?a.getBasePixel():a.getPixelForValue(x[g]);w.skip=isNaN(M)||isNaN(L),h&&(w.options=c||this.resolveDataElementOptions(y,_.active?"active":s),r&&(w.options.radius=0)),this.updateElement(_,y,w,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=ut(i&&i._custom,r),s}}function Dy(e,t,n){let i=1,s=1,r=0,o=0;if(t<Et){const a=e,c=a+t,h=Math.cos(a),d=Math.sin(a),g=Math.cos(c),y=Math.sin(c),_=(V,z,B)=>ms(V,a,c,!0)?1:Math.max(z,z*n,B,B*n),x=(V,z,B)=>ms(V,a,c,!0)?-1:Math.min(z,z*n,B,B*n),w=_(0,h,g),M=_($t,d,y),L=x(St,h,g),Y=x(St+$t,d,y);i=(w-L)/2,s=(M-Y)/2,r=-(w+L)/2,o=-(M+Y)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class ul extends En{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=c=>+i[c];if(_t(i[t])){const{key:c="value"}=this._parsing;r=h=>+Cn(i[h],c)}let o,a;for(o=t,a=t+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return Me(this.options.rotation-90)}_getCircumference(){return Me(this.options.circumference)}_getRotationExtents(){let t=Et,n=-Et;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),c=Math.min(Ng(this.options.cutout,a),1),h=this._getRingWeight(this.index),{circumference:d,rotation:g}=this._getRotationExtents(),{ratioX:y,ratioY:_,offsetX:x,offsetY:w}=Dy(g,d,c),M=(i.width-o)/y,L=(i.height-o)/_,Y=Math.max(Math.min(M,L)/2,0),V=Ih(this.options.radius,Y),z=Math.max(V*c,0),B=(V-z)/this._getVisibleDatasetWeightTotal();this.offsetX=x*V,this.offsetY=w*V,s.total=this.calculateTotal(),this.outerRadius=V-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*h,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/Et)}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,h=o.options.animation,d=(a.left+a.right)/2,g=(a.top+a.bottom)/2,y=r&&h.animateScale,_=y?0:this.innerRadius,x=y?0:this.outerRadius,{sharedOptions:w,includeOptions:M}=this._getSharedOptions(n,s);let L=this._getRotation(),Y;for(Y=0;Y<n;++Y)L+=this._circumference(Y,r);for(Y=n;Y<n+i;++Y){const V=this._circumference(Y,r),z=t[Y],B={x:d+this.offsetX,y:g+this.offsetY,startAngle:L,endAngle:L+V,circumference:V,outerRadius:x,innerRadius:_};M&&(B.options=w||this.resolveDataElementOptions(Y,z.active?"active":s)),L+=V,this.updateElement(z,Y,B,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Et*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Os(n._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,r,o,a,c;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)c=a.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(ut(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Py extends En{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:c}=Hh(n,s,o);this._drawStart=a,this._drawCount=c,Kh(n)&&(a=0,c=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:h},t),this.updateElements(s,a,c,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:h}=this._cachedMeta,{sharedOptions:d,includeOptions:g}=this._getSharedOptions(n,s),y=o.axis,_=a.axis,{spanGaps:x,segment:w}=this.options,M=Pi(x)?x:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||r||s==="none",Y=n+i,V=t.length;let z=n>0&&this.getParsed(n-1);for(let B=0;B<V;++B){const $=t[B],j=L?$:{};if(B<n||B>=Y){j.skip=!0;continue}const q=this.getParsed(B),tt=bt(q[_]),st=j[y]=o.getPixelForValue(q[y],B),rt=j[_]=r||tt?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,q,c):q[_],B);j.skip=isNaN(st)||isNaN(rt)||tt,j.stop=B>0&&Math.abs(q[y]-z[y])>M,w&&(j.parsed=q,j.raw=h.data[B]),g&&(j.options=d||this.resolveDataElementOptions(B,$.active?"active":s)),L||this.updateElement($,B,j,s),z=q}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class hf extends En{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Os(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,i,s){return Jh.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,c=o.options.animation,h=this._cachedMeta.rScale,d=h.xCenter,g=h.yCenter,y=h.getIndexAngle(0)-.5*St;let _=y,x;const w=360/this.countVisibleElements();for(x=0;x<n;++x)_+=this._computeAngle(x,s,w);for(x=n;x<n+i;x++){const M=t[x];let L=_,Y=_+this._computeAngle(x,s,w),V=o.getDataVisibility(x)?h.getDistanceFromCenterForValue(this.getParsed(x).r):0;_=Y,r&&(c.animateScale&&(V=0),c.animateRotate&&(L=Y=y));const z={x:d,y:g,innerRadius:0,outerRadius:V,startAngle:L,endAngle:Y,options:this.resolveDataElementOptions(x,M.active?"active":s)};this.updateElement(M,x,z,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?Me(this.resolveDataElementOptions(t,n).angle||i):0}}class Ty extends ul{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Cy extends En{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return Jh.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const c=t[a],h=this.resolveDataElementOptions(a,c.active?"active":s),d=r.getPointPositionForValue(a,this.getParsed(a).r),g=o?r.xCenter:d.x,y=o?r.yCenter:d.y,_={x:g,y,angle:d.angle,skip:isNaN(g)||isNaN(y),options:h};this.updateElement(c,a,_,s)}}}class Ay extends En{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),c=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+c+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=Hh(n,i,s);if(this._drawStart=r,this._drawCount=o,Kh(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:c}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!c._decimated,a.points=i;const h=this.resolveDatasetElementOptions(t);h.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:h},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:h}=this._cachedMeta,d=this.resolveDataElementOptions(n,s),g=this.getSharedOptions(d),y=this.includeOptions(s,g),_=o.axis,x=a.axis,{spanGaps:w,segment:M}=this.options,L=Pi(w)?w:Number.POSITIVE_INFINITY,Y=this.chart._animationsDisabled||r||s==="none";let V=n>0&&this.getParsed(n-1);for(let z=n;z<n+i;++z){const B=t[z],$=this.getParsed(z),j=Y?B:{},q=bt($[x]),tt=j[_]=o.getPixelForValue($[_],z),st=j[x]=r||q?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,$,c):$[x],z);j.skip=isNaN(tt)||isNaN(st)||q,j.stop=z>0&&Math.abs($[_]-V[_])>L,M&&(j.parsed=$,j.raw=h.data[z]),y&&(j.options=g||this.resolveDataElementOptions(z,B.active?"active":s)),Y||this.updateElement(B,z,j,s),V=$}this.updateSharedOptions(g,s,d)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let c=n.length-1;c>=0;--c)a=Math.max(a,n[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}var Ry=Object.freeze({__proto__:null,BarController:My,BubbleController:Oy,DoughnutController:ul,LineController:Py,PieController:Ty,PolarAreaController:hf,RadarController:Cy,ScatterController:Ay});function qn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hl{static override(t){Object.assign(hl.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return qn()}parse(){return qn()}format(){return qn()}add(){return qn()}diff(){return qn()}startOf(){return qn()}endOf(){return qn()}}var ff={_date:hl};function Ey(e,t,n,i){const{controller:s,data:r,_sorted:o}=e,a=s._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const h=a._reversePixels?Xg:Qe;if(i){if(s._sharedOptions){const d=r[0],g=typeof d.getRange=="function"&&d.getRange(t);if(g){const y=h(r,t,n-g),_=h(r,t,n+g);return{lo:y.lo,hi:_.hi}}}}else{const d=h(r,t,n);if(c){const{vScale:g}=s._cachedMeta,{_parsed:y}=e,_=y.slice(0,d.lo+1).reverse().findIndex(w=>!bt(w[g.axis]));d.lo-=Math.max(0,_);const x=y.slice(d.hi).findIndex(w=>!bt(w[g.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:r.length-1}}function Zr(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,c=r.length;a<c;++a){const{index:h,data:d}=r[a],{lo:g,hi:y}=Ey(r[a],t,o,s);for(let _=g;_<=y;++_){const x=d[_];x.skip||i(x,h,_)}}}function Ly(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function oa(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||Zr(e,n,t,function(a,c,h){!s&&!Je(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:c,index:h})},!0),r}function Fy(e,t,n,i){let s=[];function r(o,a,c){const{startAngle:h,endAngle:d}=o.getProps(["startAngle","endAngle"],i),{angle:g}=Wh(o,{x:t.x,y:t.y});ms(g,h,d)&&s.push({element:o,datasetIndex:a,index:c})}return Zr(e,n,t,r),s}function Iy(e,t,n,i,s,r){let o=[];const a=Ly(n);let c=Number.POSITIVE_INFINITY;function h(d,g,y){const _=d.inRange(t.x,t.y,s);if(i&&!_)return;const x=d.getCenterPoint(s);if(!(!!r||e.isPointInArea(x))&&!_)return;const M=a(t,x);M<c?(o=[{element:d,datasetIndex:g,index:y}],c=M):M===c&&o.push({element:d,datasetIndex:g,index:y})}return Zr(e,n,t,h),o}function aa(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?Fy(e,t,n,s):Iy(e,t,n,i,s,r)}function lu(e,t,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Zr(e,n,t,(c,h,d)=>{c[o]&&c[o](t[n],s)&&(r.push({element:c,datasetIndex:h,index:d}),a=a||c.inRange(t.x,t.y,s))}),i&&!a?[]:r}var Ny={modes:{index(e,t,n,i){const s=Zn(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?oa(e,s,r,i,o):aa(e,s,r,!1,i,o),c=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const d=a[0].index,g=h.data[d];g&&!g.skip&&c.push({element:g,datasetIndex:h.index,index:d})}),c):[]},dataset(e,t,n,i){const s=Zn(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?oa(e,s,r,i,o):aa(e,s,r,!1,i,o);if(a.length>0){const c=a[0].datasetIndex,h=e.getDatasetMeta(c).data;a=[];for(let d=0;d<h.length;++d)a.push({element:h[d],datasetIndex:c,index:d})}return a},point(e,t,n,i){const s=Zn(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return oa(e,s,r,i,o)},nearest(e,t,n,i){const s=Zn(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return aa(e,s,r,n.intersect,i,o)},x(e,t,n,i){const s=Zn(t,e);return lu(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Zn(t,e);return lu(e,s,"y",n.intersect,i)}}};const df=["left","top","right","bottom"];function Xi(e,t){return e.filter(n=>n.pos===t)}function cu(e,t){return e.filter(n=>df.indexOf(n.pos)===-1&&n.box.axis===t)}function Zi(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function Yy(e){const t=[];let n,i,s,r,o,a;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function Wy(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!df.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function By(e,t){const n=Wy(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:c}=a.box,h=n[a.stack],d=h&&a.stackWeight/h.weight;a.horizontal?(a.width=d?d*i:c&&t.availableWidth,a.height=s):(a.width=i,a.height=d?d*s:c&&t.availableHeight)}return n}function jy(e){const t=Yy(e),n=Zi(t.filter(h=>h.box.fullSize),!0),i=Zi(Xi(t,"left"),!0),s=Zi(Xi(t,"right")),r=Zi(Xi(t,"top"),!0),o=Zi(Xi(t,"bottom")),a=cu(t,"x"),c=cu(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(c).concat(o).concat(a),chartArea:Xi(t,"chartArea"),vertical:i.concat(s).concat(c),horizontal:r.concat(o).concat(a)}}function uu(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function pf(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function zy(e,t,n,i){const{pos:s,box:r}=n,o=e.maxPadding;if(!_t(s)){n.size&&(e[s]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?r.height:r.width),n.size=g.size/g.count,e[s]+=n.size}r.getPadding&&pf(o,r.getPadding());const a=Math.max(0,t.outerWidth-uu(o,e,"left","right")),c=Math.max(0,t.outerHeight-uu(o,e,"top","bottom")),h=a!==e.w,d=c!==e.h;return e.w=a,e.h=c,n.horizontal?{same:h,other:d}:{same:d,other:h}}function Vy(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Hy(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return i(e?["left","right"]:["top","bottom"])}function rs(e,t,n,i){const s=[];let r,o,a,c,h,d;for(r=0,o=e.length,h=0;r<o;++r){a=e[r],c=a.box,c.update(a.width||t.w,a.height||t.h,Hy(a.horizontal,t));const{same:g,other:y}=zy(t,n,a,i);h|=g&&s.length,d=d||y,c.fullSize||s.push(a)}return h&&rs(s,t,n,i)||d}function fr(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function hu(e,t,n,i){const s=n.padding;let{x:r,y:o}=t;for(const a of e){const c=a.box,h=i[a.stack]||{placed:0,weight:1},d=a.stackWeight/h.weight||1;if(a.horizontal){const g=t.w*d,y=h.size||c.height;gs(h.start)&&(o=h.start),c.fullSize?fr(c,s.left,o,n.outerWidth-s.right-s.left,y):fr(c,t.left+h.placed,o,g,y),h.start=o,h.placed+=g,o=c.bottom}else{const g=t.h*d,y=h.size||c.width;gs(h.start)&&(r=h.start),c.fullSize?fr(c,r,s.top,y,n.outerHeight-s.bottom-s.top):fr(c,r,t.top+h.placed,y,g),h.start=r,h.placed+=g,r=c.right}}t.x=r,t.y=o}var ae={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=ce(e.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=jy(e.boxes),c=a.vertical,h=a.horizontal;Dt(e.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const d=c.reduce((w,M)=>M.box.options&&M.box.options.display===!1?w:w+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),y=Object.assign({},s);pf(y,ce(i));const _=Object.assign({maxPadding:y,w:r,h:o,x:s.left,y:s.top},s),x=By(c.concat(h),g);rs(a.fullSize,_,g,x),rs(c,_,g,x),rs(h,_,g,x)&&rs(c,_,g,x),Vy(_),hu(a.leftAndTop,_,g,x),_.x+=_.w,_.y+=_.h,hu(a.rightAndBottom,_,g,x),e.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Dt(a.chartArea,w=>{const M=w.box;Object.assign(M,e.chartArea),M.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class gf{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class Ky extends gf{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const wr="$chartjs",Uy={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fu=e=>e===null||e==="";function $y(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[wr]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",fu(s)){const r=Gc(e,"width");r!==void 0&&(e.width=r)}if(fu(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=Gc(e,"height");r!==void 0&&(e.height=r)}return e}const mf=Vm?{passive:!0}:!1;function qy(e,t,n){e&&e.addEventListener(t,n,mf)}function Gy(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,mf)}function Xy(e,t){const n=Uy[e.type]||e.type,{x:i,y:s}=Zn(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Fr(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Zy(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Fr(a.addedNodes,i),o=o&&!Fr(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function Qy(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Fr(a.removedNodes,i),o=o&&!Fr(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const bs=new Map;let du=0;function yf(){const e=window.devicePixelRatio;e!==du&&(du=e,bs.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Jy(e,t){bs.size||window.addEventListener("resize",yf),bs.set(e,t)}function tb(e){bs.delete(e),bs.size||window.removeEventListener("resize",yf)}function eb(e,t,n){const i=e.canvas,s=i&&cl(i);if(!s)return;const r=Vh((a,c)=>{const h=s.clientWidth;n(a,c),h<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],h=c.contentRect.width,d=c.contentRect.height;h===0&&d===0||r(h,d)});return o.observe(s),Jy(e,r),o}function la(e,t,n){n&&n.disconnect(),t==="resize"&&tb(e)}function nb(e,t,n){const i=e.canvas,s=Vh(r=>{e.ctx!==null&&n(Xy(r,e))},e);return qy(i,t,s),s}class ib extends gf{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?($y(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[wr])return!1;const i=n[wr].initial;["height","width"].forEach(r=>{const o=i[r];bt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[wr],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:Zy,detach:Qy,resize:eb}[n]||nb;s[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:la,detach:la,resize:la}[n]||Gy)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return zm(t,n,i,s)}isAttached(t){const n=t&&cl(t);return!!(n&&n.isConnected)}}function sb(e){return!ll()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Ky:ib}class on{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Pi(this.x)&&Pi(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}function rb(e,t){const n=e.options.ticks,i=ob(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?lb(t):[],o=r.length,a=r[0],c=r[o-1],h=[];if(o>s)return cb(t,h,r,o/s),h;const d=ab(r,t,s);if(o>0){let g,y;const _=o>1?Math.round((c-a)/(o-1)):null;for(dr(t,h,d,bt(_)?0:a-_,a),g=0,y=o-1;g<y;g++)dr(t,h,d,r[g],r[g+1]);return dr(t,h,d,c,bt(_)?t.length:c+_),h}return dr(t,h,d),h}function ob(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function ab(e,t,n){const i=ub(e),s=t.length/n;if(!i)return Math.max(s,1);const r=Kg(i);for(let o=0,a=r.length-1;o<a;o++){const c=r[o];if(c>s)return c}return Math.max(s,1)}function lb(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function cb(e,t,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===r&&(t.push(e[o]),s++,r=n[s*i])}function dr(e,t,n,i,s){const r=ut(i,0),o=Math.min(ut(s,e.length),e.length);let a=0,c,h,d;for(n=Math.ceil(n),s&&(c=s-i,n=c/Math.floor(c/n)),d=r;d<0;)a++,d=Math.round(r+a*n);for(h=Math.max(r,0);h<o;h++)h===d&&(t.push(e[h]),a++,d=Math.round(r+a*n))}function ub(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const hb=e=>e==="left"?"right":e==="right"?"left":e,pu=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,gu=(e,t)=>Math.min(t||e,e);function mu(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function fb(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,o=e._endPixel,a=1e-6;let c=e.getPixelForTick(s),h;if(!(n&&(i===1?h=Math.max(c-r,o-c):t===0?h=(e.getPixelForTick(1)-c)/2:h=(c-e.getPixelForTick(s-1))/2,c+=s<t?h:-h,c<r-a||c>o+a)))return c}function db(e,t){Dt(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Qi(e){return e.drawTicks?e.tickLength:0}function yu(e,t){if(!e.display)return 0;const n=Gt(e.font,t),i=ce(e.padding);return(Yt(e.text)?e.text.length:1)*n.lineHeight+i.height}function pb(e,t){return Rn(e,{scale:t,type:"scale"})}function gb(e,t,n){return Rn(e,{tick:n,index:t,type:"tick"})}function mb(e,t,n){let i=nl(e);return(n&&t!=="right"||!n&&t==="right")&&(i=hb(i)),i}function yb(e,t,n,i){const{top:s,left:r,bottom:o,right:a,chart:c}=e,{chartArea:h,scales:d}=c;let g=0,y,_,x;const w=o-s,M=a-r;if(e.isHorizontal()){if(_=re(i,r,a),_t(n)){const L=Object.keys(n)[0],Y=n[L];x=d[L].getPixelForValue(Y)+w-t}else n==="center"?x=(h.bottom+h.top)/2+w-t:x=pu(e,n,t);y=a-r}else{if(_t(n)){const L=Object.keys(n)[0],Y=n[L];_=d[L].getPixelForValue(Y)-M+t}else n==="center"?_=(h.left+h.right)/2-M+t:_=pu(e,n,t);x=re(i,o,s),g=n==="left"?-$t:$t}return{titleX:_,titleY:x,maxWidth:y,rotation:g}}class ai extends on{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=ye(t,Number.POSITIVE_INFINITY),n=ye(n,Number.NEGATIVE_INFINITY),i=ye(i,Number.POSITIVE_INFINITY),s=ye(s,Number.NEGATIVE_INFINITY),{min:ye(t,i),max:ye(n,s),minDefined:Vt(t),maxDefined:Vt(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let c=0,h=a.length;c<h;++c)o=a[c].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:ye(n,ye(i,n)),max:ye(i,ye(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){At(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=vm(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?mu(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=rb(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){At(this.options.afterUpdate,[this])}beforeSetDimensions(){At(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){At(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),At(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){At(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=At(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){At(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){At(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=gu(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,c,h;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),g=d.widest.width,y=d.highest.height,_=Jt(this.chart.width-g,0,this.maxWidth);a=t.offset?this.maxWidth/i:_/(i-1),g+6>a&&(a=_/(i-(t.offset?.5:1)),c=this.maxHeight-Qi(t.grid)-n.padding-yu(t.title,this.chart.options.font),h=Math.sqrt(g*g+y*y),o=tl(Math.min(Math.asin(Jt((d.highest.height+6)/a,-1,1)),Math.asin(Jt(c/h,-1,1))-Math.asin(Jt(y/h,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){At(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){At(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=yu(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=Qi(r)+c):(t.height=this.maxHeight,t.width=Qi(r)+c),i.display&&this.ticks.length){const{first:h,last:d,widest:g,highest:y}=this._getLabelSizes(),_=i.padding*2,x=Me(this.labelRotation),w=Math.cos(x),M=Math.sin(x);if(a){const L=i.mirror?0:M*g.width+w*y.height;t.height=Math.min(this.maxHeight,t.height+L+_)}else{const L=i.mirror?0:w*g.width+M*y.height;t.width=Math.min(this.maxWidth,t.width+L+_)}this._calculatePadding(h,d,M,w)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,h=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,_=0;c?h?(y=s*t.width,_=i*n.height):(y=i*t.height,_=s*n.width):r==="start"?_=n.width:r==="end"?y=t.width:r!=="inner"&&(y=t.width/2,_=n.width/2),this.paddingLeft=Math.max((y-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((_-g+o)*this.width/(this.width-g),0)}else{let d=n.height/2,g=t.height/2;r==="start"?(d=0,g=t.height):r==="end"&&(d=n.height,g=0),this.paddingTop=d+o,this.paddingBottom=g+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){At(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)bt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=mu(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(n/gu(n,i));let h=0,d=0,g,y,_,x,w,M,L,Y,V,z,B;for(g=0;g<n;g+=c){if(x=t[g].label,w=this._resolveTickFontOptions(g),s.font=M=w.string,L=r[M]=r[M]||{data:{},gc:[]},Y=w.lineHeight,V=z=0,!bt(x)&&!Yt(x))V=Er(s,L.data,L.gc,V,x),z=Y;else if(Yt(x))for(y=0,_=x.length;y<_;++y)B=x[y],!bt(B)&&!Yt(B)&&(V=Er(s,L.data,L.gc,V,B),z+=Y);o.push(V),a.push(z),h=Math.max(V,h),d=Math.max(z,d)}db(r,n);const $=o.indexOf(h),j=a.indexOf(d),q=tt=>({width:o[tt]||0,height:a[tt]||0});return{first:q(0),last:q(n-1),widest:q($),highest:q(j),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Gg(this._alignToPixels?$n(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=gb(this.getContext(),t,i))}return this.$context||(this.$context=pb(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Me(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*i>a*s?a/i:c/s:c*s<a*i?c/i:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,c=r.offset,h=this.isHorizontal(),g=this.ticks.length+(c?1:0),y=Qi(r),_=[],x=a.setContext(this.getContext()),w=x.display?x.width:0,M=w/2,L=function(Pt){return $n(i,Pt,w)};let Y,V,z,B,$,j,q,tt,st,rt,ct,yt;if(o==="top")Y=L(this.bottom),j=this.bottom-y,tt=Y-M,rt=L(t.top)+M,yt=t.bottom;else if(o==="bottom")Y=L(this.top),rt=t.top,yt=L(t.bottom)-M,j=Y+M,tt=this.top+y;else if(o==="left")Y=L(this.right),$=this.right-y,q=Y-M,st=L(t.left)+M,ct=t.right;else if(o==="right")Y=L(this.left),st=t.left,ct=L(t.right)-M,$=Y+M,q=this.left+y;else if(n==="x"){if(o==="center")Y=L((t.top+t.bottom)/2+.5);else if(_t(o)){const Pt=Object.keys(o)[0],jt=o[Pt];Y=L(this.chart.scales[Pt].getPixelForValue(jt))}rt=t.top,yt=t.bottom,j=Y+M,tt=j+y}else if(n==="y"){if(o==="center")Y=L((t.left+t.right)/2);else if(_t(o)){const Pt=Object.keys(o)[0],jt=o[Pt];Y=L(this.chart.scales[Pt].getPixelForValue(jt))}$=Y-M,q=$-y,st=t.left,ct=t.right}const Bt=ut(s.ticks.maxTicksLimit,g),dt=Math.max(1,Math.ceil(g/Bt));for(V=0;V<g;V+=dt){const Pt=this.getContext(V),jt=r.setContext(Pt),qt=a.setContext(Pt),zt=jt.lineWidth,ee=jt.color,cn=qt.dash||[],un=qt.dashOffset,_e=jt.tickWidth,Ce=jt.tickColor,Ae=jt.tickBorderDash||[],he=jt.tickBorderDashOffset;z=fb(this,V,c),z!==void 0&&(B=$n(i,z,zt),h?$=q=st=ct=B:j=tt=rt=yt=B,_.push({tx1:$,ty1:j,tx2:q,ty2:tt,x1:st,y1:rt,x2:ct,y2:yt,width:zt,color:ee,borderDash:cn,borderDashOffset:un,tickWidth:_e,tickColor:Ce,tickBorderDash:Ae,tickBorderDashOffset:he}))}return this._ticksLength=g,this._borderValue=Y,_}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:h,padding:d,mirror:g}=r,y=Qi(i.grid),_=y+d,x=g?-d:_,w=-Me(this.labelRotation),M=[];let L,Y,V,z,B,$,j,q,tt,st,rt,ct,yt="middle";if(s==="top")$=this.bottom-x,j=this._getXAxisLabelAlignment();else if(s==="bottom")$=this.top+x,j=this._getXAxisLabelAlignment();else if(s==="left"){const dt=this._getYAxisLabelAlignment(y);j=dt.textAlign,B=dt.x}else if(s==="right"){const dt=this._getYAxisLabelAlignment(y);j=dt.textAlign,B=dt.x}else if(n==="x"){if(s==="center")$=(t.top+t.bottom)/2+_;else if(_t(s)){const dt=Object.keys(s)[0],Pt=s[dt];$=this.chart.scales[dt].getPixelForValue(Pt)+_}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")B=(t.left+t.right)/2-_;else if(_t(s)){const dt=Object.keys(s)[0],Pt=s[dt];B=this.chart.scales[dt].getPixelForValue(Pt)}j=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(c==="start"?yt="top":c==="end"&&(yt="bottom"));const Bt=this._getLabelSizes();for(L=0,Y=a.length;L<Y;++L){V=a[L],z=V.label;const dt=r.setContext(this.getContext(L));q=this.getPixelForTick(L)+r.labelOffset,tt=this._resolveTickFontOptions(L),st=tt.lineHeight,rt=Yt(z)?z.length:1;const Pt=rt/2,jt=dt.color,qt=dt.textStrokeColor,zt=dt.textStrokeWidth;let ee=j;o?(B=q,j==="inner"&&(L===Y-1?ee=this.options.reverse?"left":"right":L===0?ee=this.options.reverse?"right":"left":ee="center"),s==="top"?h==="near"||w!==0?ct=-rt*st+st/2:h==="center"?ct=-Bt.highest.height/2-Pt*st+st:ct=-Bt.highest.height+st/2:h==="near"||w!==0?ct=st/2:h==="center"?ct=Bt.highest.height/2-Pt*st:ct=Bt.highest.height-rt*st,g&&(ct*=-1),w!==0&&!dt.showLabelBackdrop&&(B+=st/2*Math.sin(w))):($=q,ct=(1-rt)*st/2);let cn;if(dt.showLabelBackdrop){const un=ce(dt.backdropPadding),_e=Bt.heights[L],Ce=Bt.widths[L];let Ae=ct-un.top,he=0-un.left;switch(yt){case"middle":Ae-=_e/2;break;case"bottom":Ae-=_e;break}switch(j){case"center":he-=Ce/2;break;case"right":he-=Ce;break;case"inner":L===Y-1?he-=Ce:L>0&&(he-=Ce/2);break}cn={left:he,top:Ae,width:Ce+un.width,height:_e+un.height,color:dt.backdropColor}}M.push({label:z,font:tt,textOffset:ct,options:{rotation:w,color:jt,strokeColor:qt,strokeWidth:zt,textAlign:ee,textBaseline:yt,translation:[B,$],backdrop:cn}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Me(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,c=o.widest.width;let h,d;return n==="left"?s?(d=this.right+r,i==="near"?h="left":i==="center"?(h="center",d+=c/2):(h="right",d+=c)):(d=this.right-a,i==="near"?h="right":i==="center"?(h="center",d-=c/2):(h="left",d=this.left)):n==="right"?s?(d=this.left+r,i==="near"?h="right":i==="center"?(h="center",d-=c/2):(h="left",d-=c)):(d=this.left+a,i==="near"?h="left":i==="center"?(h="center",d+=c/2):(h="right",d=this.right)):h="right",{textAlign:h,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(c,h,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const c=s[r];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let h,d,g,y;this.isHorizontal()?(h=$n(t,this.left,o)-o/2,d=$n(t,this.right,a)+a/2,g=y=c):(g=$n(t,this.top,o)-o/2,y=$n(t,this.bottom,a)+a/2,h=d=c),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(h,g),n.lineTo(d,y),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&qr(i,s);const r=this.getLabelItems(t);for(const o of r){const a=o.options,c=o.font,h=o.label,d=o.textOffset;oi(i,h,0,d,c,a)}s&&Gr(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Gt(i.font),o=ce(i.padding),a=i.align;let c=r.lineHeight/2;n==="bottom"||n==="center"||_t(n)?(c+=o.bottom,Yt(i.text)&&(c+=r.lineHeight*(i.text.length-1))):c+=o.top;const{titleX:h,titleY:d,maxWidth:g,rotation:y}=yb(this,c,n,a);oi(t,i.text,0,0,r,{color:i.color,maxWidth:g,rotation:y,textAlign:mb(a,n,s),textBaseline:"middle",translation:[h,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=ut(t.grid&&t.grid.z,-1),s=ut(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ai.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Gt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class pr{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;vb(n)&&(i=this.register(n));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,bb(t,o,i),this.override&&Wt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Wt[s]&&(delete Wt[s][i],this.override&&delete ri[i])}}function bb(e,t,n){const i=ps(Object.create(null),[n?Wt.get(n):{},Wt.get(t),e.defaults]);Wt.set(t,i),e.defaultRoutes&&_b(t,e.defaultRoutes),e.descriptors&&Wt.describe(t,e.descriptors)}function _b(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),c=o.join(".");Wt.route(r,s,c,a)})}function vb(e){return"id"in e&&"defaults"in e}class xb{constructor(){this.controllers=new pr(En,"datasets",!0),this.elements=new pr(on,"elements"),this.plugins=new pr(Object,"plugins"),this.scales=new pr(ai,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):Dt(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const s=Ja(t);At(i["before"+s],[],i),n[t](i),At(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Ie=new xb;class wb{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,s){s=s||{};for(const r of t){const o=r.plugin,a=o[i],c=[n,s,r.options];if(At(a,c,o)===!1&&s.cancelable)return!1}return!0}invalidate(){bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=ut(i.options&&i.options.plugins,{}),r=kb(i);return s===!1&&!n?[]:Mb(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function kb(e){const t={},n=[],i=Object.keys(Ie.plugins.items);for(let r=0;r<i.length;r++)n.push(Ie.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function Sb(e,t){return!t&&e===!1?null:e===!0?{}:e}function Mb(e,{plugins:t,localIds:n},i,s){const r=[],o=e.getContext();for(const a of t){const c=a.id,h=Sb(i[c],s);h!==null&&r.push({plugin:a,options:Ob(e.config,{plugin:a,local:n[c]},h,o)})}return r}function Ob(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(i,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ca(e,t){const n=Wt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Db(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function Pb(e,t){return e===t?"_index_":"_value_"}function bu(e){if(e==="x"||e==="y"||e==="r")return e}function Tb(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Aa(e,...t){if(bu(e))return e;for(const n of t){const i=n.axis||Tb(n.position)||e.length>1&&bu(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function _u(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Cb(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return _u(e,"x",n[0])||_u(e,"y",n[0])}return{}}function Ab(e,t){const n=ri[e.type]||{scales:{}},i=t.scales||{},s=Ca(e.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!_t(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Aa(o,a,Cb(o,e),Wt.scales[a.type]),h=Pb(c,s),d=n.scales||{};r[o]=as(Object.create(null),[{axis:c},a,d[c],d[h]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,c=o.indexAxis||Ca(a,t),d=(ri[a]||{}).scales||{};Object.keys(d).forEach(g=>{const y=Db(g,c),_=o[y+"AxisID"]||y;r[_]=r[_]||Object.create(null),as(r[_],[{axis:y},i[_],d[g]])})}),Object.keys(r).forEach(o=>{const a=r[o];as(a,[Wt.scales[a.type],Wt.scale])}),r}function bf(e){const t=e.options||(e.options={});t.plugins=ut(t.plugins,{}),t.scales=Ab(e,t)}function _f(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Rb(e){return e=e||{},e.data=_f(e.data),bf(e),e}const vu=new Map,vf=new Set;function gr(e,t){let n=vu.get(e);return n||(n=t(),vu.set(e,n),vf.add(n)),n}const Ji=(e,t,n)=>{const i=Cn(t,n);i!==void 0&&e.add(i)};class Eb{constructor(t){this._config=Rb(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=_f(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),bf(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return gr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return gr(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return gr(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return gr(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const c=new Set;n.forEach(d=>{t&&(c.add(t),d.forEach(g=>Ji(c,t,g))),d.forEach(g=>Ji(c,s,g)),d.forEach(g=>Ji(c,ri[r]||{},g)),d.forEach(g=>Ji(c,Wt,g)),d.forEach(g=>Ji(c,Pa,g))});const h=Array.from(c);return h.length===0&&h.push(Object.create(null)),vf.has(n)&&o.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,ri[n]||{},Wt.datasets[n]||{},{type:n},Wt,Pa]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=xu(this._resolverCache,t,s);let c=o;if(Fb(o,n)){r.$shared=!1,i=An(i)?i():i;const h=this.createResolver(t,i,a);c=Ti(o,i,h)}for(const h of n)r[h]=c[h];return r}createResolver(t,n,i=[""],s){const{resolver:r}=xu(this._resolverCache,t,i);return _t(n)?Ti(r,n,void 0,s):r}}function xu(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:rl(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const Lb=e=>_t(e)&&Object.getOwnPropertyNames(e).some(t=>An(e[t]));function Fb(e,t){const{isScriptable:n,isIndexable:i}=Gh(e);for(const s of t){const r=n(s),o=i(s),a=(o||r)&&e[s];if(r&&(An(a)||Lb(a))||o&&Yt(a))return!0}return!1}var Ib="4.5.0";const Nb=["top","bottom","left","right","chartArea"];function wu(e,t){return e==="top"||e==="bottom"||Nb.indexOf(e)===-1&&t==="x"}function ku(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Su(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),At(n&&n.onComplete,[e],t)}function Yb(e){const t=e.chart,n=t.options.animation;At(n&&n.onProgress,[e],t)}function xf(e){return ll()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const kr={},Mu=e=>{const t=xf(e);return Object.values(kr).filter(n=>n.canvas===t).pop()};function Wb(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const o=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=o)}}}function Bb(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}class Ds{static defaults=Wt;static instances=kr;static overrides=ri;static registry=Ie;static version=Ib;static getChart=Mu;static register(...t){Ie.add(...t),Ou()}static unregister(...t){Ie.remove(...t),Ou()}constructor(t,n){const i=this.config=new Eb(n),s=xf(t),r=Mu(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||sb(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),c=a&&a.canvas,h=c&&c.height,d=c&&c.width;if(this.id=Ig(),this.ctx=a,this.canvas=c,this.width=d,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wb,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Jg(g=>this.update(g),o.resizeDelay||0),this._dataChanges=[],kr[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ue.listen(this,"complete",Su),Ue.listen(this,"progress",Yb),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return bt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ie}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Kc(this.canvas,this.ctx),this}stop(){return Ue.stop(this),this}resize(t,n){Ue.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,qc(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),At(i.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Dt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],c=Aa(o,a),h=c==="r",d=c==="x";return{options:a,dposition:h?"chartArea":d?"bottom":"left",dtype:h?"radialLinear":d?"category":"linear"}}))),Dt(r,o=>{const a=o.options,c=a.id,h=Aa(c,a),d=ut(a.type,o.dtype);(a.position===void 0||wu(a.position,h)!==wu(o.dposition))&&(a.position=o.dposition),s[c]=!0;let g=null;if(c in i&&i[c].type===d)g=i[c];else{const y=Ie.getScale(d);g=new y({id:c,type:d,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(a,t)}),Dt(s,(o,a)=>{o||delete i[a]}),Dt(i,o=>{ae.configure(this,o,o.options),ae.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(ku("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Ca(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const c=Ie.getController(a),{datasetElementType:h,dataElementType:d}=Wt.datasets[a];Object.assign(c,{dataElementType:Ie.getElement(d),datasetElementType:h&&Ie.getElement(h)}),o.controller=new c(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Dt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,d=this.data.datasets.length;h<d;h++){const{controller:g}=this.getDatasetMeta(h),y=!s&&r.indexOf(g)===-1;g.buildOrUpdateElements(y),o=Math.max(+g.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Dt(r,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ku("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Dt(this.scales,t=>{ae.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Ic(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;Wb(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!Ic(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ae.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Dt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,An(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ue.has(this)?this.attached&&!Ue.running(this)&&Ue.start(this):(this.draw(),Su({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=af(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&qr(n,s),t.controller.draw(),s&&Gr(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Je(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=Ny.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Rn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);gs(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ue.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Kc(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete kr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Dt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(c,h)=>{n.addEventListener(this,c,h),t[c]=h},s=(c,h)=>{t[c]&&(n.removeEventListener(this,c,h),delete t[c])},r=(c,h)=>{this.canvas&&this.resize(c,h)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Dt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Dt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,o,a,c;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,c=t.length;a<c;++a){o=t[a];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Cr(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(c,h)=>c.filter(d=>!h.some(g=>d.datasetIndex===g.datasetIndex&&d.index===g.index)),o=r(n,t),a=i?t:r(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(t,s,i,o),c=zg(t),h=Bb(t,this._lastEvent,i,c);i&&(this._lastEvent=null,At(r.onHover,[t,a,this],this),c&&At(r.onClick,[t,a,this],this));const d=!Cr(a,s);return(d||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=h,d}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}function Ou(){return Dt(Ds.instances,e=>e._plugins.invalidate())}function jb(e,t,n){const{startAngle:i,x:s,y:r,outerRadius:o,innerRadius:a,options:c}=t,{borderWidth:h,borderJoinStyle:d}=c,g=Math.min(h/o,oe(i-n));if(e.beginPath(),e.arc(s,r,o-h/2,i+g/2,n-g/2),a>0){const y=Math.min(h/a,oe(i-n));e.arc(s,r,a+h/2,n-y/2,i+y/2,!0)}else{const y=Math.min(h/2,o*oe(i-n));if(d==="round")e.arc(s,r,y,n-St/2,i+St/2,!0);else if(d==="bevel"){const _=2*y*y,x=-_*Math.cos(n+St/2)+s,w=-_*Math.sin(n+St/2)+r,M=_*Math.cos(i+St/2)+s,L=_*Math.sin(i+St/2)+r;e.lineTo(x,w),e.lineTo(M,L)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function zb(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:c}=t;let h=s/a;e.beginPath(),e.arc(r,o,a,i-h,n+h),c>s?(h=s/c,e.arc(r,o,c,n+h,i-h,!0)):e.arc(r,o,s,n+$t,i-$t),e.closePath(),e.clip()}function Vb(e){return sl(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Hb(e,t,n,i){const s=Vb(e.options.borderRadius),r=(n-t)/2,o=Math.min(r,i*t/2),a=c=>{const h=(n-Math.min(r,c))*i/2;return Jt(c,0,Math.min(r,h))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Jt(s.innerStart,0,o),innerEnd:Jt(s.innerEnd,0,o)}}function yi(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Ir(e,t,n,i,s,r){const{x:o,y:a,startAngle:c,pixelMargin:h,innerRadius:d}=t,g=Math.max(t.outerRadius+i+n-h,0),y=d>0?d+i+n+h:0;let _=0;const x=s-c;if(i){const dt=d>0?d-i:0,Pt=g>0?g-i:0,jt=(dt+Pt)/2,qt=jt!==0?x*jt/(jt+i):x;_=(x-qt)/2}const w=Math.max(.001,x*g-n/St)/g,M=(x-w)/2,L=c+M+_,Y=s-M-_,{outerStart:V,outerEnd:z,innerStart:B,innerEnd:$}=Hb(t,y,g,Y-L),j=g-V,q=g-z,tt=L+V/j,st=Y-z/q,rt=y+B,ct=y+$,yt=L+B/rt,Bt=Y-$/ct;if(e.beginPath(),r){const dt=(tt+st)/2;if(e.arc(o,a,g,tt,dt),e.arc(o,a,g,dt,st),z>0){const zt=yi(q,st,o,a);e.arc(zt.x,zt.y,z,st,Y+$t)}const Pt=yi(ct,Y,o,a);if(e.lineTo(Pt.x,Pt.y),$>0){const zt=yi(ct,Bt,o,a);e.arc(zt.x,zt.y,$,Y+$t,Bt+Math.PI)}const jt=(Y-$/y+(L+B/y))/2;if(e.arc(o,a,y,Y-$/y,jt,!0),e.arc(o,a,y,jt,L+B/y,!0),B>0){const zt=yi(rt,yt,o,a);e.arc(zt.x,zt.y,B,yt+Math.PI,L-$t)}const qt=yi(j,L,o,a);if(e.lineTo(qt.x,qt.y),V>0){const zt=yi(j,tt,o,a);e.arc(zt.x,zt.y,V,L-$t,tt)}}else{e.moveTo(o,a);const dt=Math.cos(tt)*g+o,Pt=Math.sin(tt)*g+a;e.lineTo(dt,Pt);const jt=Math.cos(st)*g+o,qt=Math.sin(st)*g+a;e.lineTo(jt,qt)}e.closePath()}function Kb(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=t;let c=t.endAngle;if(r){Ir(e,t,n,i,c,s);for(let h=0;h<r;++h)e.fill();isNaN(a)||(c=o+(a%Et||Et))}return Ir(e,t,n,i,c,s),e.fill(),c}function Ub(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:c}=t,{borderWidth:h,borderJoinStyle:d,borderDash:g,borderDashOffset:y,borderRadius:_}=c,x=c.borderAlign==="inner";if(!h)return;e.setLineDash(g||[]),e.lineDashOffset=y,x?(e.lineWidth=h*2,e.lineJoin=d||"round"):(e.lineWidth=h,e.lineJoin=d||"bevel");let w=t.endAngle;if(r){Ir(e,t,n,i,w,s);for(let M=0;M<r;++M)e.stroke();isNaN(a)||(w=o+(a%Et||Et))}x&&zb(e,t,w),c.selfJoin&&w-o>=St&&_===0&&d!=="miter"&&jb(e,t,w),r||(Ir(e,t,n,i,w,s),e.stroke())}class $b extends on{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const s=this.getProps(["x","y"],i),{angle:r,distance:o}=Wh(s,{x:t,y:n}),{startAngle:a,endAngle:c,innerRadius:h,outerRadius:d,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),y=(this.options.spacing+this.options.borderWidth)/2,_=ut(g,c-a),x=ms(r,a,c)&&a!==c,w=_>=Et||x,M=Ze(o,h+y,d+y);return w&&M}getCenterPoint(t){const{x:n,y:i,startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:h}=this.options,d=(s+r)/2,g=(o+a+h+c)/2;return{x:n+Math.cos(d)*g,y:i+Math.sin(d)*g}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,s=(n.offset||0)/4,r=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Et?Math.floor(i/Et):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*s,Math.sin(a)*s);const c=1-Math.sin(Math.min(St,i||0)),h=s*c;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,Kb(t,this,h,r,o),Ub(t,this,h,r,o),t.restore()}}function wf(e,t,n=t){e.lineCap=ut(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ut(n.borderDash,t.borderDash)),e.lineDashOffset=ut(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ut(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ut(n.borderWidth,t.borderWidth),e.strokeStyle=ut(n.borderColor,t.borderColor)}function qb(e,t,n){e.lineTo(n.x,n.y)}function Gb(e){return e.stepped?hm:e.tension||e.cubicInterpolationMode==="monotone"?fm:qb}function kf(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=t,c=Math.max(s,o),h=Math.min(r,a),d=s<o&&r<o||s>a&&r>a;return{count:i,start:c,loop:t.loop,ilen:h<c&&!d?i+h-c:h-c}}function Xb(e,t,n,i){const{points:s,options:r}=t,{count:o,start:a,loop:c,ilen:h}=kf(s,n,i),d=Gb(r);let{move:g=!0,reverse:y}=i||{},_,x,w;for(_=0;_<=h;++_)x=s[(a+(y?h-_:_))%o],!x.skip&&(g?(e.moveTo(x.x,x.y),g=!1):d(e,w,x,y,r.stepped),w=x);return c&&(x=s[(a+(y?h:0))%o],d(e,w,x,y,r.stepped)),!!c}function Zb(e,t,n,i){const s=t.points,{count:r,start:o,ilen:a}=kf(s,n,i),{move:c=!0,reverse:h}=i||{};let d=0,g=0,y,_,x,w,M,L;const Y=z=>(o+(h?a-z:z))%r,V=()=>{w!==M&&(e.lineTo(d,M),e.lineTo(d,w),e.lineTo(d,L))};for(c&&(_=s[Y(0)],e.moveTo(_.x,_.y)),y=0;y<=a;++y){if(_=s[Y(y)],_.skip)continue;const z=_.x,B=_.y,$=z|0;$===x?(B<w?w=B:B>M&&(M=B),d=(g*d+z)/++g):(V(),e.lineTo(z,B),x=$,g=0,w=M=B),L=B}V()}function Ra(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?Zb:Xb}function Qb(e){return e.stepped?Hm:e.tension||e.cubicInterpolationMode==="monotone"?Km:Qn}function Jb(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),wf(e,t.options),e.stroke(s)}function t_(e,t,n,i){const{segments:s,options:r}=t,o=Ra(t);for(const a of s)wf(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const e_=typeof Path2D=="function";function n_(e,t,n,i){e_&&!t.options.segment?Jb(e,t,n,i):t_(e,t,n,i)}class Qr extends on{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;Im(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Zm(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,o=of(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],c=Qb(i);let h,d;for(h=0,d=o.length;h<d;++h){const{start:g,end:y}=o[h],_=r[g],x=r[y];if(_===x){a.push(_);continue}const w=Math.abs((s-_[n])/(x[n]-_[n])),M=c(_,x,w,i.stepped);M[n]=t[n],a.push(M)}return a.length===1?a[0]:a}pathSegment(t,n,i){return Ra(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=Ra(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),n_(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Du(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class i_ extends on{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const s=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(t-r,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,n){return Du(this,t,"x",n)}inYRange(t,n){return Du(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!Je(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Ta(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Sf(e,t){const{x:n,y:i,base:s,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,c,h,d,g;return e.horizontal?(g=o/2,a=Math.min(n,s),c=Math.max(n,s),h=i-g,d=i+g):(g=r/2,a=n-g,c=n+g,h=Math.min(i,s),d=Math.max(i,s)),{left:a,top:h,right:c,bottom:d}}function kn(e,t,n,i){return e?0:Jt(t,n,i)}function s_(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=qh(i);return{t:kn(s.top,r.top,0,n),r:kn(s.right,r.right,0,t),b:kn(s.bottom,r.bottom,0,n),l:kn(s.left,r.left,0,t)}}function r_(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=ni(s),o=Math.min(t,n),a=e.borderSkipped,c=i||_t(s);return{topLeft:kn(!c||a.top||a.left,r.topLeft,0,o),topRight:kn(!c||a.top||a.right,r.topRight,0,o),bottomLeft:kn(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:kn(!c||a.bottom||a.right,r.bottomRight,0,o)}}function o_(e){const t=Sf(e),n=t.right-t.left,i=t.bottom-t.top,s=s_(e,n/2,i/2),r=r_(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function ca(e,t,n,i){const s=t===null,r=n===null,a=e&&!(s&&r)&&Sf(e,i);return a&&(s||Ze(t,a.left,a.right))&&(r||Ze(n,a.top,a.bottom))}function a_(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function l_(e,t){e.rect(t.x,t.y,t.w,t.h)}function ua(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+o,radius:e.radius}}class c_ extends on{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=o_(this),a=a_(o.radius)?ys:l_;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,ua(o,n,r)),t.clip(),a(t,ua(r,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,ua(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return ca(this,t,n,i)}inXRange(t,n){return ca(this,t,null,n)}inYRange(t,n){return ca(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var u_=Object.freeze({__proto__:null,ArcElement:$b,BarElement:c_,LineElement:Qr,PointElement:i_});const Ea=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Pu=Ea.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Mf(e){return Ea[e%Ea.length]}function Of(e){return Pu[e%Pu.length]}function h_(e,t){return e.borderColor=Mf(t),e.backgroundColor=Of(t),++t}function f_(e,t){return e.backgroundColor=e.data.map(()=>Mf(t++)),t}function d_(e,t){return e.backgroundColor=e.data.map(()=>Of(t++)),t}function p_(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof ul?t=f_(n,t):s instanceof hf?t=d_(n,t):s&&(t=h_(n,t))}}function Tu(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function g_(e){return e&&(e.borderColor||e.backgroundColor)}function m_(){return Wt.borderColor!=="rgba(0,0,0,0.1)"||Wt.backgroundColor!=="rgba(0,0,0,0.1)"}var y_={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:r}=s,o=Tu(i)||g_(s)||r&&Tu(r)||m_();if(!n.forceOverride&&o)return;const a=p_(e);i.forEach(a)}};function b_(e,t,n,i,s){const r=s.samples||i;if(r>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(r-2);let c=0;const h=t+n-1;let d=t,g,y,_,x,w;for(o[c++]=e[d],g=0;g<r-2;g++){let M=0,L=0,Y;const V=Math.floor((g+1)*a)+1+t,z=Math.min(Math.floor((g+2)*a)+1,n)+t,B=z-V;for(Y=V;Y<z;Y++)M+=e[Y].x,L+=e[Y].y;M/=B,L/=B;const $=Math.floor(g*a)+1+t,j=Math.min(Math.floor((g+1)*a)+1,n)+t,{x:q,y:tt}=e[d];for(_=x=-1,Y=$;Y<j;Y++)x=.5*Math.abs((q-M)*(e[Y].y-tt)-(q-e[Y].x)*(L-tt)),x>_&&(_=x,y=e[Y],w=Y);o[c++]=y,d=w}return o[c++]=e[h],o}function __(e,t,n,i){let s=0,r=0,o,a,c,h,d,g,y,_,x,w;const M=[],L=t+n-1,Y=e[t].x,z=e[L].x-Y;for(o=t;o<t+n;++o){a=e[o],c=(a.x-Y)/z*i,h=a.y;const B=c|0;if(B===d)h<x?(x=h,g=o):h>w&&(w=h,y=o),s=(r*s+a.x)/++r;else{const $=o-1;if(!bt(g)&&!bt(y)){const j=Math.min(g,y),q=Math.max(g,y);j!==_&&j!==$&&M.push({...e[j],x:s}),q!==_&&q!==$&&M.push({...e[q],x:s})}o>0&&$!==_&&M.push(e[$]),M.push(a),d=B,r=0,x=w=h,g=y=_=o}}return M}function Df(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Cu(e){e.data.datasets.forEach(t=>{Df(t)})}function v_(e,t){const n=t.length;let i=0,s;const{iScale:r}=e,{min:o,max:a,minDefined:c,maxDefined:h}=r.getUserBounds();return c&&(i=Jt(Qe(t,r.axis,o).lo,0,n-1)),h?s=Jt(Qe(t,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var x_={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){Cu(e);return}const i=e.width;e.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,c=e.getDatasetMeta(r),h=o||s.data;if(ss([a,e.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=e.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||e.options.parsing)return;let{start:g,count:y}=v_(c,h);const _=n.threshold||4*i;if(y<=_){Df(s);return}bt(o)&&(s._data=h,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let x;switch(n.algorithm){case"lttb":x=b_(h,g,y,i,n);break;case"min-max":x=__(h,g,y,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=x})},destroy(e){Cu(e)}};function w_(e,t,n){const i=e.segments,s=e.points,r=t.points,o=[];for(const a of i){let{start:c,end:h}=a;h=Jr(c,h,s);const d=La(n,s[c],s[h],a.loop);if(!t.segments){o.push({source:a,target:d,start:s[c],end:s[h]});continue}const g=of(t,d);for(const y of g){const _=La(n,r[y.start],r[y.end],y.loop),x=rf(a,s,_);for(const w of x)o.push({source:w,target:y,start:{[n]:Au(d,_,"start",Math.max)},end:{[n]:Au(d,_,"end",Math.min)}})}}return o}function La(e,t,n,i){if(i)return;let s=t[e],r=n[e];return e==="angle"&&(s=oe(s),r=oe(r)),{property:e,start:s,end:r}}function k_(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Jr(o,a,s);const c=s[o],h=s[a];i!==null?(r.push({x:c.x,y:i}),r.push({x:h.x,y:i})):n!==null&&(r.push({x:n,y:c.y}),r.push({x:n,y:h.y}))}),r}function Jr(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Au(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function Pf(e,t){let n=[],i=!1;return Yt(e)?(i=!0,n=e):n=k_(e,t),n.length?new Qr({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Ru(e){return e&&e.fill!==!1}function S_(e,t,n){let s=e[t].fill;const r=[t];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Vt(s))return s;if(o=e[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function M_(e,t,n){const i=T_(e);if(_t(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Vt(s)&&Math.floor(s)===s?O_(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function O_(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function D_(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:_t(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function P_(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:_t(e)?i=e.value:i=t.getBaseValue(),i}function T_(e){const t=e.options,n=t.fill;let i=ut(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function C_(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,o=i.points,a=A_(t,n);a.push(Pf({x:null,y:t.bottom},i));for(let c=0;c<r.length;c++){const h=r[c];for(let d=h.start;d<=h.end;d++)R_(s,o[d],a)}return new Qr({points:s,options:{}})}function A_(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function R_(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:c}=E_(r,t,"x");if(!(!c||o&&a)){if(o)i.unshift(c);else if(e.push(c),!a)break}}e.push(...i)}function E_(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,o=e.points;let a=!1,c=!1;for(let h=0;h<r.length;h++){const d=r[h],g=o[d.start][n],y=o[d.end][n];if(Ze(s,g,y)){a=s===g,c=s===y;break}}return{first:a,last:c,point:i}}class Tf{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:Et},t.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,r=t.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function L_(e){const{chart:t,fill:n,line:i}=e;if(Vt(n))return F_(t,n);if(n==="stack")return C_(e);if(n==="shape")return!0;const s=I_(e);return s instanceof Tf?s:Pf(s,i)}function F_(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function I_(e){return(e.scale||{}).getPointPositionForValue?Y_(e):N_(e)}function N_(e){const{scale:t={},fill:n}=e,i=D_(n,t);if(Vt(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function Y_(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=P_(n,t,r),a=[];if(i.grid.circular){const c=t.getPointPositionForValue(0,r);return new Tf({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<s;++c)a.push(t.getPointPositionForValue(c,o));return a}function ha(e,t,n){const i=L_(t),{chart:s,index:r,line:o,scale:a,axis:c}=t,h=o.options,d=h.fill,g=h.backgroundColor,{above:y=g,below:_=g}=d||{},x=s.getDatasetMeta(r),w=af(s,x);i&&o.points.length&&(qr(e,n),W_(e,{line:o,target:i,above:y,below:_,area:n,scale:a,axis:c,clip:w}),Gr(e))}function W_(e,t){const{line:n,target:i,above:s,below:r,area:o,scale:a,clip:c}=t,h=n._loop?"angle":t.axis;e.save();let d=r;r!==s&&(h==="x"?(Eu(e,i,o.top),fa(e,{line:n,target:i,color:s,scale:a,property:h,clip:c}),e.restore(),e.save(),Eu(e,i,o.bottom)):h==="y"&&(Lu(e,i,o.left),fa(e,{line:n,target:i,color:r,scale:a,property:h,clip:c}),e.restore(),e.save(),Lu(e,i,o.right),d=s)),fa(e,{line:n,target:i,color:d,scale:a,property:h,clip:c}),e.restore()}function Eu(e,t,n){const{segments:i,points:s}=t;let r=!0,o=!1;e.beginPath();for(const a of i){const{start:c,end:h}=a,d=s[c],g=s[Jr(c,h,s)];r?(e.moveTo(d.x,d.y),r=!1):(e.lineTo(d.x,n),e.lineTo(d.x,d.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(g.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Lu(e,t,n){const{segments:i,points:s}=t;let r=!0,o=!1;e.beginPath();for(const a of i){const{start:c,end:h}=a,d=s[c],g=s[Jr(c,h,s)];r?(e.moveTo(d.x,d.y),r=!1):(e.lineTo(n,d.y),e.lineTo(d.x,d.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,g.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function fa(e,t){const{line:n,target:i,property:s,color:r,scale:o,clip:a}=t,c=w_(n,i,s);for(const{source:h,target:d,start:g,end:y}of c){const{style:{backgroundColor:_=r}={}}=h,x=i!==!0;e.save(),e.fillStyle=_,B_(e,o,a,x&&La(s,g,y)),e.beginPath();const w=!!n.pathSegment(e,h);let M;if(x){w?e.closePath():Fu(e,i,y,s);const L=!!i.pathSegment(e,d,{move:w,reverse:!0});M=w&&L,M||Fu(e,i,g,s)}e.closePath(),e.fill(M?"evenodd":"nonzero"),e.restore()}}function B_(e,t,n,i){const s=t.chart.chartArea,{property:r,start:o,end:a}=i||{};if(r==="x"||r==="y"){let c,h,d,g;r==="x"?(c=o,h=s.top,d=a,g=s.bottom):(c=s.left,h=o,d=s.right,g=a),e.beginPath(),n&&(c=Math.max(c,n.left),d=Math.min(d,n.right),h=Math.max(h,n.top),g=Math.min(g,n.bottom)),e.rect(c,h,d-c,g-h),e.clip()}}function Fu(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var j_={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,o,a,c;for(o=0;o<i;++o)r=e.getDatasetMeta(o),a=r.dataset,c=null,a&&a.options&&a instanceof Qr&&(c={visible:e.isDatasetVisible(o),index:o,fill:M_(a,o,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=c,s.push(c);for(o=0;o<i;++o)c=s[o],!(!c||c.fill===!1)&&(c.fill=S_(s,o,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&ha(e.ctx,a,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;Ru(r)&&ha(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!Ru(i)||n.drawTime!=="beforeDatasetDraw"||ha(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Iu=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},z_=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Nu extends on{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=At(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Gt(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Iu(i,r);let h,d;n.font=s.string,this.isHorizontal()?(h=this.maxWidth,d=this._fitRows(o,r,a,c)+10):(d=this.maxHeight,h=this._fitCols(o,s,a,c)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],h=this.lineWidths=[0],d=s+a;let g=t;r.textAlign="left",r.textBaseline="middle";let y=-1,_=-d;return this.legendItems.forEach((x,w)=>{const M=i+n/2+r.measureText(x.text).width;(w===0||h[h.length-1]+M+2*a>o)&&(g+=d,h[h.length-(w>0?0:1)]=0,_+=d,y++),c[w]={left:0,top:_,row:y,width:M,height:s},h[h.length-1]+=M+a}),g}_fitCols(t,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],h=this.columnSizes=[],d=o-t;let g=a,y=0,_=0,x=0,w=0;return this.legendItems.forEach((M,L)=>{const{itemWidth:Y,itemHeight:V}=V_(i,n,r,M,s);L>0&&_+V+2*a>d&&(g+=y+a,h.push({width:y,height:_}),x+=y+a,w++,y=_=0),c[L]={left:x,top:_,col:w,width:Y,height:V},y=Math.max(y,Y),_+=V+a}),g+=y,h.push({width:y,height:_}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=wi(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=re(i,this.left+s,this.right-this.lineWidths[a]);for(const h of n)a!==h.row&&(a=h.row,c=re(i,this.left+s,this.right-this.lineWidths[a])),h.top+=this.top+t+s,h.left=o.leftForLtr(o.x(c),h.width),c+=h.width+s}else{let a=0,c=re(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const h of n)h.col!==a&&(a=h.col,c=re(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),h.top=c,h.left+=this.left+s,h.left=o.leftForLtr(o.x(h.left),h.width),c+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;qr(t,this),this._draw(),Gr(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=Wt.color,c=wi(t.rtl,this.left,this.width),h=Gt(o.font),{padding:d}=o,g=h.size,y=g/2;let _;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:x,boxHeight:w,itemHeight:M}=Iu(o,g),L=function($,j,q){if(isNaN(x)||x<=0||isNaN(w)||w<0)return;s.save();const tt=ut(q.lineWidth,1);if(s.fillStyle=ut(q.fillStyle,a),s.lineCap=ut(q.lineCap,"butt"),s.lineDashOffset=ut(q.lineDashOffset,0),s.lineJoin=ut(q.lineJoin,"miter"),s.lineWidth=tt,s.strokeStyle=ut(q.strokeStyle,a),s.setLineDash(ut(q.lineDash,[])),o.usePointStyle){const st={radius:w*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:tt},rt=c.xPlus($,x/2),ct=j+y;$h(s,st,rt,ct,o.pointStyleWidth&&x)}else{const st=j+Math.max((g-w)/2,0),rt=c.leftForLtr($,x),ct=ni(q.borderRadius);s.beginPath(),Object.values(ct).some(yt=>yt!==0)?ys(s,{x:rt,y:st,w:x,h:w,radius:ct}):s.rect(rt,st,x,w),s.fill(),tt!==0&&s.stroke()}s.restore()},Y=function($,j,q){oi(s,q.text,$,j+M/2,h,{strikethrough:q.hidden,textAlign:c.textAlign(q.textAlign)})},V=this.isHorizontal(),z=this._computeTitleHeight();V?_={x:re(r,this.left+d,this.right-i[0]),y:this.top+d+z,line:0}:_={x:this.left+d,y:re(r,this.top+z+d,this.bottom-n[0].height),line:0},ef(this.ctx,t.textDirection);const B=M+d;this.legendItems.forEach(($,j)=>{s.strokeStyle=$.fontColor,s.fillStyle=$.fontColor;const q=s.measureText($.text).width,tt=c.textAlign($.textAlign||($.textAlign=o.textAlign)),st=x+y+q;let rt=_.x,ct=_.y;c.setWidth(this.width),V?j>0&&rt+st+d>this.right&&(ct=_.y+=B,_.line++,rt=_.x=re(r,this.left+d,this.right-i[_.line])):j>0&&ct+B>this.bottom&&(rt=_.x=rt+n[_.line].width+d,_.line++,ct=_.y=re(r,this.top+z+d,this.bottom-n[_.line].height));const yt=c.x(rt);if(L(yt,ct,$),rt=tm(tt,rt+x+y,V?rt+st:this.right,t.rtl),Y(c.x(rt),ct,$),V)_.x+=st+d;else if(typeof $.text!="string"){const Bt=h.lineHeight;_.y+=Cf($,Bt)+d}else _.y+=B}),nf(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Gt(n.font),s=ce(n.padding);if(!n.display)return;const r=wi(t.rtl,this.left,this.width),o=this.ctx,a=n.position,c=i.size/2,h=s.top+c;let d,g=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),d=this.top+h,g=re(t.align,g,this.right-y);else{const x=this.columnSizes.reduce((w,M)=>Math.max(w,M.height),0);d=h+re(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const _=re(a,g,g+y);o.textAlign=r.textAlign(nl(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,oi(o,n.text,_,d,i)}_computeTitleHeight(){const t=this.options.title,n=Gt(t.font),i=ce(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(Ze(t,this.left,this.right)&&Ze(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Ze(t,s.left,s.left+s.width)&&Ze(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!U_(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=z_(s,i);s&&!r&&At(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&At(n.onHover,[t,i,this],this)}else i&&At(n.onClick,[t,i,this],this)}}function V_(e,t,n,i,s){const r=H_(i,e,t,n),o=K_(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function H_(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+i.measureText(s).width}function K_(e,t,n){let i=e;return typeof t.text!="string"&&(i=Cf(t,n)),i}function Cf(e,t){const n=e.text?e.text.length:0;return t*n}function U_(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var $_={id:"legend",_element:Nu,start(e,t,n){const i=e.legend=new Nu({ctx:e.ctx,options:n,chart:e});ae.configure(e,i,n),ae.addBox(e,i)},stop(e){ae.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;ae.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const h=c.controller.getStyle(n?0:void 0),d=ce(h.borderWidth);return{text:t[c.index].label,fillStyle:h.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:o&&(a||h.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class fl extends on{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Yt(i.text)?i.text.length:1;this._padding=ce(i.padding);const r=s*Gt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let c=0,h,d,g;return this.isHorizontal()?(d=re(a,i,r),g=n+t,h=r-i):(o.position==="left"?(d=i+t,g=re(a,s,n),c=St*-.5):(d=r-t,g=re(a,n,s),c=St*.5),h=s-n),{titleX:d,titleY:g,maxWidth:h,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Gt(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:h}=this._drawArgs(r);oi(t,n.text,0,0,i,{color:n.color,maxWidth:c,rotation:h,textAlign:nl(n.align),textBaseline:"middle",translation:[o,a]})}}function q_(e,t){const n=new fl({ctx:e.ctx,options:t,chart:e});ae.configure(e,n,t),ae.addBox(e,n),e.titleBlock=n}var G_={id:"title",_element:fl,start(e,t,n){q_(e,n)},stop(e){const t=e.titleBlock;ae.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;ae.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mr=new WeakMap;var X_={id:"subtitle",start(e,t,n){const i=new fl({ctx:e.ctx,options:n,chart:e});ae.configure(e,i,n),ae.addBox(e,i),mr.set(e,i)},stop(e){ae.removeBox(e,mr.get(e)),mr.delete(e)},beforeUpdate(e,t,n){const i=mr.get(e);ae.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const os={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const c=a.tooltipPosition();i.add(c.x),s+=c.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,c)=>a+c)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const c=e[r].element;if(c&&c.hasValue()){const h=c.getCenterPoint(),d=Da(t,h);d<s&&(s=d,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,i=c.y}return{x:n,y:i}}};function Fe(e,t){return t&&(Yt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function $e(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Z_(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:e,label:o,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Yu(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:o,boxHeight:a}=t,c=Gt(t.bodyFont),h=Gt(t.titleFont),d=Gt(t.footerFont),g=r.length,y=s.length,_=i.length,x=ce(t.padding);let w=x.height,M=0,L=i.reduce((z,B)=>z+B.before.length+B.lines.length+B.after.length,0);if(L+=e.beforeBody.length+e.afterBody.length,g&&(w+=g*h.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),L){const z=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;w+=_*z+(L-_)*c.lineHeight+(L-1)*t.bodySpacing}y&&(w+=t.footerMarginTop+y*d.lineHeight+(y-1)*t.footerSpacing);let Y=0;const V=function(z){M=Math.max(M,n.measureText(z).width+Y)};return n.save(),n.font=h.string,Dt(e.title,V),n.font=c.string,Dt(e.beforeBody.concat(e.afterBody),V),Y=t.displayColors?o+2+t.boxPadding:0,Dt(i,z=>{Dt(z.before,V),Dt(z.lines,V),Dt(z.after,V)}),Y=0,n.font=d.string,Dt(e.footer,V),n.restore(),M+=x.width,{width:M,height:w}}function Q_(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function J_(e,t,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&s+r+o>t.width||e==="right"&&s-r-o<0)return!0}function t0(e,t,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:c}}=e;let h="center";return i==="center"?h=s<=(a+c)/2?"left":"right":s<=r/2?h="left":s>=o-r/2&&(h="right"),J_(h,e,t,n)&&(h="center"),h}function Wu(e,t,n){const i=n.yAlign||t.yAlign||Q_(e,n);return{xAlign:n.xAlign||t.xAlign||t0(e,t,n,i),yAlign:i}}function e0(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function n0(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function Bu(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:c}=n,h=s+r,{topLeft:d,topRight:g,bottomLeft:y,bottomRight:_}=ni(o);let x=e0(t,a);const w=n0(t,c,h);return c==="center"?a==="left"?x+=h:a==="right"&&(x-=h):a==="left"?x-=Math.max(d,y)+s:a==="right"&&(x+=Math.max(g,_)+s),{x:Jt(x,0,i.width-t.width),y:Jt(w,0,i.height-t.height)}}function yr(e,t,n){const i=ce(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function ju(e){return Fe([],$e(e))}function i0(e,t,n){return Rn(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function zu(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Af={beforeTitle:He,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:He,beforeBody:He,beforeLabel:He,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return bt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:He,afterBody:He,beforeFooter:He,footer:He,afterFooter:He};function fe(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?Af[t].call(n,i):s}class Vu extends on{static positioners=os;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new lf(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=i0(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=fe(i,"beforeTitle",this,t),r=fe(i,"title",this,t),o=fe(i,"afterTitle",this,t);let a=[];return a=Fe(a,$e(s)),a=Fe(a,$e(r)),a=Fe(a,$e(o)),a}getBeforeBody(t,n){return ju(fe(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return Dt(t,r=>{const o={before:[],lines:[],after:[]},a=zu(i,r);Fe(o.before,$e(fe(a,"beforeLabel",this,r))),Fe(o.lines,fe(a,"label",this,r)),Fe(o.after,$e(fe(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,n){return ju(fe(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=fe(i,"beforeFooter",this,t),r=fe(i,"footer",this,t),o=fe(i,"afterFooter",this,t);let a=[];return a=Fe(a,$e(s)),a=Fe(a,$e(r)),a=Fe(a,$e(o)),a}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],c,h;for(c=0,h=n.length;c<h;++c)a.push(Z_(this.chart,n[c]));return t.filter&&(a=a.filter((d,g,y)=>t.filter(d,g,y,i))),t.itemSort&&(a=a.sort((d,g)=>t.itemSort(d,g,i))),Dt(a,d=>{const g=zu(t.callbacks,d);s.push(fe(g,"labelColor",this,d)),r.push(fe(g,"labelPointStyle",this,d)),o.push(fe(g,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=os[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const c=this._size=Yu(this,i),h=Object.assign({},a,c),d=Wu(this.chart,i,h),g=Bu(i,h,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,r={opacity:1,x:g.x,y:g.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:g}=ni(a),{x:y,y:_}=t,{width:x,height:w}=n;let M,L,Y,V,z,B;return r==="center"?(z=_+w/2,s==="left"?(M=y,L=M-o,V=z+o,B=z-o):(M=y+x,L=M+o,V=z-o,B=z+o),Y=M):(s==="left"?L=y+Math.max(c,d)+o:s==="right"?L=y+x-Math.max(h,g)-o:L=this.caretX,r==="top"?(V=_,z=V-o,M=L-o,Y=L+o):(V=_+w,z=V+o,M=L+o,Y=L-o),B=V),{x1:M,x2:L,x3:Y,y1:V,y2:z,y3:B}}drawTitle(t,n,i){const s=this.title,r=s.length;let o,a,c;if(r){const h=wi(i.rtl,this.x,this.width);for(t.x=yr(this,i.titleAlign,i),n.textAlign=h.textAlign(i.titleAlign),n.textBaseline="middle",o=Gt(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,c=0;c<r;++c)n.fillText(s[c],h.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,c+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:c,boxWidth:h}=r,d=Gt(r.bodyFont),g=yr(this,"left",r),y=s.x(g),_=c<d.lineHeight?(d.lineHeight-c)/2:0,x=n.y+_;if(r.usePointStyle){const w={radius:Math.min(h,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},M=s.leftForLtr(y,h)+h/2,L=x+c/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Ta(t,w,M,L),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Ta(t,w,M,L)}else{t.lineWidth=_t(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const w=s.leftForLtr(y,h),M=s.leftForLtr(s.xPlus(y,1),h-2),L=ni(o.borderRadius);Object.values(L).some(Y=>Y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,ys(t,{x:w,y:x,w:h,h:c,radius:L}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),ys(t,{x:M,y:x+1,w:h-2,h:c-2,radius:L}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(w,x,h,c),t.strokeRect(w,x,h,c),t.fillStyle=o.backgroundColor,t.fillRect(M,x+1,h-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:h,boxPadding:d}=i,g=Gt(i.bodyFont);let y=g.lineHeight,_=0;const x=wi(i.rtl,this.x,this.width),w=function(q){n.fillText(q,x.x(t.x+_),t.y+y/2),t.y+=y+r},M=x.textAlign(o);let L,Y,V,z,B,$,j;for(n.textAlign=o,n.textBaseline="middle",n.font=g.string,t.x=yr(this,M,i),n.fillStyle=i.bodyColor,Dt(this.beforeBody,w),_=a&&M!=="right"?o==="center"?h/2+d:h+2+d:0,z=0,$=s.length;z<$;++z){for(L=s[z],Y=this.labelTextColors[z],n.fillStyle=Y,Dt(L.before,w),V=L.lines,a&&V.length&&(this._drawColorBox(n,t,z,x,i),y=Math.max(g.lineHeight,c)),B=0,j=V.length;B<j;++B)w(V[B]),y=g.lineHeight;Dt(L.after,w)}_=0,y=g.lineHeight,Dt(this.afterBody,w),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let o,a;if(r){const c=wi(i.rtl,this.x,this.width);for(t.x=yr(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=c.textAlign(i.footerAlign),n.textBaseline="middle",o=Gt(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:c}=t,{width:h,height:d}=i,{topLeft:g,topRight:y,bottomLeft:_,bottomRight:x}=ni(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+g,c),o==="top"&&this.drawCaret(t,n,i,s),n.lineTo(a+h-y,c),n.quadraticCurveTo(a+h,c,a+h,c+y),o==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(a+h,c+d-x),n.quadraticCurveTo(a+h,c+d,a+h-x,c+d),o==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(a+_,c+d),n.quadraticCurveTo(a,c+d,a,c+d-_),o==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(a,c+g),n.quadraticCurveTo(a,c,a+g,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=os[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Yu(this,t),c=Object.assign({},o,this._size),h=Wu(n,t,c),d=Bu(t,c,h,n);(s._to!==d.x||r._to!==d.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=ce(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),ef(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),nf(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:a,index:c})=>{const h=this.chart.getDatasetMeta(a);if(!h)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:h.data[c],index:c}}),r=!Cr(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,i),a=this._positionChanged(o,t),c=n||!Cr(o,r)||a;return c&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,o=os[r.position].call(this,t,n);return o!==!1&&(i!==o.x||s!==o.y)}}var s0={id:"tooltip",_element:Vu,positioners:os,afterInit(e,t,n){n&&(e.tooltip=new Vu({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Af},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},r0=Object.freeze({__proto__:null,Colors:y_,Decimation:x_,Filler:j_,Legend:$_,SubTitle:X_,Title:G_,Tooltip:s0});const o0=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function a0(e,t,n,i){const s=e.indexOf(t);if(s===-1)return o0(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const l0=(e,t)=>e===null?null:Jt(Math.round(e),0,t);function Hu(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class c0 extends ai{static id="category";static defaults={ticks:{callback:Hu}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(bt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:a0(i,t,ut(n,t),this._addedLabels),l0(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return Hu.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function u0(e,t){const n=[],{bounds:s,step:r,min:o,max:a,precision:c,count:h,maxTicks:d,maxDigits:g,includeBounds:y}=e,_=r||1,x=d-1,{min:w,max:M}=t,L=!bt(o),Y=!bt(a),V=!bt(h),z=(M-w)/(g+1);let B=Yc((M-w)/x/_)*_,$,j,q,tt;if(B<1e-14&&!L&&!Y)return[{value:w},{value:M}];tt=Math.ceil(M/B)-Math.floor(w/B),tt>x&&(B=Yc(tt*B/x/_)*_),bt(c)||($=Math.pow(10,c),B=Math.ceil(B*$)/$),s==="ticks"?(j=Math.floor(w/B)*B,q=Math.ceil(M/B)*B):(j=w,q=M),L&&Y&&r&&$g((a-o)/r,B/1e3)?(tt=Math.round(Math.min((a-o)/B,d)),B=(a-o)/tt,j=o,q=a):V?(j=L?o:j,q=Y?a:q,tt=h-1,B=(q-j)/tt):(tt=(q-j)/B,ls(tt,Math.round(tt),B/1e3)?tt=Math.round(tt):tt=Math.ceil(tt));const st=Math.max(Wc(B),Wc(j));$=Math.pow(10,bt(c)?st:c),j=Math.round(j*$)/$,q=Math.round(q*$)/$;let rt=0;for(L&&(y&&j!==o?(n.push({value:o}),j<o&&rt++,ls(Math.round((j+rt*B)*$)/$,o,Ku(o,z,e))&&rt++):j<o&&rt++);rt<tt;++rt){const ct=Math.round((j+rt*B)*$)/$;if(Y&&ct>a)break;n.push({value:ct})}return Y&&y&&q!==a?n.length&&ls(n[n.length-1].value,a,Ku(a,z,e))?n[n.length-1].value=a:n.push({value:a}):(!Y||q===a)&&n.push({value:q}),n}function Ku(e,t,{horizontal:n,minRotation:i}){const s=Me(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class Nr extends ai{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=c=>s=n?s:c,a=c=>r=i?r:c;if(t){const c=Ye(s),h=Ye(r);c<0&&h<0?a(0):c>0&&h>0&&o(0)}if(s===r){let c=r===0?1:Math.abs(r*.05);a(r+c),t||o(s-c)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=u0(s,r);return t.bounds==="ticks"&&Yh(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return Os(t,this.chart.options.locale,this.options.ticks.format)}}class h0 extends Nr{static id="linear";static defaults={ticks:{callback:$r.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Vt(t)?t:0,this.max=Vt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Me(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const _s=e=>Math.floor(wn(e)),Gn=(e,t)=>Math.pow(10,_s(e)+t);function Uu(e){return e/Math.pow(10,_s(e))===1}function $u(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function f0(e,t){const n=t-e;let i=_s(n);for(;$u(e,t,i)>10;)i++;for(;$u(e,t,i)<10;)i--;return Math.min(i,_s(e))}function d0(e,{min:t,max:n}){t=ye(e.min,t);const i=[],s=_s(t);let r=f0(t,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),c=s>r?Math.pow(10,s):0,h=Math.round((t-c)*o)/o,d=Math.floor((t-c)/a/10)*a*10;let g=Math.floor((h-d)/Math.pow(10,r)),y=ye(e.min,Math.round((c+d+g*Math.pow(10,r))*o)/o);for(;y<n;)i.push({value:y,major:Uu(y),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(r++,g=2,o=r>=0?1:o),y=Math.round((c+d+g*Math.pow(10,r))*o)/o;const _=ye(e.max,y);return i.push({value:_,major:Uu(_),significand:g}),i}class p0 extends ai{static id="logarithmic";static defaults={ticks:{callback:$r.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=Nr.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Vt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Vt(t)?Math.max(0,t):null,this.max=Vt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Vt(this._userMin)&&(this.min=t===Gn(this.min,0)?Gn(this.min,-1):Gn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=t?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Gn(i,-1)),o(Gn(s,1)))),i<=0&&r(Gn(s,-1)),s<=0&&o(Gn(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=d0(n,this);return t.bounds==="ticks"&&Yh(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Os(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=wn(t),this._valueRange=wn(this.max)-wn(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(wn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function Fa(e){const t=e.ticks;if(t.display&&e.display){const n=ce(t.backdropPadding);return ut(t.font&&t.font.size,Wt.font.size)+n.height}return 0}function g0(e,t,n){return n=Yt(n)?n:[n],{w:um(e,t.string,n),h:n.length*t.lineHeight}}function qu(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function m0(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?St/r:0;for(let c=0;c<r;c++){const h=o.setContext(e.getPointLabelContext(c));s[c]=h.padding;const d=e.getPointPosition(c,e.drawingArea+s[c],a),g=Gt(h.font),y=g0(e.ctx,g,e._pointLabels[c]);i[c]=y;const _=oe(e.getIndexAngle(c)+a),x=Math.round(tl(_)),w=qu(x,d.x,y.w,0,180),M=qu(x,d.y,y.h,90,270);y0(n,t,_,w,M)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=v0(e,i,s)}function y0(e,t,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,c=0;i.start<t.l?(a=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(c=(t.t-s.start)/o,e.t=Math.min(e.t,t.t-c)):s.end>t.b&&(c=(s.end-t.b)/o,e.b=Math.max(e.b,t.b+c))}function b0(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,c=e.getPointPosition(t,i+s+o,r),h=Math.round(tl(oe(c.angle+$t))),d=k0(c.y,a.h,h),g=x0(h),y=w0(c.x,a.w,g);return{visible:!0,x:c.x,y:d,textAlign:g,left:y,top:d,right:y+a.w,bottom:d+a.h}}function _0(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(Je({x:n,y:i},t)||Je({x:n,y:r},t)||Je({x:s,y:i},t)||Je({x:s,y:r},t))}function v0(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,c={extra:Fa(r)/2,additionalAngle:o?St/s:0};let h;for(let d=0;d<s;d++){c.padding=n[d],c.size=t[d];const g=b0(e,d,c);i.push(g),a==="auto"&&(g.visible=_0(g,h),g.visible&&(h=g))}return i}function x0(e){return e===0||e===180?"center":e<180?"left":"right"}function w0(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function k0(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function S0(e,t,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=t;if(!bt(a)){const c=ni(t.borderRadius),h=ce(t.backdropPadding);e.fillStyle=a;const d=i-h.left,g=s-h.top,y=r-i+h.width,_=o-s+h.height;Object.values(c).some(x=>x!==0)?(e.beginPath(),ys(e,{x:d,y:g,w:y,h:_,radius:c}),e.fill()):e.fillRect(d,g,y,_)}}function M0(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(e.getPointLabelContext(s));S0(n,o,r);const a=Gt(o.font),{x:c,y:h,textAlign:d}=r;oi(n,e._pointLabels[s],c,h+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function Rf(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Et);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=e.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function O0(e,t,n,i,s){const r=e.ctx,o=t.circular,{color:a,lineWidth:c}=t;!o&&!i||!a||!c||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=c,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),Rf(e,n,o,i),r.closePath(),r.stroke(),r.restore())}function D0(e,t,n){return Rn(e,{label:n,index:t,type:"pointLabel"})}class P0 extends Nr{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:$r.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ce(Fa(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Vt(t)&&!isNaN(t)?t:0,this.max=Vt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Fa(this.options))}generateTickLabels(t){Nr.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=At(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?m0(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Et/(this._pointLabels.length||1),i=this.options.startAngle||0;return oe(t*n+Me(i))}getDistanceFromCenterForValue(t){if(bt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(bt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return D0(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-$t+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),Rf(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,c,h;if(n.pointLabels.display&&M0(this,o),s.display&&this.ticks.forEach((d,g)=>{if(g!==0||g===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const y=this.getContext(g),_=s.setContext(y),x=r.setContext(y);O0(this,_,c,o,x)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const d=i.setContext(this.getPointLabelContext(a)),{color:g,lineWidth:y}=d;!y||!g||(t.lineWidth=y,t.strokeStyle=g,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),h=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(h.x,h.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const h=i.setContext(this.getContext(c)),d=Gt(h.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),h.showLabelBackdrop){t.font=d.string,o=t.measureText(a.label).width,t.fillStyle=h.backdropColor;const g=ce(h.backdropPadding);t.fillRect(-o/2-g.left,-r-d.size/2-g.top,o+g.width,d.size+g.height)}oi(t,a.label,0,-r,d,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),t.restore()}drawTitle(){}}const to={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},pe=Object.keys(to);function Gu(e,t){return e-t}function Xu(e,t){if(bt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Vt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Pi(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function Zu(e,t,n,i){const s=pe.length;for(let r=pe.indexOf(e);r<s-1;++r){const o=to[pe[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return pe[r]}return pe[s-1]}function T0(e,t,n,i,s){for(let r=pe.length-1;r>=pe.indexOf(n);r--){const o=pe[r];if(to[o].common&&e._adapter.diff(s,i,o)>=t-1)return o}return pe[n?pe.indexOf(n):0]}function C0(e){for(let t=pe.indexOf(e)+1,n=pe.length;t<n;++t)if(to[pe[t]].common)return pe[t]}function Qu(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=el(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function A0(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,c;for(a=r;a<=o;a=+s.add(a,1,i))c=n[a],c>=0&&(t[c].major=!0);return t}function Ju(e,t,n){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:A0(e,i,s,n)}class Ia extends ai{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new ff._date(t.adapters.date);s.init(n),as(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Xu(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(h){!o&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!a&&!isNaN(h.max)&&(r=Math.max(r,h.max))}(!o||!a)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Vt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Vt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=Zg(s,r,o);return this._unit=n.unit||(i.autoSkip?Zu(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):T0(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:C0(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),Ju(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Jt(n,0,o),i=Jt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||Zu(r.minUnit,n,i,this._getLabelCapacity(n)),a=ut(s.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,h=Pi(c)||c===!0,d={};let g=n,y,_;if(h&&(g=+t.startOf(g,"isoWeek",c)),g=+t.startOf(g,h?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(y=g,_=0;y<i;y=+t.add(y,a,o),_++)Qu(d,y,x);return(y===i||s.bounds==="ticks"||_===1)&&Qu(d,y,x),Object.keys(d).sort(Gu).map(w=>+w)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return At(o,[t,n,i],this);const a=r.time.displayFormats,c=this._unit,h=this._majorUnit,d=c&&a[c],g=h&&a[h],y=i[n],_=h&&g&&y&&y.major;return this._adapter.format(t,s||(_?g:d))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Me(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,Ju(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(Xu(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return jh(t.sort(Gu))}}function br(e,t,n){let i=0,s=e.length-1,r,o,a,c;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=Qe(e,"pos",t)),{pos:r,time:a}=e[i],{pos:o,time:c}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=Qe(e,"time",t)),{time:r,pos:a}=e[i],{time:o,pos:c}=e[s]);const h=o-r;return h?a+(c-a)*(t-r)/h:a}class R0 extends Ia{static id="timeseries";static defaults=Ia.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=br(n,this.min),this._tableRange=br(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let o,a,c,h,d;for(o=0,a=t.length;o<a;++o)h=t[o],h>=n&&h<=i&&s.push(h);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],c=s[o-1],h=s[o],Math.round((d+c)/2)!==h&&r.push({time:h,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(br(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return br(this._table,i*this._tableRange+this._minPos,!0)}}var E0=Object.freeze({__proto__:null,CategoryScale:c0,LinearScale:h0,LogarithmicScale:p0,RadialLinearScale:P0,TimeScale:Ia,TimeSeriesScale:R0});const L0=[Ry,u_,r0,E0];Ds.register(...L0);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Ef;function Q(){return Ef.apply(null,arguments)}function F0(e){Ef=e}function De(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function si(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Mt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dl(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Mt(e,t))return!1;return!0}function de(e){return e===void 0}function rn(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Ps(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Lf(e,t){var n=[],i,s=e.length;for(i=0;i<s;++i)n.push(t(e[i],i));return n}function Sn(e,t){for(var n in t)Mt(t,n)&&(e[n]=t[n]);return Mt(t,"toString")&&(e.toString=t.toString),Mt(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Be(e,t,n,i){return id(e,t,n,i,!0).utc()}function I0(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function pt(e){return e._pf==null&&(e._pf=I0()),e._pf}var Na;Array.prototype.some?Na=Array.prototype.some:Na=function(e){var t=Object(this),n=t.length>>>0,i;for(i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};function pl(e){var t=null,n=!1,i=e._d&&!isNaN(e._d.getTime());if(i&&(t=pt(e),n=Na.call(t.parsedDateParts,function(s){return s!=null}),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(i=i&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=i;else return i;return e._isValid}function eo(e){var t=Be(NaN);return e!=null?Sn(pt(t),e):pt(t).userInvalidated=!0,t}var th=Q.momentProperties=[],da=!1;function gl(e,t){var n,i,s,r=th.length;if(de(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),de(t._i)||(e._i=t._i),de(t._f)||(e._f=t._f),de(t._l)||(e._l=t._l),de(t._strict)||(e._strict=t._strict),de(t._tzm)||(e._tzm=t._tzm),de(t._isUTC)||(e._isUTC=t._isUTC),de(t._offset)||(e._offset=t._offset),de(t._pf)||(e._pf=pt(t)),de(t._locale)||(e._locale=t._locale),r>0)for(n=0;n<r;n++)i=th[n],s=t[i],de(s)||(e[i]=s);return e}function Ts(e){gl(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),da===!1&&(da=!0,Q.updateOffset(this),da=!1)}function Pe(e){return e instanceof Ts||e!=null&&e._isAMomentObject!=null}function Ff(e){Q.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function ke(e,t){var n=!0;return Sn(function(){if(Q.deprecationHandler!=null&&Q.deprecationHandler(null,e),n){var i=[],s,r,o,a=arguments.length;for(r=0;r<a;r++){if(s="",typeof arguments[r]=="object"){s+=`
[`+r+"] ";for(o in arguments[0])Mt(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[r];i.push(s)}Ff(e+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var eh={};function If(e,t){Q.deprecationHandler!=null&&Q.deprecationHandler(e,t),eh[e]||(Ff(t),eh[e]=!0)}Q.suppressDeprecationWarnings=!1;Q.deprecationHandler=null;function je(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function N0(e){var t,n;for(n in e)Mt(e,n)&&(t=e[n],je(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ya(e,t){var n=Sn({},e),i;for(i in t)Mt(t,i)&&(si(e[i])&&si(t[i])?(n[i]={},Sn(n[i],e[i]),Sn(n[i],t[i])):t[i]!=null?n[i]=t[i]:delete n[i]);for(i in e)Mt(e,i)&&!Mt(t,i)&&si(e[i])&&(n[i]=Sn({},n[i]));return n}function ml(e){e!=null&&this.set(e)}var Wa;Object.keys?Wa=Object.keys:Wa=function(e){var t,n=[];for(t in e)Mt(e,t)&&n.push(t);return n};var Y0={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function W0(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return je(i)?i.call(t,n):i}function We(e,t,n){var i=""+Math.abs(e),s=t-i.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}var yl=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_r=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,pa={},ki={};function at(e,t,n,i){var s=i;typeof i=="string"&&(s=function(){return this[i]()}),e&&(ki[e]=s),t&&(ki[t[0]]=function(){return We(s.apply(this,arguments),t[1],t[2])}),n&&(ki[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function B0(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function j0(e){var t=e.match(yl),n,i;for(n=0,i=t.length;n<i;n++)ki[t[n]]?t[n]=ki[t[n]]:t[n]=B0(t[n]);return function(s){var r="",o;for(o=0;o<i;o++)r+=je(t[o])?t[o].call(s,e):t[o];return r}}function Sr(e,t){return e.isValid()?(t=Nf(t,e.localeData()),pa[t]=pa[t]||j0(t),pa[t](e)):e.localeData().invalidDate()}function Nf(e,t){var n=5;function i(s){return t.longDateFormat(s)||s}for(_r.lastIndex=0;n>=0&&_r.test(e);)e=e.replace(_r,i),_r.lastIndex=0,n-=1;return e}var z0={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function V0(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(yl).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[e])}var H0="Invalid date";function K0(){return this._invalidDate}var U0="%d",$0=/\d{1,2}/;function q0(e){return this._ordinal.replace("%d",e)}var G0={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function X0(e,t,n,i){var s=this._relativeTime[n];return je(s)?s(e,t,n,i):s.replace(/%d/i,e)}function Z0(e,t){var n=this._relativeTime[e>0?"future":"past"];return je(n)?n(t):n.replace(/%s/i,t)}var nh={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Se(e){return typeof e=="string"?nh[e]||nh[e.toLowerCase()]:void 0}function bl(e){var t={},n,i;for(i in e)Mt(e,i)&&(n=Se(i),n&&(t[n]=e[i]));return t}var Q0={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function J0(e){var t=[],n;for(n in e)Mt(e,n)&&t.push({unit:n,priority:Q0[n]});return t.sort(function(i,s){return i.priority-s.priority}),t}var Yf=/\d/,be=/\d\d/,Wf=/\d{3}/,_l=/\d{4}/,no=/[+-]?\d{6}/,Ft=/\d\d?/,Bf=/\d\d\d\d?/,jf=/\d\d\d\d\d\d?/,io=/\d{1,3}/,vl=/\d{1,4}/,so=/[+-]?\d{1,6}/,Ai=/\d+/,ro=/[+-]?\d+/,tv=/Z|[+-]\d\d:?\d\d/gi,oo=/Z|[+-]\d\d(?::?\d\d)?/gi,ev=/[+-]?\d+(\.\d{1,3})?/,Cs=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ri=/^[1-9]\d?/,xl=/^([1-9]\d|\d)/,Yr;Yr={};function it(e,t,n){Yr[e]=je(t)?t:function(i,s){return i&&n?n:t}}function nv(e,t){return Mt(Yr,e)?Yr[e](t._strict,t._locale):new RegExp(iv(e))}function iv(e){return nn(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,i,s,r){return n||i||s||r}))}function nn(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function we(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function vt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=we(t)),n}var Ba={};function Ct(e,t){var n,i=t,s;for(typeof e=="string"&&(e=[e]),rn(t)&&(i=function(r,o){o[t]=vt(r)}),s=e.length,n=0;n<s;n++)Ba[e[n]]=i}function As(e,t){Ct(e,function(n,i,s,r){s._w=s._w||{},t(n,s._w,s,r)})}function sv(e,t,n){t!=null&&Mt(Ba,e)&&Ba[e](t,n._a,n,e)}function ao(e){return e%4===0&&e%100!==0||e%400===0}var le=0,tn=1,Ne=2,Xt=3,Oe=4,en=5,Jn=6,rv=7,ov=8;at("Y",0,0,function(){var e=this.year();return e<=9999?We(e,4):"+"+e});at(0,["YY",2],0,function(){return this.year()%100});at(0,["YYYY",4],0,"year");at(0,["YYYYY",5],0,"year");at(0,["YYYYYY",6,!0],0,"year");it("Y",ro);it("YY",Ft,be);it("YYYY",vl,_l);it("YYYYY",so,no);it("YYYYYY",so,no);Ct(["YYYYY","YYYYYY"],le);Ct("YYYY",function(e,t){t[le]=e.length===2?Q.parseTwoDigitYear(e):vt(e)});Ct("YY",function(e,t){t[le]=Q.parseTwoDigitYear(e)});Ct("Y",function(e,t){t[le]=parseInt(e,10)});function hs(e){return ao(e)?366:365}Q.parseTwoDigitYear=function(e){return vt(e)+(vt(e)>68?1900:2e3)};var zf=Ei("FullYear",!0);function av(){return ao(this.year())}function Ei(e,t){return function(n){return n!=null?(Vf(this,e,n),Q.updateOffset(this,t),this):vs(this,e)}}function vs(e,t){if(!e.isValid())return NaN;var n=e._d,i=e._isUTC;switch(t){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Vf(e,t,n){var i,s,r,o,a;if(!(!e.isValid()||isNaN(n))){switch(i=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?i.setUTCMilliseconds(n):i.setMilliseconds(n));case"Seconds":return void(s?i.setUTCSeconds(n):i.setSeconds(n));case"Minutes":return void(s?i.setUTCMinutes(n):i.setMinutes(n));case"Hours":return void(s?i.setUTCHours(n):i.setHours(n));case"Date":return void(s?i.setUTCDate(n):i.setDate(n));case"FullYear":break;default:return}r=n,o=e.month(),a=e.date(),a=a===29&&o===1&&!ao(r)?28:a,s?i.setUTCFullYear(r,o,a):i.setFullYear(r,o,a)}}function lv(e){return e=Se(e),je(this[e])?this[e]():this}function cv(e,t){if(typeof e=="object"){e=bl(e);var n=J0(e),i,s=n.length;for(i=0;i<s;i++)this[n[i].unit](e[n[i].unit])}else if(e=Se(e),je(this[e]))return this[e](t);return this}function uv(e,t){return(e%t+t)%t}var Ut;Array.prototype.indexOf?Ut=Array.prototype.indexOf:Ut=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function wl(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=uv(t,12);return e+=(t-n)/12,n===1?ao(e)?29:28:31-n%7%2}at("M",["MM",2],"Mo",function(){return this.month()+1});at("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});at("MMMM",0,0,function(e){return this.localeData().months(this,e)});it("M",Ft,Ri);it("MM",Ft,be);it("MMM",function(e,t){return t.monthsShortRegex(e)});it("MMMM",function(e,t){return t.monthsRegex(e)});Ct(["M","MM"],function(e,t){t[tn]=vt(e)-1});Ct(["MMM","MMMM"],function(e,t,n,i){var s=n._locale.monthsParse(e,i,n._strict);s!=null?t[tn]=s:pt(n).invalidMonth=e});var hv="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Hf="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Kf=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fv=Cs,dv=Cs;function pv(e,t){return e?De(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Kf).test(t)?"format":"standalone"][e.month()]:De(this._months)?this._months:this._months.standalone}function gv(e,t){return e?De(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Kf.test(t)?"format":"standalone"][e.month()]:De(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function mv(e,t,n){var i,s,r,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=Be([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?t==="MMM"?(s=Ut.call(this._shortMonthsParse,o),s!==-1?s:null):(s=Ut.call(this._longMonthsParse,o),s!==-1?s:null):t==="MMM"?(s=Ut.call(this._shortMonthsParse,o),s!==-1?s:(s=Ut.call(this._longMonthsParse,o),s!==-1?s:null)):(s=Ut.call(this._longMonthsParse,o),s!==-1?s:(s=Ut.call(this._shortMonthsParse,o),s!==-1?s:null))}function yv(e,t,n){var i,s,r;if(this._monthsParseExact)return mv.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=Be([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[i].test(e))return i;if(n&&t==="MMM"&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function Uf(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=vt(t);else if(t=e.localeData().monthsParse(t),!rn(t))return e}var n=t,i=e.date();return i=i<29?i:Math.min(i,wl(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,i):e._d.setMonth(n,i),e}function $f(e){return e!=null?(Uf(this,e),Q.updateOffset(this,!0),this):vs(this,"Month")}function bv(){return wl(this.year(),this.month())}function _v(e){return this._monthsParseExact?(Mt(this,"_monthsRegex")||qf.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Mt(this,"_monthsShortRegex")||(this._monthsShortRegex=fv),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function vv(e){return this._monthsParseExact?(Mt(this,"_monthsRegex")||qf.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Mt(this,"_monthsRegex")||(this._monthsRegex=dv),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function qf(){function e(c,h){return h.length-c.length}var t=[],n=[],i=[],s,r,o,a;for(s=0;s<12;s++)r=Be([2e3,s]),o=nn(this.monthsShort(r,"")),a=nn(this.months(r,"")),t.push(o),n.push(a),i.push(a),i.push(o);t.sort(e),n.sort(e),i.sort(e),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function xv(e,t,n,i,s,r,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,i,s,r,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,i,s,r,o),a}function xs(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Wr(e,t,n){var i=7+t-n,s=(7+xs(e,0,i).getUTCDay()-t)%7;return-s+i-1}function Gf(e,t,n,i,s){var r=(7+n-i)%7,o=Wr(e,i,s),a=1+7*(t-1)+r+o,c,h;return a<=0?(c=e-1,h=hs(c)+a):a>hs(e)?(c=e+1,h=a-hs(e)):(c=e,h=a),{year:c,dayOfYear:h}}function ws(e,t,n){var i=Wr(e.year(),t,n),s=Math.floor((e.dayOfYear()-i-1)/7)+1,r,o;return s<1?(o=e.year()-1,r=s+sn(o,t,n)):s>sn(e.year(),t,n)?(r=s-sn(e.year(),t,n),o=e.year()+1):(o=e.year(),r=s),{week:r,year:o}}function sn(e,t,n){var i=Wr(e,t,n),s=Wr(e+1,t,n);return(hs(e)-i+s)/7}at("w",["ww",2],"wo","week");at("W",["WW",2],"Wo","isoWeek");it("w",Ft,Ri);it("ww",Ft,be);it("W",Ft,Ri);it("WW",Ft,be);As(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=vt(e)});function wv(e){return ws(e,this._week.dow,this._week.doy).week}var kv={dow:0,doy:6};function Sv(){return this._week.dow}function Mv(){return this._week.doy}function Ov(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Dv(e){var t=ws(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}at("d",0,"do","day");at("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});at("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});at("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});at("e",0,0,"weekday");at("E",0,0,"isoWeekday");it("d",Ft);it("e",Ft);it("E",Ft);it("dd",function(e,t){return t.weekdaysMinRegex(e)});it("ddd",function(e,t){return t.weekdaysShortRegex(e)});it("dddd",function(e,t){return t.weekdaysRegex(e)});As(["dd","ddd","dddd"],function(e,t,n,i){var s=n._locale.weekdaysParse(e,i,n._strict);s!=null?t.d=s:pt(n).invalidWeekday=e});As(["d","e","E"],function(e,t,n,i){t[i]=vt(e)});function Pv(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Tv(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function kl(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Cv="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xf="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Av="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Rv=Cs,Ev=Cs,Lv=Cs;function Fv(e,t){var n=De(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?kl(n,this._week.dow):e?n[e.day()]:n}function Iv(e){return e===!0?kl(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Nv(e){return e===!0?kl(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Yv(e,t,n){var i,s,r,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=Be([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?t==="dddd"?(s=Ut.call(this._weekdaysParse,o),s!==-1?s:null):t==="ddd"?(s=Ut.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=Ut.call(this._minWeekdaysParse,o),s!==-1?s:null):t==="dddd"?(s=Ut.call(this._weekdaysParse,o),s!==-1||(s=Ut.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=Ut.call(this._minWeekdaysParse,o),s!==-1?s:null)):t==="ddd"?(s=Ut.call(this._shortWeekdaysParse,o),s!==-1||(s=Ut.call(this._weekdaysParse,o),s!==-1)?s:(s=Ut.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=Ut.call(this._minWeekdaysParse,o),s!==-1||(s=Ut.call(this._weekdaysParse,o),s!==-1)?s:(s=Ut.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function Wv(e,t,n){var i,s,r;if(this._weekdaysParseExact)return Yv.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=Be([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[i].test(e))return i;if(n&&t==="ddd"&&this._shortWeekdaysParse[i].test(e))return i;if(n&&t==="dd"&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Bv(e){if(!this.isValid())return e!=null?this:NaN;var t=vs(this,"Day");return e!=null?(e=Pv(e,this.localeData()),this.add(e-t,"d")):t}function jv(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function zv(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Tv(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Vv(e){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||Sl.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Mt(this,"_weekdaysRegex")||(this._weekdaysRegex=Rv),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Hv(e){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||Sl.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Mt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ev),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kv(e){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||Sl.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Mt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Lv),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Sl(){function e(d,g){return g.length-d.length}var t=[],n=[],i=[],s=[],r,o,a,c,h;for(r=0;r<7;r++)o=Be([2e3,1]).day(r),a=nn(this.weekdaysMin(o,"")),c=nn(this.weekdaysShort(o,"")),h=nn(this.weekdays(o,"")),t.push(a),n.push(c),i.push(h),s.push(a),s.push(c),s.push(h);t.sort(e),n.sort(e),i.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Ml(){return this.hours()%12||12}function Uv(){return this.hours()||24}at("H",["HH",2],0,"hour");at("h",["hh",2],0,Ml);at("k",["kk",2],0,Uv);at("hmm",0,0,function(){return""+Ml.apply(this)+We(this.minutes(),2)});at("hmmss",0,0,function(){return""+Ml.apply(this)+We(this.minutes(),2)+We(this.seconds(),2)});at("Hmm",0,0,function(){return""+this.hours()+We(this.minutes(),2)});at("Hmmss",0,0,function(){return""+this.hours()+We(this.minutes(),2)+We(this.seconds(),2)});function Zf(e,t){at(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Zf("a",!0);Zf("A",!1);function Qf(e,t){return t._meridiemParse}it("a",Qf);it("A",Qf);it("H",Ft,xl);it("h",Ft,Ri);it("k",Ft,Ri);it("HH",Ft,be);it("hh",Ft,be);it("kk",Ft,be);it("hmm",Bf);it("hmmss",jf);it("Hmm",Bf);it("Hmmss",jf);Ct(["H","HH"],Xt);Ct(["k","kk"],function(e,t,n){var i=vt(e);t[Xt]=i===24?0:i});Ct(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Ct(["h","hh"],function(e,t,n){t[Xt]=vt(e),pt(n).bigHour=!0});Ct("hmm",function(e,t,n){var i=e.length-2;t[Xt]=vt(e.substr(0,i)),t[Oe]=vt(e.substr(i)),pt(n).bigHour=!0});Ct("hmmss",function(e,t,n){var i=e.length-4,s=e.length-2;t[Xt]=vt(e.substr(0,i)),t[Oe]=vt(e.substr(i,2)),t[en]=vt(e.substr(s)),pt(n).bigHour=!0});Ct("Hmm",function(e,t,n){var i=e.length-2;t[Xt]=vt(e.substr(0,i)),t[Oe]=vt(e.substr(i))});Ct("Hmmss",function(e,t,n){var i=e.length-4,s=e.length-2;t[Xt]=vt(e.substr(0,i)),t[Oe]=vt(e.substr(i,2)),t[en]=vt(e.substr(s))});function $v(e){return(e+"").toLowerCase().charAt(0)==="p"}var qv=/[ap]\.?m?\.?/i,Gv=Ei("Hours",!0);function Xv(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var Jf={calendar:Y0,longDateFormat:z0,invalidDate:H0,ordinal:U0,dayOfMonthOrdinalParse:$0,relativeTime:G0,months:hv,monthsShort:Hf,week:kv,weekdays:Cv,weekdaysMin:Av,weekdaysShort:Xf,meridiemParse:qv},Nt={},ts={},ks;function Zv(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function ih(e){return e&&e.toLowerCase().replace("_","-")}function Qv(e){for(var t=0,n,i,s,r;t<e.length;){for(r=ih(e[t]).split("-"),n=r.length,i=ih(e[t+1]),i=i?i.split("-"):null;n>0;){if(s=lo(r.slice(0,n).join("-")),s)return s;if(i&&i.length>=n&&Zv(r,i)>=n-1)break;n--}t++}return ks}function Jv(e){return!!(e&&e.match("^[^/\\\\]*$"))}function lo(e){var t=null,n;if(Nt[e]===void 0&&typeof Pr<"u"&&Pr&&Pr.exports&&Jv(e))try{t=ks._abbr,n=require,n("./locale/"+e),Dn(t)}catch{Nt[e]=null}return Nt[e]}function Dn(e,t){var n;return e&&(de(t)?n=an(e):n=Ol(e,t),n?ks=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ks._abbr}function Ol(e,t){if(t!==null){var n,i=Jf;if(t.abbr=e,Nt[e]!=null)If("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Nt[e]._config;else if(t.parentLocale!=null)if(Nt[t.parentLocale]!=null)i=Nt[t.parentLocale]._config;else if(n=lo(t.parentLocale),n!=null)i=n._config;else return ts[t.parentLocale]||(ts[t.parentLocale]=[]),ts[t.parentLocale].push({name:e,config:t}),null;return Nt[e]=new ml(Ya(i,t)),ts[e]&&ts[e].forEach(function(s){Ol(s.name,s.config)}),Dn(e),Nt[e]}else return delete Nt[e],null}function tx(e,t){if(t!=null){var n,i,s=Jf;Nt[e]!=null&&Nt[e].parentLocale!=null?Nt[e].set(Ya(Nt[e]._config,t)):(i=lo(e),i!=null&&(s=i._config),t=Ya(s,t),i==null&&(t.abbr=e),n=new ml(t),n.parentLocale=Nt[e],Nt[e]=n),Dn(e)}else Nt[e]!=null&&(Nt[e].parentLocale!=null?(Nt[e]=Nt[e].parentLocale,e===Dn()&&Dn(e)):Nt[e]!=null&&delete Nt[e]);return Nt[e]}function an(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ks;if(!De(e)){if(t=lo(e),t)return t;e=[e]}return Qv(e)}function ex(){return Wa(Nt)}function Dl(e){var t,n=e._a;return n&&pt(e).overflow===-2&&(t=n[tn]<0||n[tn]>11?tn:n[Ne]<1||n[Ne]>wl(n[le],n[tn])?Ne:n[Xt]<0||n[Xt]>24||n[Xt]===24&&(n[Oe]!==0||n[en]!==0||n[Jn]!==0)?Xt:n[Oe]<0||n[Oe]>59?Oe:n[en]<0||n[en]>59?en:n[Jn]<0||n[Jn]>999?Jn:-1,pt(e)._overflowDayOfYear&&(t<le||t>Ne)&&(t=Ne),pt(e)._overflowWeeks&&t===-1&&(t=rv),pt(e)._overflowWeekday&&t===-1&&(t=ov),pt(e).overflow=t),e}var nx=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ix=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sx=/Z|[+-]\d\d(?::?\d\d)?/,vr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ga=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rx=/^\/?Date\((-?\d+)/i,ox=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ax={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function td(e){var t,n,i=e._i,s=nx.exec(i)||ix.exec(i),r,o,a,c,h=vr.length,d=ga.length;if(s){for(pt(e).iso=!0,t=0,n=h;t<n;t++)if(vr[t][1].exec(s[1])){o=vr[t][0],r=vr[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(s[3]){for(t=0,n=d;t<n;t++)if(ga[t][1].exec(s[3])){a=(s[2]||" ")+ga[t][0];break}if(a==null){e._isValid=!1;return}}if(!r&&a!=null){e._isValid=!1;return}if(s[4])if(sx.exec(s[4]))c="Z";else{e._isValid=!1;return}e._f=o+(a||"")+(c||""),Tl(e)}else e._isValid=!1}function lx(e,t,n,i,s,r){var o=[cx(e),Hf.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(s,10)];return r&&o.push(parseInt(r,10)),o}function cx(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ux(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function hx(e,t,n){if(e){var i=Xf.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(i!==s)return pt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function fx(e,t,n){if(e)return ax[e];if(t)return 0;var i=parseInt(n,10),s=i%100,r=(i-s)/100;return r*60+s}function ed(e){var t=ox.exec(ux(e._i)),n;if(t){if(n=lx(t[4],t[3],t[2],t[5],t[6],t[7]),!hx(t[1],n,e))return;e._a=n,e._tzm=fx(t[8],t[9],t[10]),e._d=xs.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),pt(e).rfc2822=!0}else e._isValid=!1}function dx(e){var t=rx.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(td(e),e._isValid===!1)delete e._isValid;else return;if(ed(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Q.createFromInputFallback(e)}Q.createFromInputFallback=ke("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function _i(e,t,n){return e??t??n}function px(e){var t=new Date(Q.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Pl(e){var t,n,i=[],s,r,o;if(!e._d){for(s=px(e),e._w&&e._a[Ne]==null&&e._a[tn]==null&&gx(e),e._dayOfYear!=null&&(o=_i(e._a[le],s[le]),(e._dayOfYear>hs(o)||e._dayOfYear===0)&&(pt(e)._overflowDayOfYear=!0),n=xs(o,0,e._dayOfYear),e._a[tn]=n.getUTCMonth(),e._a[Ne]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=i[t]=s[t];for(;t<7;t++)e._a[t]=i[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Xt]===24&&e._a[Oe]===0&&e._a[en]===0&&e._a[Jn]===0&&(e._nextDay=!0,e._a[Xt]=0),e._d=(e._useUTC?xs:xv).apply(null,i),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Xt]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==r&&(pt(e).weekdayMismatch=!0)}}function gx(e){var t,n,i,s,r,o,a,c,h;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(r=1,o=4,n=_i(t.GG,e._a[le],ws(Lt(),1,4).year),i=_i(t.W,1),s=_i(t.E,1),(s<1||s>7)&&(c=!0)):(r=e._locale._week.dow,o=e._locale._week.doy,h=ws(Lt(),r,o),n=_i(t.gg,e._a[le],h.year),i=_i(t.w,h.week),t.d!=null?(s=t.d,(s<0||s>6)&&(c=!0)):t.e!=null?(s=t.e+r,(t.e<0||t.e>6)&&(c=!0)):s=r),i<1||i>sn(n,r,o)?pt(e)._overflowWeeks=!0:c!=null?pt(e)._overflowWeekday=!0:(a=Gf(n,i,s,r,o),e._a[le]=a.year,e._dayOfYear=a.dayOfYear)}Q.ISO_8601=function(){};Q.RFC_2822=function(){};function Tl(e){if(e._f===Q.ISO_8601){td(e);return}if(e._f===Q.RFC_2822){ed(e);return}e._a=[],pt(e).empty=!0;var t=""+e._i,n,i,s,r,o,a=t.length,c=0,h,d;for(s=Nf(e._f,e._locale).match(yl)||[],d=s.length,n=0;n<d;n++)r=s[n],i=(t.match(nv(r,e))||[])[0],i&&(o=t.substr(0,t.indexOf(i)),o.length>0&&pt(e).unusedInput.push(o),t=t.slice(t.indexOf(i)+i.length),c+=i.length),ki[r]?(i?pt(e).empty=!1:pt(e).unusedTokens.push(r),sv(r,i,e)):e._strict&&!i&&pt(e).unusedTokens.push(r);pt(e).charsLeftOver=a-c,t.length>0&&pt(e).unusedInput.push(t),e._a[Xt]<=12&&pt(e).bigHour===!0&&e._a[Xt]>0&&(pt(e).bigHour=void 0),pt(e).parsedDateParts=e._a.slice(0),pt(e).meridiem=e._meridiem,e._a[Xt]=mx(e._locale,e._a[Xt],e._meridiem),h=pt(e).era,h!==null&&(e._a[le]=e._locale.erasConvertYear(h,e._a[le])),Pl(e),Dl(e)}function mx(e,t,n){var i;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(i=e.isPM(n),i&&t<12&&(t+=12),!i&&t===12&&(t=0)),t)}function yx(e){var t,n,i,s,r,o,a=!1,c=e._f.length;if(c===0){pt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<c;s++)r=0,o=!1,t=gl({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],Tl(t),pl(t)&&(o=!0),r+=pt(t).charsLeftOver,r+=pt(t).unusedTokens.length*10,pt(t).score=r,a?r<i&&(i=r,n=t):(i==null||r<i||o)&&(i=r,n=t,o&&(a=!0));Sn(e,n||t)}function bx(e){if(!e._d){var t=bl(e._i),n=t.day===void 0?t.date:t.day;e._a=Lf([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(i){return i&&parseInt(i,10)}),Pl(e)}}function _x(e){var t=new Ts(Dl(nd(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function nd(e){var t=e._i,n=e._f;return e._locale=e._locale||an(e._l),t===null||n===void 0&&t===""?eo({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Pe(t)?new Ts(Dl(t)):(Ps(t)?e._d=t:De(n)?yx(e):n?Tl(e):vx(e),pl(e)||(e._d=null),e))}function vx(e){var t=e._i;de(t)?e._d=new Date(Q.now()):Ps(t)?e._d=new Date(t.valueOf()):typeof t=="string"?dx(e):De(t)?(e._a=Lf(t.slice(0),function(n){return parseInt(n,10)}),Pl(e)):si(t)?bx(e):rn(t)?e._d=new Date(t):Q.createFromInputFallback(e)}function id(e,t,n,i,s){var r={};return(t===!0||t===!1)&&(i=t,t=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(si(e)&&dl(e)||De(e)&&e.length===0)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=s,r._l=n,r._i=e,r._f=t,r._strict=i,_x(r)}function Lt(e,t,n,i){return id(e,t,n,i,!1)}var xx=ke("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Lt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:eo()}),wx=ke("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Lt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:eo()});function sd(e,t){var n,i;if(t.length===1&&De(t[0])&&(t=t[0]),!t.length)return Lt();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function kx(){var e=[].slice.call(arguments,0);return sd("isBefore",e)}function Sx(){var e=[].slice.call(arguments,0);return sd("isAfter",e)}var Mx=function(){return Date.now?Date.now():+new Date},es=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ox(e){var t,n=!1,i,s=es.length;for(t in e)if(Mt(e,t)&&!(Ut.call(es,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(i=0;i<s;++i)if(e[es[i]]){if(n)return!1;parseFloat(e[es[i]])!==vt(e[es[i]])&&(n=!0)}return!0}function Dx(){return this._isValid}function Px(){return Te(NaN)}function co(e){var t=bl(e),n=t.year||0,i=t.quarter||0,s=t.month||0,r=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,c=t.minute||0,h=t.second||0,d=t.millisecond||0;this._isValid=Ox(t),this._milliseconds=+d+h*1e3+c*6e4+a*1e3*60*60,this._days=+o+r*7,this._months=+s+i*3+n*12,this._data={},this._locale=an(),this._bubble()}function Mr(e){return e instanceof co}function ja(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Tx(e,t,n){var i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),r=0,o;for(o=0;o<i;o++)vt(e[o])!==vt(t[o])&&r++;return r+s}function rd(e,t){at(e,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+We(~~(n/60),2)+t+We(~~n%60,2)})}rd("Z",":");rd("ZZ","");it("Z",oo);it("ZZ",oo);Ct(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Cl(oo,e)});var Cx=/([\+\-]|\d\d)/gi;function Cl(e,t){var n=(t||"").match(e),i,s,r;return n===null?null:(i=n[n.length-1]||[],s=(i+"").match(Cx)||["-",0,0],r=+(s[1]*60)+vt(s[2]),r===0?0:s[0]==="+"?r:-r)}function Al(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(Pe(e)||Ps(e)?e.valueOf():Lt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),Q.updateOffset(n,!1),n):Lt(e).local()}function za(e){return-Math.round(e._d.getTimezoneOffset())}Q.updateOffset=function(){};function Ax(e,t,n){var i=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Cl(oo,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(s=za(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?ld(this,Te(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Q.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:za(this)}function Rx(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ex(e){return this.utcOffset(0,e)}function Lx(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(za(this),"m")),this}function Fx(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Cl(tv,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Ix(e){return this.isValid()?(e=e?Lt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Nx(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Yx(){if(!de(this._isDSTShifted))return this._isDSTShifted;var e={},t;return gl(e,this),e=nd(e),e._a?(t=e._isUTC?Be(e._a):Lt(e._a),this._isDSTShifted=this.isValid()&&Tx(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Wx(){return this.isValid()?!this._isUTC:!1}function Bx(){return this.isValid()?this._isUTC:!1}function od(){return this.isValid()?this._isUTC&&this._offset===0:!1}var jx=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,zx=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Te(e,t){var n=e,i=null,s,r,o;return Mr(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:rn(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(i=jx.exec(e))?(s=i[1]==="-"?-1:1,n={y:0,d:vt(i[Ne])*s,h:vt(i[Xt])*s,m:vt(i[Oe])*s,s:vt(i[en])*s,ms:vt(ja(i[Jn]*1e3))*s}):(i=zx.exec(e))?(s=i[1]==="-"?-1:1,n={y:Xn(i[2],s),M:Xn(i[3],s),w:Xn(i[4],s),d:Xn(i[5],s),h:Xn(i[6],s),m:Xn(i[7],s),s:Xn(i[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=Vx(Lt(n.from),Lt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),r=new co(n),Mr(e)&&Mt(e,"_locale")&&(r._locale=e._locale),Mr(e)&&Mt(e,"_isValid")&&(r._isValid=e._isValid),r}Te.fn=co.prototype;Te.invalid=Px;function Xn(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function sh(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Vx(e,t){var n;return e.isValid()&&t.isValid()?(t=Al(t,e),e.isBefore(t)?n=sh(e,t):(n=sh(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ad(e,t){return function(n,i){var s,r;return i!==null&&!isNaN(+i)&&(If(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),s=Te(n,i),ld(this,s,e),this}}function ld(e,t,n,i){var s=t._milliseconds,r=ja(t._days),o=ja(t._months);e.isValid()&&(i=i??!0,o&&Uf(e,vs(e,"Month")+o*n),r&&Vf(e,"Date",vs(e,"Date")+r*n),s&&e._d.setTime(e._d.valueOf()+s*n),i&&Q.updateOffset(e,r||o))}var Hx=ad(1,"add"),Kx=ad(-1,"subtract");function cd(e){return typeof e=="string"||e instanceof String}function Ux(e){return Pe(e)||Ps(e)||cd(e)||rn(e)||qx(e)||$x(e)||e===null||e===void 0}function $x(e){var t=si(e)&&!dl(e),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,r,o=i.length;for(s=0;s<o;s+=1)r=i[s],n=n||Mt(e,r);return t&&n}function qx(e){var t=De(e),n=!1;return t&&(n=e.filter(function(i){return!rn(i)&&cd(e)}).length===0),t&&n}function Gx(e){var t=si(e)&&!dl(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,r;for(s=0;s<i.length;s+=1)r=i[s],n=n||Mt(e,r);return t&&n}function Xx(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Zx(e,t){arguments.length===1&&(arguments[0]?Ux(arguments[0])?(e=arguments[0],t=void 0):Gx(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Lt(),i=Al(n,this).startOf("day"),s=Q.calendarFormat(this,i)||"sameElse",r=t&&(je(t[s])?t[s].call(this,n):t[s]);return this.format(r||this.localeData().calendar(s,this,Lt(n)))}function Qx(){return new Ts(this)}function Jx(e,t){var n=Pe(e)?e:Lt(e);return this.isValid()&&n.isValid()?(t=Se(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function tw(e,t){var n=Pe(e)?e:Lt(e);return this.isValid()&&n.isValid()?(t=Se(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function ew(e,t,n,i){var s=Pe(e)?e:Lt(e),r=Pe(t)?t:Lt(t);return this.isValid()&&s.isValid()&&r.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(i[1]===")"?this.isBefore(r,n):!this.isAfter(r,n))):!1}function nw(e,t){var n=Pe(e)?e:Lt(e),i;return this.isValid()&&n.isValid()?(t=Se(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf())):!1}function iw(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function sw(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function rw(e,t,n){var i,s,r;if(!this.isValid())return NaN;if(i=Al(e,this),!i.isValid())return NaN;switch(s=(i.utcOffset()-this.utcOffset())*6e4,t=Se(t),t){case"year":r=Or(this,i)/12;break;case"month":r=Or(this,i);break;case"quarter":r=Or(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-s)/864e5;break;case"week":r=(this-i-s)/6048e5;break;default:r=this-i}return n?r:we(r)}function Or(e,t){if(e.date()<t.date())return-Or(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),i=e.clone().add(n,"months"),s,r;return t-i<0?(s=e.clone().add(n-1,"months"),r=(t-i)/(i-s)):(s=e.clone().add(n+1,"months"),r=(t-i)/(s-i)),-(n+r)||0}Q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Q.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ow(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function aw(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Sr(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):je(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Sr(n,"Z")):Sr(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function lw(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,i,s,r;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",r=t+'[")]',this.format(n+i+s+r)}function cw(e){e||(e=this.isUtc()?Q.defaultFormatUtc:Q.defaultFormat);var t=Sr(this,e);return this.localeData().postformat(t)}function uw(e,t){return this.isValid()&&(Pe(e)&&e.isValid()||Lt(e).isValid())?Te({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hw(e){return this.from(Lt(),e)}function fw(e,t){return this.isValid()&&(Pe(e)&&e.isValid()||Lt(e).isValid())?Te({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function dw(e){return this.to(Lt(),e)}function ud(e){var t;return e===void 0?this._locale._abbr:(t=an(e),t!=null&&(this._locale=t),this)}var hd=ke("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function fd(){return this._locale}var Br=1e3,Si=60*Br,jr=60*Si,dd=(365*400+97)*24*jr;function Mi(e,t){return(e%t+t)%t}function pd(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-dd:new Date(e,t,n).valueOf()}function gd(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-dd:Date.UTC(e,t,n)}function pw(e){var t,n;if(e=Se(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?gd:pd,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Mi(t+(this._isUTC?0:this.utcOffset()*Si),jr);break;case"minute":t=this._d.valueOf(),t-=Mi(t,Si);break;case"second":t=this._d.valueOf(),t-=Mi(t,Br);break}return this._d.setTime(t),Q.updateOffset(this,!0),this}function gw(e){var t,n;if(e=Se(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?gd:pd,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=jr-Mi(t+(this._isUTC?0:this.utcOffset()*Si),jr)-1;break;case"minute":t=this._d.valueOf(),t+=Si-Mi(t,Si)-1;break;case"second":t=this._d.valueOf(),t+=Br-Mi(t,Br)-1;break}return this._d.setTime(t),Q.updateOffset(this,!0),this}function mw(){return this._d.valueOf()-(this._offset||0)*6e4}function yw(){return Math.floor(this.valueOf()/1e3)}function bw(){return new Date(this.valueOf())}function _w(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function vw(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xw(){return this.isValid()?this.toISOString():null}function ww(){return pl(this)}function kw(){return Sn({},pt(this))}function Sw(){return pt(this).overflow}function Mw(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}at("N",0,0,"eraAbbr");at("NN",0,0,"eraAbbr");at("NNN",0,0,"eraAbbr");at("NNNN",0,0,"eraName");at("NNNNN",0,0,"eraNarrow");at("y",["y",1],"yo","eraYear");at("y",["yy",2],0,"eraYear");at("y",["yyy",3],0,"eraYear");at("y",["yyyy",4],0,"eraYear");it("N",Rl);it("NN",Rl);it("NNN",Rl);it("NNNN",Iw);it("NNNNN",Nw);Ct(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){var s=n._locale.erasParse(e,i,n._strict);s?pt(n).era=s:pt(n).invalidEra=e});it("y",Ai);it("yy",Ai);it("yyy",Ai);it("yyyy",Ai);it("yo",Yw);Ct(["y","yy","yyy","yyyy"],le);Ct(["yo"],function(e,t,n,i){var s;n._locale._eraYearOrdinalRegex&&(s=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[le]=n._locale.eraYearOrdinalParse(e,s):t[le]=parseInt(e,10)});function Ow(e,t){var n,i,s,r=this._eras||an("en")._eras;for(n=0,i=r.length;n<i;++n){switch(typeof r[n].since){case"string":s=Q(r[n].since).startOf("day"),r[n].since=s.valueOf();break}switch(typeof r[n].until){case"undefined":r[n].until=1/0;break;case"string":s=Q(r[n].until).startOf("day").valueOf(),r[n].until=s.valueOf();break}}return r}function Dw(e,t,n){var i,s,r=this.eras(),o,a,c;for(e=e.toUpperCase(),i=0,s=r.length;i<s;++i)if(o=r[i].name.toUpperCase(),a=r[i].abbr.toUpperCase(),c=r[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return r[i];break;case"NNNN":if(o===e)return r[i];break;case"NNNNN":if(c===e)return r[i];break}else if([o,a,c].indexOf(e)>=0)return r[i]}function Pw(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Q(e.since).year():Q(e.since).year()+(t-e.offset)*n}function Tw(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].name;return""}function Cw(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].narrow;return""}function Aw(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].abbr;return""}function Rw(){var e,t,n,i,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,i=this.clone().startOf("day").valueOf(),s[e].since<=i&&i<=s[e].until||s[e].until<=i&&i<=s[e].since)return(this.year()-Q(s[e].since).year())*n+s[e].offset;return this.year()}function Ew(e){return Mt(this,"_erasNameRegex")||El.call(this),e?this._erasNameRegex:this._erasRegex}function Lw(e){return Mt(this,"_erasAbbrRegex")||El.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fw(e){return Mt(this,"_erasNarrowRegex")||El.call(this),e?this._erasNarrowRegex:this._erasRegex}function Rl(e,t){return t.erasAbbrRegex(e)}function Iw(e,t){return t.erasNameRegex(e)}function Nw(e,t){return t.erasNarrowRegex(e)}function Yw(e,t){return t._eraYearOrdinalRegex||Ai}function El(){var e=[],t=[],n=[],i=[],s,r,o,a,c,h=this.eras();for(s=0,r=h.length;s<r;++s)o=nn(h[s].name),a=nn(h[s].abbr),c=nn(h[s].narrow),t.push(o),e.push(a),n.push(c),i.push(o),i.push(a),i.push(c);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}at(0,["gg",2],0,function(){return this.weekYear()%100});at(0,["GG",2],0,function(){return this.isoWeekYear()%100});function uo(e,t){at(0,[e,e.length],0,t)}uo("gggg","weekYear");uo("ggggg","weekYear");uo("GGGG","isoWeekYear");uo("GGGGG","isoWeekYear");it("G",ro);it("g",ro);it("GG",Ft,be);it("gg",Ft,be);it("GGGG",vl,_l);it("gggg",vl,_l);it("GGGGG",so,no);it("ggggg",so,no);As(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=vt(e)});As(["gg","GG"],function(e,t,n,i){t[i]=Q.parseTwoDigitYear(e)});function Ww(e){return md.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Bw(e){return md.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function jw(){return sn(this.year(),1,4)}function zw(){return sn(this.isoWeekYear(),1,4)}function Vw(){var e=this.localeData()._week;return sn(this.year(),e.dow,e.doy)}function Hw(){var e=this.localeData()._week;return sn(this.weekYear(),e.dow,e.doy)}function md(e,t,n,i,s){var r;return e==null?ws(this,i,s).year:(r=sn(e,i,s),t>r&&(t=r),Kw.call(this,e,t,n,i,s))}function Kw(e,t,n,i,s){var r=Gf(e,t,n,i,s),o=xs(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}at("Q",0,"Qo","quarter");it("Q",Yf);Ct("Q",function(e,t){t[tn]=(vt(e)-1)*3});function Uw(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}at("D",["DD",2],"Do","date");it("D",Ft,Ri);it("DD",Ft,be);it("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Ct(["D","DD"],Ne);Ct("Do",function(e,t){t[Ne]=vt(e.match(Ft)[0])});var yd=Ei("Date",!0);at("DDD",["DDDD",3],"DDDo","dayOfYear");it("DDD",io);it("DDDD",Wf);Ct(["DDD","DDDD"],function(e,t,n){n._dayOfYear=vt(e)});function $w(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}at("m",["mm",2],0,"minute");it("m",Ft,xl);it("mm",Ft,be);Ct(["m","mm"],Oe);var qw=Ei("Minutes",!1);at("s",["ss",2],0,"second");it("s",Ft,xl);it("ss",Ft,be);Ct(["s","ss"],en);var Gw=Ei("Seconds",!1);at("S",0,0,function(){return~~(this.millisecond()/100)});at(0,["SS",2],0,function(){return~~(this.millisecond()/10)});at(0,["SSS",3],0,"millisecond");at(0,["SSSS",4],0,function(){return this.millisecond()*10});at(0,["SSSSS",5],0,function(){return this.millisecond()*100});at(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});at(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});at(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});at(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});it("S",io,Yf);it("SS",io,be);it("SSS",io,Wf);var Mn,bd;for(Mn="SSSS";Mn.length<=9;Mn+="S")it(Mn,Ai);function Xw(e,t){t[Jn]=vt(("0."+e)*1e3)}for(Mn="S";Mn.length<=9;Mn+="S")Ct(Mn,Xw);bd=Ei("Milliseconds",!1);at("z",0,0,"zoneAbbr");at("zz",0,0,"zoneName");function Zw(){return this._isUTC?"UTC":""}function Qw(){return this._isUTC?"Coordinated Universal Time":""}var H=Ts.prototype;H.add=Hx;H.calendar=Zx;H.clone=Qx;H.diff=rw;H.endOf=gw;H.format=cw;H.from=uw;H.fromNow=hw;H.to=fw;H.toNow=dw;H.get=lv;H.invalidAt=Sw;H.isAfter=Jx;H.isBefore=tw;H.isBetween=ew;H.isSame=nw;H.isSameOrAfter=iw;H.isSameOrBefore=sw;H.isValid=ww;H.lang=hd;H.locale=ud;H.localeData=fd;H.max=wx;H.min=xx;H.parsingFlags=kw;H.set=cv;H.startOf=pw;H.subtract=Kx;H.toArray=_w;H.toObject=vw;H.toDate=bw;H.toISOString=aw;H.inspect=lw;typeof Symbol<"u"&&Symbol.for!=null&&(H[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});H.toJSON=xw;H.toString=ow;H.unix=yw;H.valueOf=mw;H.creationData=Mw;H.eraName=Tw;H.eraNarrow=Cw;H.eraAbbr=Aw;H.eraYear=Rw;H.year=zf;H.isLeapYear=av;H.weekYear=Ww;H.isoWeekYear=Bw;H.quarter=H.quarters=Uw;H.month=$f;H.daysInMonth=bv;H.week=H.weeks=Ov;H.isoWeek=H.isoWeeks=Dv;H.weeksInYear=Vw;H.weeksInWeekYear=Hw;H.isoWeeksInYear=jw;H.isoWeeksInISOWeekYear=zw;H.date=yd;H.day=H.days=Bv;H.weekday=jv;H.isoWeekday=zv;H.dayOfYear=$w;H.hour=H.hours=Gv;H.minute=H.minutes=qw;H.second=H.seconds=Gw;H.millisecond=H.milliseconds=bd;H.utcOffset=Ax;H.utc=Ex;H.local=Lx;H.parseZone=Fx;H.hasAlignedHourOffset=Ix;H.isDST=Nx;H.isLocal=Wx;H.isUtcOffset=Bx;H.isUtc=od;H.isUTC=od;H.zoneAbbr=Zw;H.zoneName=Qw;H.dates=ke("dates accessor is deprecated. Use date instead.",yd);H.months=ke("months accessor is deprecated. Use month instead",$f);H.years=ke("years accessor is deprecated. Use year instead",zf);H.zone=ke("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Rx);H.isDSTShifted=ke("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Yx);function Jw(e){return Lt(e*1e3)}function tk(){return Lt.apply(null,arguments).parseZone()}function _d(e){return e}var Ot=ml.prototype;Ot.calendar=W0;Ot.longDateFormat=V0;Ot.invalidDate=K0;Ot.ordinal=q0;Ot.preparse=_d;Ot.postformat=_d;Ot.relativeTime=X0;Ot.pastFuture=Z0;Ot.set=N0;Ot.eras=Ow;Ot.erasParse=Dw;Ot.erasConvertYear=Pw;Ot.erasAbbrRegex=Lw;Ot.erasNameRegex=Ew;Ot.erasNarrowRegex=Fw;Ot.months=pv;Ot.monthsShort=gv;Ot.monthsParse=yv;Ot.monthsRegex=vv;Ot.monthsShortRegex=_v;Ot.week=wv;Ot.firstDayOfYear=Mv;Ot.firstDayOfWeek=Sv;Ot.weekdays=Fv;Ot.weekdaysMin=Nv;Ot.weekdaysShort=Iv;Ot.weekdaysParse=Wv;Ot.weekdaysRegex=Vv;Ot.weekdaysShortRegex=Hv;Ot.weekdaysMinRegex=Kv;Ot.isPM=$v;Ot.meridiem=Xv;function zr(e,t,n,i){var s=an(),r=Be().set(i,t);return s[n](r,e)}function vd(e,t,n){if(rn(e)&&(t=e,e=void 0),e=e||"",t!=null)return zr(e,t,n,"month");var i,s=[];for(i=0;i<12;i++)s[i]=zr(e,i,n,"month");return s}function Ll(e,t,n,i){typeof e=="boolean"?(rn(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,rn(t)&&(n=t,t=void 0),t=t||"");var s=an(),r=e?s._week.dow:0,o,a=[];if(n!=null)return zr(t,(n+r)%7,i,"day");for(o=0;o<7;o++)a[o]=zr(t,(o+r)%7,i,"day");return a}function ek(e,t){return vd(e,t,"months")}function nk(e,t){return vd(e,t,"monthsShort")}function ik(e,t,n){return Ll(e,t,n,"weekdays")}function sk(e,t,n){return Ll(e,t,n,"weekdaysShort")}function rk(e,t,n){return Ll(e,t,n,"weekdaysMin")}Dn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=vt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Q.lang=ke("moment.lang is deprecated. Use moment.locale instead.",Dn);Q.langData=ke("moment.langData is deprecated. Use moment.localeData instead.",an);var Ke=Math.abs;function ok(){var e=this._data;return this._milliseconds=Ke(this._milliseconds),this._days=Ke(this._days),this._months=Ke(this._months),e.milliseconds=Ke(e.milliseconds),e.seconds=Ke(e.seconds),e.minutes=Ke(e.minutes),e.hours=Ke(e.hours),e.months=Ke(e.months),e.years=Ke(e.years),this}function xd(e,t,n,i){var s=Te(t,n);return e._milliseconds+=i*s._milliseconds,e._days+=i*s._days,e._months+=i*s._months,e._bubble()}function ak(e,t){return xd(this,e,t,1)}function lk(e,t){return xd(this,e,t,-1)}function rh(e){return e<0?Math.floor(e):Math.ceil(e)}function ck(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data,s,r,o,a,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=rh(Va(n)+t)*864e5,t=0,n=0),i.milliseconds=e%1e3,s=we(e/1e3),i.seconds=s%60,r=we(s/60),i.minutes=r%60,o=we(r/60),i.hours=o%24,t+=we(o/24),c=we(wd(t)),n+=c,t-=rh(Va(c)),a=we(n/12),n%=12,i.days=t,i.months=n,i.years=a,this}function wd(e){return e*4800/146097}function Va(e){return e*146097/4800}function uk(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if(e=Se(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+i/864e5,n=this._months+wd(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Va(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+e)}}function ln(e){return function(){return this.as(e)}}var kd=ln("ms"),hk=ln("s"),fk=ln("m"),dk=ln("h"),pk=ln("d"),gk=ln("w"),mk=ln("M"),yk=ln("Q"),bk=ln("y"),_k=kd;function vk(){return Te(this)}function xk(e){return e=Se(e),this.isValid()?this[e+"s"]():NaN}function li(e){return function(){return this.isValid()?this._data[e]:NaN}}var wk=li("milliseconds"),kk=li("seconds"),Sk=li("minutes"),Mk=li("hours"),Ok=li("days"),Dk=li("months"),Pk=li("years");function Tk(){return we(this.days()/7)}var qe=Math.round,vi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ck(e,t,n,i,s){return s.relativeTime(t||1,!!n,e,i)}function Ak(e,t,n,i){var s=Te(e).abs(),r=qe(s.as("s")),o=qe(s.as("m")),a=qe(s.as("h")),c=qe(s.as("d")),h=qe(s.as("M")),d=qe(s.as("w")),g=qe(s.as("y")),y=r<=n.ss&&["s",r]||r<n.s&&["ss",r]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(y=y||d<=1&&["w"]||d<n.w&&["ww",d]),y=y||h<=1&&["M"]||h<n.M&&["MM",h]||g<=1&&["y"]||["yy",g],y[2]=t,y[3]=+e>0,y[4]=i,Ck.apply(null,y)}function Rk(e){return e===void 0?qe:typeof e=="function"?(qe=e,!0):!1}function Ek(e,t){return vi[e]===void 0?!1:t===void 0?vi[e]:(vi[e]=t,e==="s"&&(vi.ss=t-1),!0)}function Lk(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=vi,s,r;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(i=Object.assign({},vi,t),t.s!=null&&t.ss==null&&(i.ss=t.s-1)),s=this.localeData(),r=Ak(this,!n,i,s),n&&(r=s.pastFuture(+this,r)),s.postformat(r)}var ma=Math.abs;function bi(e){return(e>0)-(e<0)||+e}function ho(){if(!this.isValid())return this.localeData().invalidDate();var e=ma(this._milliseconds)/1e3,t=ma(this._days),n=ma(this._months),i,s,r,o,a=this.asSeconds(),c,h,d,g;return a?(i=we(e/60),s=we(i/60),e%=60,i%=60,r=we(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=a<0?"-":"",h=bi(this._months)!==bi(a)?"-":"",d=bi(this._days)!==bi(a)?"-":"",g=bi(this._milliseconds)!==bi(a)?"-":"",c+"P"+(r?h+r+"Y":"")+(n?h+n+"M":"")+(t?d+t+"D":"")+(s||i||e?"T":"")+(s?g+s+"H":"")+(i?g+i+"M":"")+(e?g+o+"S":"")):"P0D"}var wt=co.prototype;wt.isValid=Dx;wt.abs=ok;wt.add=ak;wt.subtract=lk;wt.as=uk;wt.asMilliseconds=kd;wt.asSeconds=hk;wt.asMinutes=fk;wt.asHours=dk;wt.asDays=pk;wt.asWeeks=gk;wt.asMonths=mk;wt.asQuarters=yk;wt.asYears=bk;wt.valueOf=_k;wt._bubble=ck;wt.clone=vk;wt.get=xk;wt.milliseconds=wk;wt.seconds=kk;wt.minutes=Sk;wt.hours=Mk;wt.days=Ok;wt.weeks=Tk;wt.months=Dk;wt.years=Pk;wt.humanize=Lk;wt.toISOString=ho;wt.toString=ho;wt.toJSON=ho;wt.locale=ud;wt.localeData=fd;wt.toIsoString=ke("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ho);wt.lang=hd;at("X",0,0,"unix");at("x",0,0,"valueOf");it("x",ro);it("X",ev);Ct("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Ct("x",function(e,t,n){n._d=new Date(vt(e))});//! moment.js
Q.version="2.30.1";F0(Lt);Q.fn=H;Q.min=kx;Q.max=Sx;Q.now=Mx;Q.utc=Be;Q.unix=Jw;Q.months=ek;Q.isDate=Ps;Q.locale=Dn;Q.invalid=eo;Q.duration=Te;Q.isMoment=Pe;Q.weekdays=ik;Q.parseZone=tk;Q.localeData=an;Q.isDuration=Mr;Q.monthsShort=nk;Q.weekdaysMin=rk;Q.defineLocale=Ol;Q.updateLocale=tx;Q.locales=ex;Q.weekdaysShort=sk;Q.normalizeUnits=Se;Q.relativeTimeRounding=Rk;Q.relativeTimeThreshold=Ek;Q.calendarFormat=Xx;Q.prototype=H;Q.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};/*!
  * chartjs-adapter-moment v1.0.1
  * https://www.chartjs.org
  * (c) 2022 chartjs-adapter-moment Contributors
  * Released under the MIT license
  */const Fk={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};ff._date.override(typeof Q=="function"?{_id:"moment",formats:function(){return Fk},parse:function(e,t){return typeof e=="string"&&typeof t=="string"?e=Q(e,t):e instanceof Q||(e=Q(e)),e.isValid()?e.valueOf():null},format:function(e,t){return Q(e).format(t)},add:function(e,t,n){return Q(e).add(t,n).valueOf()},diff:function(e,t,n){return Q(e).diff(Q(t),n)},startOf:function(e,t,n){return e=Q(e),t==="isoWeek"?(n=Math.trunc(Math.min(Math.max(0,n),6)),e.isoWeekday(n).startOf("day").valueOf()):e.startOf(t).valueOf()},endOf:function(e,t){return Q(e).endOf(t).valueOf()}}:{});var Ik=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dr={exports:{}},Yk=Dr.exports,oh;function Wk(){return oh||(oh=1,function(e,t){(function(n,i){e.exports=i()})(Yk,function(){var n=function(l,u){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])})(l,u)},i=function(){return(i=Object.assign||function(l){for(var u,f=1,p=arguments.length;f<p;f++)for(var m in u=arguments[f])Object.prototype.hasOwnProperty.call(u,m)&&(l[m]=u[m]);return l}).apply(this,arguments)};function s(l,u,f){for(var p,m=0,b=u.length;m<b;m++)!p&&m in u||((p=p||Array.prototype.slice.call(u,0,m))[m]=u[m]);return l.concat(p||Array.prototype.slice.call(u))}var r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ik,o=Object.keys,a=Array.isArray;function c(l,u){return typeof u!="object"||o(u).forEach(function(f){l[f]=u[f]}),l}typeof Promise>"u"||r.Promise||(r.Promise=Promise);var h=Object.getPrototypeOf,d={}.hasOwnProperty;function g(l,u){return d.call(l,u)}function y(l,u){typeof u=="function"&&(u=u(h(l))),(typeof Reflect>"u"?o:Reflect.ownKeys)(u).forEach(function(f){x(l,f,u[f])})}var _=Object.defineProperty;function x(l,u,f,p){_(l,u,c(f&&g(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},p))}function w(l){return{from:function(u){return l.prototype=Object.create(u.prototype),x(l.prototype,"constructor",l),{extend:y.bind(null,l.prototype)}}}}var M=Object.getOwnPropertyDescriptor,L=[].slice;function Y(l,u,f){return L.call(l,u,f)}function V(l,u){return u(l)}function z(l){if(!l)throw new Error("Assertion Failed")}function B(l){r.setImmediate?setImmediate(l):setTimeout(l,0)}function $(l,u){if(typeof u=="string"&&g(l,u))return l[u];if(!u)return l;if(typeof u!="string"){for(var f=[],p=0,m=u.length;p<m;++p){var b=$(l,u[p]);f.push(b)}return f}var v=u.indexOf(".");if(v!==-1){var k=l[u.substr(0,v)];return k==null?void 0:$(k,u.substr(v+1))}}function j(l,u,f){if(l&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof u!="string"&&"length"in u){z(typeof f!="string"&&"length"in f);for(var p=0,m=u.length;p<m;++p)j(l,u[p],f[p])}else{var b,v,k=u.indexOf(".");k!==-1?(b=u.substr(0,k),(v=u.substr(k+1))===""?f===void 0?a(l)&&!isNaN(parseInt(b))?l.splice(b,1):delete l[b]:l[b]=f:j(k=!(k=l[b])||!g(l,b)?l[b]={}:k,v,f)):f===void 0?a(l)&&!isNaN(parseInt(u))?l.splice(u,1):delete l[u]:l[u]=f}}function q(l){var u,f={};for(u in l)g(l,u)&&(f[u]=l[u]);return f}var tt=[].concat;function st(l){return tt.apply([],l)}var Fn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(st([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(u){return u+l+"Array"})}))).filter(function(l){return r[l]}),rt=new Set(Fn.map(function(l){return r[l]})),ct=null;function yt(l){return ct=new WeakMap,l=function u(f){if(!f||typeof f!="object")return f;var p=ct.get(f);if(p)return p;if(a(f)){p=[],ct.set(f,p);for(var m=0,b=f.length;m<b;++m)p.push(u(f[m]))}else if(rt.has(f.constructor))p=f;else{var v,k=h(f);for(v in p=k===Object.prototype?{}:Object.create(k),ct.set(f,p),f)g(f,v)&&(p[v]=u(f[v]))}return p}(l),ct=null,l}var Bt={}.toString;function dt(l){return Bt.call(l).slice(8,-1)}var Pt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",jt=typeof Pt=="symbol"?function(l){var u;return l!=null&&(u=l[Pt])&&u.apply(l)}:function(){return null};function qt(l,u){return u=l.indexOf(u),0<=u&&l.splice(u,1),0<=u}var zt={};function ee(l){var u,f,p,m;if(arguments.length===1){if(a(l))return l.slice();if(this===zt&&typeof l=="string")return[l];if(m=jt(l)){for(f=[];!(p=m.next()).done;)f.push(p.value);return f}if(l==null)return[l];if(typeof(u=l.length)!="number")return[l];for(f=new Array(u);u--;)f[u]=l[u];return f}for(u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return f}var cn=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ii=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ve=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ii),un={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function _e(l,u){this.name=l,this.message=u}function Ce(l,u){return l+". Errors: "+Object.keys(u).map(function(f){return u[f].toString()}).filter(function(f,p,m){return m.indexOf(f)===p}).join(`
`)}function Ae(l,u,f,p){this.failures=u,this.failedKeys=p,this.successCount=f,this.message=Ce(l,u)}function he(l,u){this.name="BulkError",this.failures=Object.keys(u).map(function(f){return u[f]}),this.failuresByPos=u,this.message=Ce(l,this.failures)}w(_e).from(Error).extend({toString:function(){return this.name+": "+this.message}}),w(Ae).from(_e),w(he).from(_e);var fo=ve.reduce(function(l,u){return l[u]=u+"Error",l},{}),Sd=_e,lt=ve.reduce(function(l,u){var f=u+"Error";function p(m,b){this.name=f,m?typeof m=="string"?(this.message="".concat(m).concat(b?`
 `+b:""),this.inner=b||null):typeof m=="object"&&(this.message="".concat(m.name," ").concat(m.message),this.inner=m):(this.message=un[u]||f,this.inner=null)}return w(p).from(Sd),l[u]=p,l},{});lt.Syntax=SyntaxError,lt.Type=TypeError,lt.Range=RangeError;var Il=Ii.reduce(function(l,u){return l[u+"Error"]=lt[u],l},{}),Rs=ve.reduce(function(l,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(l[u+"Error"]=lt[u]),l},{});function Tt(){}function Li(l){return l}function Md(l,u){return l==null||l===Li?u:function(f){return u(l(f))}}function Ln(l,u){return function(){l.apply(this,arguments),u.apply(this,arguments)}}function Od(l,u){return l===Tt?u:function(){var f=l.apply(this,arguments);f!==void 0&&(arguments[0]=f);var p=this.onsuccess,m=this.onerror;this.onsuccess=null,this.onerror=null;var b=u.apply(this,arguments);return p&&(this.onsuccess=this.onsuccess?Ln(p,this.onsuccess):p),m&&(this.onerror=this.onerror?Ln(m,this.onerror):m),b!==void 0?b:f}}function Dd(l,u){return l===Tt?u:function(){l.apply(this,arguments);var f=this.onsuccess,p=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Ln(f,this.onsuccess):f),p&&(this.onerror=this.onerror?Ln(p,this.onerror):p)}}function Pd(l,u){return l===Tt?u:function(f){var p=l.apply(this,arguments);c(f,p);var m=this.onsuccess,b=this.onerror;return this.onsuccess=null,this.onerror=null,f=u.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?Ln(m,this.onsuccess):m),b&&(this.onerror=this.onerror?Ln(b,this.onerror):b),p===void 0?f===void 0?void 0:f:c(p,f)}}function Td(l,u){return l===Tt?u:function(){return u.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function po(l,u){return l===Tt?u:function(){var f=l.apply(this,arguments);if(f&&typeof f.then=="function"){for(var p=this,m=arguments.length,b=new Array(m);m--;)b[m]=arguments[m];return f.then(function(){return u.apply(p,b)})}return u.apply(this,arguments)}}Rs.ModifyError=Ae,Rs.DexieError=_e,Rs.BulkError=he;var Re=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Nl(l){Re=l}var Fi={},Yl=100,Fn=typeof Promise>"u"?[]:function(){var l=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[l,h(l),l];var u=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[u,h(u),l]}(),Ii=Fn[0],ve=Fn[1],Fn=Fn[2],ve=ve&&ve.then,In=Ii&&Ii.constructor,go=!!Fn,Ni=function(l,u){Yi.push([l,u]),Es&&(queueMicrotask(Ad),Es=!1)},mo=!0,Es=!0,Nn=[],Ls=[],yo=Li,hn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Tt,pgp:!1,env:{},finalize:Tt},ot=hn,Yi=[],Yn=0,Fs=[];function et(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=ot;if(typeof l!="function"){if(l!==Fi)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&_o(this,this._value))}this._state=null,this._value=null,++u.ref,function f(p,m){try{m(function(b){if(p._state===null){if(b===p)throw new TypeError("A promise cannot be resolved with itself.");var v=p._lib&&ci();b&&typeof b.then=="function"?f(p,function(k,O){b instanceof et?b._then(k,O):b.then(k,O)}):(p._state=!0,p._value=b,Bl(p)),v&&ui()}},_o.bind(null,p))}catch(b){_o(p,b)}}(this,l)}var bo={get:function(){var l=ot,u=Ws;function f(p,m){var b=this,v=!l.global&&(l!==ot||u!==Ws),k=v&&!dn(),O=new et(function(P,A){vo(b,new Wl(zl(p,l,v,k),zl(m,l,v,k),P,A,l))});return this._consoleTask&&(O._consoleTask=this._consoleTask),O}return f.prototype=Fi,f},set:function(l){x(this,"then",l&&l.prototype===Fi?bo:{get:function(){return l},set:bo.set})}};function Wl(l,u,f,p,m){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof u=="function"?u:null,this.resolve=f,this.reject=p,this.psd=m}function _o(l,u){var f,p;Ls.push(u),l._state===null&&(f=l._lib&&ci(),u=yo(u),l._state=!1,l._value=u,p=l,Nn.some(function(m){return m._value===p._value})||Nn.push(p),Bl(l),f&&ui())}function Bl(l){var u=l._listeners;l._listeners=[];for(var f=0,p=u.length;f<p;++f)vo(l,u[f]);var m=l._PSD;--m.ref||m.finalize(),Yn===0&&(++Yn,Ni(function(){--Yn==0&&xo()},[]))}function vo(l,u){if(l._state!==null){var f=l._state?u.onFulfilled:u.onRejected;if(f===null)return(l._state?u.resolve:u.reject)(l._value);++u.psd.ref,++Yn,Ni(Cd,[f,l,u])}else l._listeners.push(u)}function Cd(l,u,f){try{var p,m=u._value;!u._state&&Ls.length&&(Ls=[]),p=Re&&u._consoleTask?u._consoleTask.run(function(){return l(m)}):l(m),u._state||Ls.indexOf(m)!==-1||function(b){for(var v=Nn.length;v;)if(Nn[--v]._value===b._value)return Nn.splice(v,1)}(u),f.resolve(p)}catch(b){f.reject(b)}finally{--Yn==0&&xo(),--f.psd.ref||f.psd.finalize()}}function Ad(){Wn(hn,function(){ci()&&ui()})}function ci(){var l=mo;return Es=mo=!1,l}function ui(){var l,u,f;do for(;0<Yi.length;)for(l=Yi,Yi=[],f=l.length,u=0;u<f;++u){var p=l[u];p[0].apply(null,p[1])}while(0<Yi.length);Es=mo=!0}function xo(){var l=Nn;Nn=[],l.forEach(function(p){p._PSD.onunhandled.call(null,p._value,p)});for(var u=Fs.slice(0),f=u.length;f;)u[--f]()}function Is(l){return new et(Fi,!1,l)}function It(l,u){var f=ot;return function(){var p=ci(),m=ot;try{return pn(f,!0),l.apply(this,arguments)}catch(b){u&&u(b)}finally{pn(m,!1),p&&ui()}}}y(et.prototype,{then:bo,_then:function(l,u){vo(this,new Wl(null,null,l,u,ot))},catch:function(l){if(arguments.length===1)return this.then(null,l);var u=l,f=arguments[1];return typeof u=="function"?this.then(null,function(p){return(p instanceof u?f:Is)(p)}):this.then(null,function(p){return(p&&p.name===u?f:Is)(p)})},finally:function(l){return this.then(function(u){return et.resolve(l()).then(function(){return u})},function(u){return et.resolve(l()).then(function(){return Is(u)})})},timeout:function(l,u){var f=this;return l<1/0?new et(function(p,m){var b=setTimeout(function(){return m(new lt.Timeout(u))},l);f.then(p,m).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&x(et.prototype,Symbol.toStringTag,"Dexie.Promise"),hn.env=jl(),y(et,{all:function(){var l=ee.apply(null,arguments).map(Bs);return new et(function(u,f){l.length===0&&u([]);var p=l.length;l.forEach(function(m,b){return et.resolve(m).then(function(v){l[b]=v,--p||u(l)},f)})})},resolve:function(l){return l instanceof et?l:l&&typeof l.then=="function"?new et(function(u,f){l.then(u,f)}):new et(Fi,!0,l)},reject:Is,race:function(){var l=ee.apply(null,arguments).map(Bs);return new et(function(u,f){l.map(function(p){return et.resolve(p).then(u,f)})})},PSD:{get:function(){return ot},set:function(l){return ot=l}},totalEchoes:{get:function(){return Ws}},newPSD:fn,usePSD:Wn,scheduler:{get:function(){return Ni},set:function(l){Ni=l}},rejectionMapper:{get:function(){return yo},set:function(l){yo=l}},follow:function(l,u){return new et(function(f,p){return fn(function(m,b){var v=ot;v.unhandleds=[],v.onunhandled=b,v.finalize=Ln(function(){var k,O=this;k=function(){O.unhandleds.length===0?m():b(O.unhandleds[0])},Fs.push(function P(){k(),Fs.splice(Fs.indexOf(P),1)}),++Yn,Ni(function(){--Yn==0&&xo()},[])},v.finalize),l()},u,f,p)})}}),In&&(In.allSettled&&x(et,"allSettled",function(){var l=ee.apply(null,arguments).map(Bs);return new et(function(u){l.length===0&&u([]);var f=l.length,p=new Array(f);l.forEach(function(m,b){return et.resolve(m).then(function(v){return p[b]={status:"fulfilled",value:v}},function(v){return p[b]={status:"rejected",reason:v}}).then(function(){return--f||u(p)})})})}),In.any&&typeof AggregateError<"u"&&x(et,"any",function(){var l=ee.apply(null,arguments).map(Bs);return new et(function(u,f){l.length===0&&f(new AggregateError([]));var p=l.length,m=new Array(p);l.forEach(function(b,v){return et.resolve(b).then(function(k){return u(k)},function(k){m[v]=k,--p||f(new AggregateError(m))})})})}),In.withResolvers&&(et.withResolvers=In.withResolvers));var Zt={awaits:0,echoes:0,id:0},Rd=0,Ns=[],Ys=0,Ws=0,Ed=0;function fn(l,u,f,p){var m=ot,b=Object.create(m);return b.parent=m,b.ref=0,b.global=!1,b.id=++Ed,hn.env,b.env=go?{Promise:et,PromiseProp:{value:et,configurable:!0,writable:!0},all:et.all,race:et.race,allSettled:et.allSettled,any:et.any,resolve:et.resolve,reject:et.reject}:{},u&&c(b,u),++m.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},p=Wn(b,l,f,p),b.ref===0&&b.finalize(),p}function hi(){return Zt.id||(Zt.id=++Rd),++Zt.awaits,Zt.echoes+=Yl,Zt.id}function dn(){return!!Zt.awaits&&(--Zt.awaits==0&&(Zt.id=0),Zt.echoes=Zt.awaits*Yl,!0)}function Bs(l){return Zt.echoes&&l&&l.constructor===In?(hi(),l.then(function(u){return dn(),u},function(u){return dn(),Ht(u)})):l}function Ld(){var l=Ns[Ns.length-1];Ns.pop(),pn(l,!1)}function pn(l,u){var f,p=ot;(u?!Zt.echoes||Ys++&&l===ot:!Ys||--Ys&&l===ot)||queueMicrotask(u?(function(m){++Ws,Zt.echoes&&--Zt.echoes!=0||(Zt.echoes=Zt.awaits=Zt.id=0),Ns.push(ot),pn(m,!0)}).bind(null,l):Ld),l!==ot&&(ot=l,p===hn&&(hn.env=jl()),go&&(f=hn.env.Promise,u=l.env,(p.global||l.global)&&(Object.defineProperty(r,"Promise",u.PromiseProp),f.all=u.all,f.race=u.race,f.resolve=u.resolve,f.reject=u.reject,u.allSettled&&(f.allSettled=u.allSettled),u.any&&(f.any=u.any))))}function jl(){var l=r.Promise;return go?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Wn(l,u,f,p,m){var b=ot;try{return pn(l,!0),u(f,p,m)}finally{pn(b,!1)}}function zl(l,u,f,p){return typeof l!="function"?l:function(){var m=ot;f&&hi(),pn(u,!0);try{return l.apply(this,arguments)}finally{pn(m,!1),p&&queueMicrotask(dn)}}}function wo(l){Promise===In&&Zt.echoes===0?Ys===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+ve).indexOf("[native code]")===-1&&(hi=dn=Tt);var Ht=et.reject,Bn="",ze="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Vl="String expected.",fi=[],js="__dbnames",ko="readonly",So="readwrite";function jn(l,u){return l?u?function(){return l.apply(this,arguments)&&u.apply(this,arguments)}:l:u}var Hl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function zs(l){return typeof l!="string"||/\./.test(l)?function(u){return u}:function(u){return u[l]===void 0&&l in u&&delete(u=yt(u))[l],u}}function Kl(){throw lt.Type()}function xt(l,u){try{var f=Ul(l),p=Ul(u);if(f!==p)return f==="Array"?1:p==="Array"?-1:f==="binary"?1:p==="binary"?-1:f==="string"?1:p==="string"?-1:f==="Date"?1:p!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return u<l?1:l<u?-1:0;case"binary":return function(m,b){for(var v=m.length,k=b.length,O=v<k?v:k,P=0;P<O;++P)if(m[P]!==b[P])return m[P]<b[P]?-1:1;return v===k?0:v<k?-1:1}($l(l),$l(u));case"Array":return function(m,b){for(var v=m.length,k=b.length,O=v<k?v:k,P=0;P<O;++P){var A=xt(m[P],b[P]);if(A!==0)return A}return v===k?0:v<k?-1:1}(l,u)}}catch{}return NaN}function Ul(l){var u=typeof l;return u!="object"?u:ArrayBuffer.isView(l)?"binary":(l=dt(l),l==="ArrayBuffer"?"binary":l)}function $l(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}var ql=(Rt.prototype._trans=function(l,u,f){var p=this._tx||ot.trans,m=this.name,b=Re&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function v(P,A,S){if(!S.schema[m])throw new lt.NotFound("Table "+m+" not part of transaction");return u(S.idbtrans,S)}var k=ci();try{var O=p&&p.db._novip===this.db._novip?p===ot.trans?p._promise(l,v,f):fn(function(){return p._promise(l,v,f)},{trans:p,transless:ot.transless||ot}):function P(A,S,E,D){if(A.idbdb&&(A._state.openComplete||ot.letThrough||A._vip)){var C=A._createTransaction(S,E,A._dbSchema);try{C.create(),A._state.PR1398_maxLoop=3}catch(R){return R.name===fo.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return P(A,S,E,D)})):Ht(R)}return C._promise(S,function(R,T){return fn(function(){return ot.trans=C,D(R,T,C)})}).then(function(R){if(S==="readwrite")try{C.idbtrans.commit()}catch{}return S==="readonly"?R:C._completion.then(function(){return R})})}if(A._state.openComplete)return Ht(new lt.DatabaseClosed(A._state.dbOpenError));if(!A._state.isBeingOpened){if(!A._state.autoOpen)return Ht(new lt.DatabaseClosed);A.open().catch(Tt)}return A._state.dbReadyPromise.then(function(){return P(A,S,E,D)})}(this.db,l,[this.name],v);return b&&(O._consoleTask=b,O=O.catch(function(P){return console.trace(P),Ht(P)})),O}finally{k&&ui()}},Rt.prototype.get=function(l,u){var f=this;return l&&l.constructor===Object?this.where(l).first(u):l==null?Ht(new lt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(p){return f.core.get({trans:p,key:l}).then(function(m){return f.hook.reading.fire(m)})}).then(u)},Rt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(a(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var u=o(l);if(u.length===1)return this.where(u[0]).equals(l[u[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(k){if(k.compound&&u.every(function(P){return 0<=k.keyPath.indexOf(P)})){for(var O=0;O<u.length;++O)if(u.indexOf(k.keyPath[O])===-1)return!1;return!0}return!1}).sort(function(k,O){return k.keyPath.length-O.keyPath.length})[0];if(f&&this.db._maxKey!==Bn){var b=f.keyPath.slice(0,u.length);return this.where(b).equals(b.map(function(O){return l[O]}))}!f&&Re&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var p=this.schema.idxByName;function m(k,O){return xt(k,O)===0}var v=u.reduce(function(S,O){var P=S[0],A=S[1],S=p[O],E=l[O];return[P||S,P||!S?jn(A,S&&S.multi?function(D){return D=$(D,O),a(D)&&D.some(function(C){return m(E,C)})}:function(D){return m(E,$(D,O))}):A]},[null,null]),b=v[0],v=v[1];return b?this.where(b.name).equals(l[b.keyPath]).filter(v):f?this.filter(v):this.where(u).equals("")},Rt.prototype.filter=function(l){return this.toCollection().and(l)},Rt.prototype.count=function(l){return this.toCollection().count(l)},Rt.prototype.offset=function(l){return this.toCollection().offset(l)},Rt.prototype.limit=function(l){return this.toCollection().limit(l)},Rt.prototype.each=function(l){return this.toCollection().each(l)},Rt.prototype.toArray=function(l){return this.toCollection().toArray(l)},Rt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Rt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,a(l)?"[".concat(l.join("+"),"]"):l))},Rt.prototype.reverse=function(){return this.toCollection().reverse()},Rt.prototype.mapToClass=function(l){var u,f=this.db,p=this.name;function m(){return u!==null&&u.apply(this,arguments)||this}(this.schema.mappedClass=l).prototype instanceof Kl&&(function(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function A(){this.constructor=O}n(O,P),O.prototype=P===null?Object.create(P):(A.prototype=P.prototype,new A)}(m,u=l),Object.defineProperty(m.prototype,"db",{get:function(){return f},enumerable:!1,configurable:!0}),m.prototype.table=function(){return p},l=m);for(var b=new Set,v=l.prototype;v;v=h(v))Object.getOwnPropertyNames(v).forEach(function(O){return b.add(O)});function k(O){if(!O)return O;var P,A=Object.create(l.prototype);for(P in O)if(!b.has(P))try{A[P]=O[P]}catch{}return A}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=k,this.hook("reading",k),l},Rt.prototype.defineClass=function(){return this.mapToClass(function(l){c(this,l)})},Rt.prototype.add=function(l,u){var f=this,p=this.schema.primKey,m=p.auto,b=p.keyPath,v=l;return b&&m&&(v=zs(b)(l)),this._trans("readwrite",function(k){return f.core.mutate({trans:k,type:"add",keys:u!=null?[u]:null,values:[v]})}).then(function(k){return k.numFailures?et.reject(k.failures[0]):k.lastResult}).then(function(k){if(b)try{j(l,b,k)}catch{}return k})},Rt.prototype.update=function(l,u){return typeof l!="object"||a(l)?this.where(":id").equals(l).modify(u):(l=$(l,this.schema.primKey.keyPath),l===void 0?Ht(new lt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(u))},Rt.prototype.put=function(l,u){var f=this,p=this.schema.primKey,m=p.auto,b=p.keyPath,v=l;return b&&m&&(v=zs(b)(l)),this._trans("readwrite",function(k){return f.core.mutate({trans:k,type:"put",values:[v],keys:u!=null?[u]:null})}).then(function(k){return k.numFailures?et.reject(k.failures[0]):k.lastResult}).then(function(k){if(b)try{j(l,b,k)}catch{}return k})},Rt.prototype.delete=function(l){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"delete",keys:[l]})}).then(function(f){return f.numFailures?et.reject(f.failures[0]):void 0})},Rt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"deleteRange",range:Hl})}).then(function(u){return u.numFailures?et.reject(u.failures[0]):void 0})},Rt.prototype.bulkGet=function(l){var u=this;return this._trans("readonly",function(f){return u.core.getMany({keys:l,trans:f}).then(function(p){return p.map(function(m){return u.hook.reading.fire(m)})})})},Rt.prototype.bulkAdd=function(l,u,f){var p=this,m=Array.isArray(u)?u:void 0,b=(f=f||(m?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(v){var P=p.schema.primKey,k=P.auto,P=P.keyPath;if(P&&m)throw new lt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(m&&m.length!==l.length)throw new lt.InvalidArgument("Arguments objects and keys must have the same length");var O=l.length,P=P&&k?l.map(zs(P)):l;return p.core.mutate({trans:v,type:"add",keys:m,values:P,wantResults:b}).then(function(C){var S=C.numFailures,E=C.results,D=C.lastResult,C=C.failures;if(S===0)return b?E:D;throw new he("".concat(p.name,".bulkAdd(): ").concat(S," of ").concat(O," operations failed"),C)})})},Rt.prototype.bulkPut=function(l,u,f){var p=this,m=Array.isArray(u)?u:void 0,b=(f=f||(m?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(v){var P=p.schema.primKey,k=P.auto,P=P.keyPath;if(P&&m)throw new lt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(m&&m.length!==l.length)throw new lt.InvalidArgument("Arguments objects and keys must have the same length");var O=l.length,P=P&&k?l.map(zs(P)):l;return p.core.mutate({trans:v,type:"put",keys:m,values:P,wantResults:b}).then(function(C){var S=C.numFailures,E=C.results,D=C.lastResult,C=C.failures;if(S===0)return b?E:D;throw new he("".concat(p.name,".bulkPut(): ").concat(S," of ").concat(O," operations failed"),C)})})},Rt.prototype.bulkUpdate=function(l){var u=this,f=this.core,p=l.map(function(v){return v.key}),m=l.map(function(v){return v.changes}),b=[];return this._trans("readwrite",function(v){return f.getMany({trans:v,keys:p,cache:"clone"}).then(function(k){var O=[],P=[];l.forEach(function(S,E){var D=S.key,C=S.changes,R=k[E];if(R){for(var T=0,F=Object.keys(C);T<F.length;T++){var I=F[T],N=C[I];if(I===u.schema.primKey.keyPath){if(xt(N,D)!==0)throw new lt.Constraint("Cannot update primary key in bulkUpdate()")}else j(R,I,N)}b.push(E),O.push(D),P.push(R)}});var A=O.length;return f.mutate({trans:v,type:"put",keys:O,values:P,updates:{keys:p,changeSpecs:m}}).then(function(S){var E=S.numFailures,D=S.failures;if(E===0)return A;for(var C=0,R=Object.keys(D);C<R.length;C++){var T,F=R[C],I=b[Number(F)];I!=null&&(T=D[F],delete D[F],D[I]=T)}throw new he("".concat(u.name,".bulkUpdate(): ").concat(E," of ").concat(A," operations failed"),D)})})})},Rt.prototype.bulkDelete=function(l){var u=this,f=l.length;return this._trans("readwrite",function(p){return u.core.mutate({trans:p,type:"delete",keys:l})}).then(function(v){var m=v.numFailures,b=v.lastResult,v=v.failures;if(m===0)return b;throw new he("".concat(u.name,".bulkDelete(): ").concat(m," of ").concat(f," operations failed"),v)})},Rt);function Rt(){}function Wi(l){function u(v,k){if(k){for(var O=arguments.length,P=new Array(O-1);--O;)P[O-1]=arguments[O];return f[v].subscribe.apply(null,P),l}if(typeof v=="string")return f[v]}var f={};u.addEventType=b;for(var p=1,m=arguments.length;p<m;++p)b(arguments[p]);return u;function b(v,k,O){if(typeof v!="object"){var P;k=k||Td;var A={subscribers:[],fire:O=O||Tt,subscribe:function(S){A.subscribers.indexOf(S)===-1&&(A.subscribers.push(S),A.fire=k(A.fire,S))},unsubscribe:function(S){A.subscribers=A.subscribers.filter(function(E){return E!==S}),A.fire=A.subscribers.reduce(k,O)}};return f[v]=u[v]=A}o(P=v).forEach(function(S){var E=P[S];if(a(E))b(S,P[S][0],P[S][1]);else{if(E!=="asap")throw new lt.InvalidArgument("Invalid event config");var D=b(S,Li,function(){for(var C=arguments.length,R=new Array(C);C--;)R[C]=arguments[C];D.subscribers.forEach(function(T){B(function(){T.apply(null,R)})})})}})}}function Bi(l,u){return w(u).from({prototype:l}),u}function di(l,u){return!(l.filter||l.algorithm||l.or)&&(u?l.justLimit:!l.replayFilter)}function Mo(l,u){l.filter=jn(l.filter,u)}function Oo(l,u,f){var p=l.replayFilter;l.replayFilter=p?function(){return jn(p(),u())}:u,l.justLimit=f&&!p}function Vs(l,u){if(l.isPrimKey)return u.primaryKey;var f=u.getIndexByKeyPath(l.index);if(!f)throw new lt.Schema("KeyPath "+l.index+" on object store "+u.name+" is not indexed");return f}function Gl(l,u,f){var p=Vs(l,u.schema);return u.openCursor({trans:f,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:p,range:l.range}})}function Hs(l,u,f,p){var m=l.replayFilter?jn(l.filter,l.replayFilter()):l.filter;if(l.or){var b={},v=function(k,O,P){var A,S;m&&!m(O,P,function(E){return O.stop(E)},function(E){return O.fail(E)})||((S=""+(A=O.primaryKey))=="[object ArrayBuffer]"&&(S=""+new Uint8Array(A)),g(b,S)||(b[S]=!0,u(k,O,P)))};return Promise.all([l.or._iterate(v,f),Xl(Gl(l,p,f),l.algorithm,v,!l.keysOnly&&l.valueMapper)])}return Xl(Gl(l,p,f),jn(l.algorithm,m),u,!l.keysOnly&&l.valueMapper)}function Xl(l,u,f,p){var m=It(p?function(b,v,k){return f(p(b),v,k)}:f);return l.then(function(b){if(b)return b.start(function(){var v=function(){return b.continue()};u&&!u(b,function(k){return v=k},function(k){b.stop(k),v=Tt},function(k){b.fail(k),v=Tt})||m(b.value,b,function(k){return v=k}),v()})})}var ji=(Zl.prototype.execute=function(l){var u=this["@@propmod"];if(u.add!==void 0){var f=u.add;if(a(f))return s(s([],a(l)?l:[],!0),f).sort();if(typeof f=="number")return(Number(l)||0)+f;if(typeof f=="bigint")try{return BigInt(l)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(u.remove!==void 0){var p=u.remove;if(a(p))return a(l)?l.filter(function(m){return!p.includes(m)}).sort():[];if(typeof p=="number")return Number(l)-p;if(typeof p=="bigint")try{return BigInt(l)-p}catch{return BigInt(0)-p}throw new TypeError("Invalid subtrahend ".concat(p))}return f=(f=u.replacePrefix)===null||f===void 0?void 0:f[0],f&&typeof l=="string"&&l.startsWith(f)?u.replacePrefix[1]+l.substring(f.length):l},Zl);function Zl(l){this["@@propmod"]=l}var Fd=(kt.prototype._read=function(l,u){var f=this._ctx;return f.error?f.table._trans(null,Ht.bind(null,f.error)):f.table._trans("readonly",l).then(u)},kt.prototype._write=function(l){var u=this._ctx;return u.error?u.table._trans(null,Ht.bind(null,u.error)):u.table._trans("readwrite",l,"locked")},kt.prototype._addAlgorithm=function(l){var u=this._ctx;u.algorithm=jn(u.algorithm,l)},kt.prototype._iterate=function(l,u){return Hs(this._ctx,l,u,this._ctx.table.core)},kt.prototype.clone=function(l){var u=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return l&&c(f,l),u._ctx=f,u},kt.prototype.raw=function(){return this._ctx.valueMapper=null,this},kt.prototype.each=function(l){var u=this._ctx;return this._read(function(f){return Hs(u,l,f,u.table.core)})},kt.prototype.count=function(l){var u=this;return this._read(function(f){var p=u._ctx,m=p.table.core;if(di(p,!0))return m.count({trans:f,query:{index:Vs(p,m.schema),range:p.range}}).then(function(v){return Math.min(v,p.limit)});var b=0;return Hs(p,function(){return++b,!1},f,m).then(function(){return b})}).then(l)},kt.prototype.sortBy=function(l,u){var f=l.split(".").reverse(),p=f[0],m=f.length-1;function b(O,P){return P?b(O[f[P]],P-1):O[p]}var v=this._ctx.dir==="next"?1:-1;function k(O,P){return xt(b(O,m),b(P,m))*v}return this.toArray(function(O){return O.sort(k)}).then(u)},kt.prototype.toArray=function(l){var u=this;return this._read(function(f){var p=u._ctx;if(p.dir==="next"&&di(p,!0)&&0<p.limit){var m=p.valueMapper,b=Vs(p,p.table.core.schema);return p.table.core.query({trans:f,limit:p.limit,values:!0,query:{index:b,range:p.range}}).then(function(k){return k=k.result,m?k.map(m):k})}var v=[];return Hs(p,function(k){return v.push(k)},f,p.table.core).then(function(){return v})},l)},kt.prototype.offset=function(l){var u=this._ctx;return l<=0||(u.offset+=l,di(u)?Oo(u,function(){var f=l;return function(p,m){return f===0||(f===1?--f:m(function(){p.advance(f),f=0}),!1)}}):Oo(u,function(){var f=l;return function(){return--f<0}})),this},kt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),Oo(this._ctx,function(){var u=l;return function(f,p,m){return--u<=0&&p(m),0<=u}},!0),this},kt.prototype.until=function(l,u){return Mo(this._ctx,function(f,p,m){return!l(f.value)||(p(m),u)}),this},kt.prototype.first=function(l){return this.limit(1).toArray(function(u){return u[0]}).then(l)},kt.prototype.last=function(l){return this.reverse().first(l)},kt.prototype.filter=function(l){var u;return Mo(this._ctx,function(f){return l(f.value)}),(u=this._ctx).isMatch=jn(u.isMatch,l),this},kt.prototype.and=function(l){return this.filter(l)},kt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},kt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},kt.prototype.desc=function(){return this.reverse()},kt.prototype.eachKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,p){l(p.key,p)})},kt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},kt.prototype.eachPrimaryKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,p){l(p.primaryKey,p)})},kt.prototype.keys=function(l){var u=this._ctx;u.keysOnly=!u.isMatch;var f=[];return this.each(function(p,m){f.push(m.key)}).then(function(){return f}).then(l)},kt.prototype.primaryKeys=function(l){var u=this._ctx;if(u.dir==="next"&&di(u,!0)&&0<u.limit)return this._read(function(p){var m=Vs(u,u.table.core.schema);return u.table.core.query({trans:p,values:!1,limit:u.limit,query:{index:m,range:u.range}})}).then(function(p){return p.result}).then(l);u.keysOnly=!u.isMatch;var f=[];return this.each(function(p,m){f.push(m.primaryKey)}).then(function(){return f}).then(l)},kt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},kt.prototype.firstKey=function(l){return this.limit(1).keys(function(u){return u[0]}).then(l)},kt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},kt.prototype.distinct=function(){var l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];if(!l||!l.multi)return this;var u={};return Mo(this._ctx,function(m){var p=m.primaryKey.toString(),m=g(u,p);return u[p]=!0,!m}),this},kt.prototype.modify=function(l){var u=this,f=this._ctx;return this._write(function(p){var m,b,v;v=typeof l=="function"?l:(m=o(l),b=m.length,function(T){for(var F=!1,I=0;I<b;++I){var N=m[I],W=l[N],K=$(T,N);W instanceof ji?(j(T,N,W.execute(K)),F=!0):K!==W&&(j(T,N,W),F=!0)}return F});var k=f.table.core,S=k.schema.primaryKey,O=S.outbound,P=S.extractKey,A=200,S=u.db._options.modifyChunkSize;S&&(A=typeof S=="object"?S[k.name]||S["*"]||200:S);function E(T,N){var I=N.failures,N=N.numFailures;C+=T-N;for(var W=0,K=o(I);W<K.length;W++){var Z=K[W];D.push(I[Z])}}var D=[],C=0,R=[];return u.clone().primaryKeys().then(function(T){function F(N){var W=Math.min(A,T.length-N);return k.getMany({trans:p,keys:T.slice(N,N+W),cache:"immutable"}).then(function(K){for(var Z=[],U=[],G=O?[]:null,J=[],X=0;X<W;++X){var nt=K[X],ft={value:yt(nt),primKey:T[N+X]};v.call(ft,ft.value,ft)!==!1&&(ft.value==null?J.push(T[N+X]):O||xt(P(nt),P(ft.value))===0?(U.push(ft.value),O&&G.push(T[N+X])):(J.push(T[N+X]),Z.push(ft.value)))}return Promise.resolve(0<Z.length&&k.mutate({trans:p,type:"add",values:Z}).then(function(gt){for(var mt in gt.failures)J.splice(parseInt(mt),1);E(Z.length,gt)})).then(function(){return(0<U.length||I&&typeof l=="object")&&k.mutate({trans:p,type:"put",keys:G,values:U,criteria:I,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<N}).then(function(gt){return E(U.length,gt)})}).then(function(){return(0<J.length||I&&l===Do)&&k.mutate({trans:p,type:"delete",keys:J,criteria:I,isAdditionalChunk:0<N}).then(function(gt){return E(J.length,gt)})}).then(function(){return T.length>N+W&&F(N+A)})})}var I=di(f)&&f.limit===1/0&&(typeof l!="function"||l===Do)&&{index:f.index,range:f.range};return F(0).then(function(){if(0<D.length)throw new Ae("Error modifying one or more objects",D,C,R);return T.length})})})},kt.prototype.delete=function(){var l=this._ctx,u=l.range;return di(l)&&(l.isPrimKey||u.type===3)?this._write(function(f){var p=l.table.core.schema.primaryKey,m=u;return l.table.core.count({trans:f,query:{index:p,range:m}}).then(function(b){return l.table.core.mutate({trans:f,type:"deleteRange",range:m}).then(function(v){var k=v.failures;if(v.lastResult,v.results,v=v.numFailures,v)throw new Ae("Could not delete some values",Object.keys(k).map(function(O){return k[O]}),b-v);return b-v})})}):this.modify(Do)},kt);function kt(){}var Do=function(l,u){return u.value=null};function Id(l,u){return l<u?-1:l===u?0:1}function Nd(l,u){return u<l?-1:l===u?0:1}function ge(l,u,f){return l=l instanceof Jl?new l.Collection(l):l,l._ctx.error=new(f||TypeError)(u),l}function pi(l){return new l.Collection(l,function(){return Ql("")}).limit(0)}function Ks(l,u,f,p){var m,b,v,k,O,P,A,S=f.length;if(!f.every(function(C){return typeof C=="string"}))return ge(l,Vl);function E(C){m=C==="next"?function(T){return T.toUpperCase()}:function(T){return T.toLowerCase()},b=C==="next"?function(T){return T.toLowerCase()}:function(T){return T.toUpperCase()},v=C==="next"?Id:Nd;var R=f.map(function(T){return{lower:b(T),upper:m(T)}}).sort(function(T,F){return v(T.lower,F.lower)});k=R.map(function(T){return T.upper}),O=R.map(function(T){return T.lower}),A=(P=C)==="next"?"":p}E("next"),l=new l.Collection(l,function(){return gn(k[0],O[S-1]+p)}),l._ondirectionchange=function(C){E(C)};var D=0;return l._addAlgorithm(function(C,R,T){var F=C.key;if(typeof F!="string")return!1;var I=b(F);if(u(I,O,D))return!0;for(var N=null,W=D;W<S;++W){var K=function(Z,U,G,J,X,nt){for(var ft=Math.min(Z.length,J.length),gt=-1,mt=0;mt<ft;++mt){var me=U[mt];if(me!==J[mt])return X(Z[mt],G[mt])<0?Z.substr(0,mt)+G[mt]+G.substr(mt+1):X(Z[mt],J[mt])<0?Z.substr(0,mt)+J[mt]+G.substr(mt+1):0<=gt?Z.substr(0,gt)+U[gt]+G.substr(gt+1):null;X(Z[mt],me)<0&&(gt=mt)}return ft<J.length&&nt==="next"?Z+G.substr(Z.length):ft<Z.length&&nt==="prev"?Z.substr(0,G.length):gt<0?null:Z.substr(0,gt)+J[gt]+G.substr(gt+1)}(F,I,k[W],O[W],v,P);K===null&&N===null?D=W+1:(N===null||0<v(N,K))&&(N=K)}return R(N!==null?function(){C.continue(N+A)}:T),!1}),l}function gn(l,u,f,p){return{type:2,lower:l,upper:u,lowerOpen:f,upperOpen:p}}function Ql(l){return{type:1,lower:l,upper:l}}var Jl=(Object.defineProperty(Qt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Qt.prototype.between=function(l,u,f,p){f=f!==!1,p=p===!0;try{return 0<this._cmp(l,u)||this._cmp(l,u)===0&&(f||p)&&(!f||!p)?pi(this):new this.Collection(this,function(){return gn(l,u,!f,!p)})}catch{return ge(this,ze)}},Qt.prototype.equals=function(l){return l==null?ge(this,ze):new this.Collection(this,function(){return Ql(l)})},Qt.prototype.above=function(l){return l==null?ge(this,ze):new this.Collection(this,function(){return gn(l,void 0,!0)})},Qt.prototype.aboveOrEqual=function(l){return l==null?ge(this,ze):new this.Collection(this,function(){return gn(l,void 0,!1)})},Qt.prototype.below=function(l){return l==null?ge(this,ze):new this.Collection(this,function(){return gn(void 0,l,!1,!0)})},Qt.prototype.belowOrEqual=function(l){return l==null?ge(this,ze):new this.Collection(this,function(){return gn(void 0,l)})},Qt.prototype.startsWith=function(l){return typeof l!="string"?ge(this,Vl):this.between(l,l+Bn,!0,!0)},Qt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):Ks(this,function(u,f){return u.indexOf(f[0])===0},[l],Bn)},Qt.prototype.equalsIgnoreCase=function(l){return Ks(this,function(u,f){return u===f[0]},[l],"")},Qt.prototype.anyOfIgnoreCase=function(){var l=ee.apply(zt,arguments);return l.length===0?pi(this):Ks(this,function(u,f){return f.indexOf(u)!==-1},l,"")},Qt.prototype.startsWithAnyOfIgnoreCase=function(){var l=ee.apply(zt,arguments);return l.length===0?pi(this):Ks(this,function(u,f){return f.some(function(p){return u.indexOf(p)===0})},l,Bn)},Qt.prototype.anyOf=function(){var l=this,u=ee.apply(zt,arguments),f=this._cmp;try{u.sort(f)}catch{return ge(this,ze)}if(u.length===0)return pi(this);var p=new this.Collection(this,function(){return gn(u[0],u[u.length-1])});p._ondirectionchange=function(b){f=b==="next"?l._ascending:l._descending,u.sort(f)};var m=0;return p._addAlgorithm(function(b,v,k){for(var O=b.key;0<f(O,u[m]);)if(++m===u.length)return v(k),!1;return f(O,u[m])===0||(v(function(){b.continue(u[m])}),!1)}),p},Qt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Qt.prototype.noneOf=function(){var l=ee.apply(zt,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return ge(this,ze)}var u=l.reduce(function(f,p){return f?f.concat([[f[f.length-1][1],p]]):[[-1/0,p]]},null);return u.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},Qt.prototype.inAnyRange=function(F,u){var f=this,p=this._cmp,m=this._ascending,b=this._descending,v=this._min,k=this._max;if(F.length===0)return pi(this);if(!F.every(function(I){return I[0]!==void 0&&I[1]!==void 0&&m(I[0],I[1])<=0}))return ge(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",lt.InvalidArgument);var O=!u||u.includeLowers!==!1,P=u&&u.includeUppers===!0,A,S=m;function E(I,N){return S(I[0],N[0])}try{(A=F.reduce(function(I,N){for(var W=0,K=I.length;W<K;++W){var Z=I[W];if(p(N[0],Z[1])<0&&0<p(N[1],Z[0])){Z[0]=v(Z[0],N[0]),Z[1]=k(Z[1],N[1]);break}}return W===K&&I.push(N),I},[])).sort(E)}catch{return ge(this,ze)}var D=0,C=P?function(I){return 0<m(I,A[D][1])}:function(I){return 0<=m(I,A[D][1])},R=O?function(I){return 0<b(I,A[D][0])}:function(I){return 0<=b(I,A[D][0])},T=C,F=new this.Collection(this,function(){return gn(A[0][0],A[A.length-1][1],!O,!P)});return F._ondirectionchange=function(I){S=I==="next"?(T=C,m):(T=R,b),A.sort(E)},F._addAlgorithm(function(I,N,W){for(var K,Z=I.key;T(Z);)if(++D===A.length)return N(W),!1;return!C(K=Z)&&!R(K)||(f._cmp(Z,A[D][1])===0||f._cmp(Z,A[D][0])===0||N(function(){S===m?I.continue(A[D][0]):I.continue(A[D][1])}),!1)}),F},Qt.prototype.startsWithAnyOf=function(){var l=ee.apply(zt,arguments);return l.every(function(u){return typeof u=="string"})?l.length===0?pi(this):this.inAnyRange(l.map(function(u){return[u,u+Bn]})):ge(this,"startsWithAnyOf() only works with strings")},Qt);function Qt(){}function Ee(l){return It(function(u){return zi(u),l(u.target.error),!1})}function zi(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var Vi="storagemutated",Po="x-storagemutated-1",mn=Wi(null,Vi),Yd=(Le.prototype._lock=function(){return z(!ot.global),++this._reculock,this._reculock!==1||ot.global||(ot.lockOwnerFor=this),this},Le.prototype._unlock=function(){if(z(!ot.global),--this._reculock==0)for(ot.global||(ot.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Wn(l[1],l[0])}catch{}}return this},Le.prototype._locked=function(){return this._reculock&&ot.lockOwnerFor!==this},Le.prototype.create=function(l){var u=this;if(!this.mode)return this;var f=this.db.idbdb,p=this.db._state.dbOpenError;if(z(!this.idbtrans),!l&&!f)switch(p&&p.name){case"DatabaseClosedError":throw new lt.DatabaseClosed(p);case"MissingAPIError":throw new lt.MissingAPI(p.message,p);default:throw new lt.OpenFailed(p)}if(!this.active)throw new lt.TransactionInactive;return z(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=It(function(m){zi(m),u._reject(l.error)}),l.onabort=It(function(m){zi(m),u.active&&u._reject(new lt.Abort(l.error)),u.active=!1,u.on("abort").fire(m)}),l.oncomplete=It(function(){u.active=!1,u._resolve(),"mutatedParts"in l&&mn.storagemutated.fire(l.mutatedParts)}),this},Le.prototype._promise=function(l,u,f){var p=this;if(l==="readwrite"&&this.mode!=="readwrite")return Ht(new lt.ReadOnly("Transaction is readonly"));if(!this.active)return Ht(new lt.TransactionInactive);if(this._locked())return new et(function(b,v){p._blockedFuncs.push([function(){p._promise(l,u,f).then(b,v)},ot])});if(f)return fn(function(){var b=new et(function(v,k){p._lock();var O=u(v,k,p);O&&O.then&&O.then(v,k)});return b.finally(function(){return p._unlock()}),b._lib=!0,b});var m=new et(function(b,v){var k=u(b,v,p);k&&k.then&&k.then(b,v)});return m._lib=!0,m},Le.prototype._root=function(){return this.parent?this.parent._root():this},Le.prototype.waitFor=function(l){var u,f=this._root(),p=et.resolve(l);f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return p}):(f._waitingFor=p,f._waitingQueue=[],u=f.idbtrans.objectStore(f.storeNames[0]),function b(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(u.get(-1/0).onsuccess=b)}());var m=f._waitingFor;return new et(function(b,v){p.then(function(k){return f._waitingQueue.push(It(b.bind(null,k)))},function(k){return f._waitingQueue.push(It(v.bind(null,k)))}).finally(function(){f._waitingFor===m&&(f._waitingFor=null)})})},Le.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new lt.Abort))},Le.prototype.table=function(l){var u=this._memoizedTables||(this._memoizedTables={});if(g(u,l))return u[l];var f=this.schema[l];if(!f)throw new lt.NotFound("Table "+l+" not part of transaction");return f=new this.db.Table(l,f,this),f.core=this.db.core.table(l),u[l]=f},Le);function Le(){}function To(l,u,f,p,m,b,v){return{name:l,keyPath:u,unique:f,multi:p,auto:m,compound:b,src:(f&&!v?"&":"")+(p?"*":"")+(m?"++":"")+tc(u)}}function tc(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function Co(l,u,f){return{name:l,primKey:u,indexes:f,mappedClass:null,idxByName:(p=function(m){return[m.name,m]},f.reduce(function(m,b,v){return v=p(b,v),v&&(m[v[0]]=v[1]),m},{}))};var p}var Hi=function(l){try{return l.only([[]]),Hi=function(){return[[]]},[[]]}catch{return Hi=function(){return Bn},Bn}};function Ao(l){return l==null?function(){}:typeof l=="string"?(u=l).split(".").length===1?function(f){return f[u]}:function(f){return $(f,u)}:function(f){return $(f,l)};var u}function ec(l){return[].slice.call(l)}var Wd=0;function Ki(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Bd(l,u,O){function p(T){if(T.type===3)return null;if(T.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var D=T.lower,C=T.upper,R=T.lowerOpen,T=T.upperOpen;return D===void 0?C===void 0?null:u.upperBound(C,!!T):C===void 0?u.lowerBound(D,!!R):u.bound(D,C,!!R,!!T)}function m(E){var D,C=E.name;return{name:C,schema:E,mutate:function(R){var T=R.trans,F=R.type,I=R.keys,N=R.values,W=R.range;return new Promise(function(K,Z){K=It(K);var U=T.objectStore(C),G=U.keyPath==null,J=F==="put"||F==="add";if(!J&&F!=="delete"&&F!=="deleteRange")throw new Error("Invalid operation type: "+F);var X,nt=(I||N||{length:1}).length;if(I&&N&&I.length!==N.length)throw new Error("Given keys array must have same length as given values array.");if(nt===0)return K({numFailures:0,failures:{},results:[],lastResult:void 0});function ft(ue){++me,zi(ue)}var gt=[],mt=[],me=0;if(F==="deleteRange"){if(W.type===4)return K({numFailures:me,failures:mt,results:[],lastResult:void 0});W.type===3?gt.push(X=U.clear()):gt.push(X=U.delete(p(W)))}else{var G=J?G?[N,I]:[N,null]:[I,null],ht=G[0],ie=G[1];if(J)for(var se=0;se<nt;++se)gt.push(X=ie&&ie[se]!==void 0?U[F](ht[se],ie[se]):U[F](ht[se])),X.onerror=ft;else for(se=0;se<nt;++se)gt.push(X=U[F](ht[se])),X.onerror=ft}function sr(ue){ue=ue.target.result,gt.forEach(function(Hn,Go){return Hn.error!=null&&(mt[Go]=Hn.error)}),K({numFailures:me,failures:mt,results:F==="delete"?I:gt.map(function(Hn){return Hn.result}),lastResult:ue})}X.onerror=function(ue){ft(ue),sr(ue)},X.onsuccess=sr})},getMany:function(R){var T=R.trans,F=R.keys;return new Promise(function(I,N){I=It(I);for(var W,K=T.objectStore(C),Z=F.length,U=new Array(Z),G=0,J=0,X=function(gt){gt=gt.target,U[gt._pos]=gt.result,++J===G&&I(U)},nt=Ee(N),ft=0;ft<Z;++ft)F[ft]!=null&&((W=K.get(F[ft]))._pos=ft,W.onsuccess=X,W.onerror=nt,++G);G===0&&I(U)})},get:function(R){var T=R.trans,F=R.key;return new Promise(function(I,N){I=It(I);var W=T.objectStore(C).get(F);W.onsuccess=function(K){return I(K.target.result)},W.onerror=Ee(N)})},query:(D=P,function(R){return new Promise(function(T,F){T=It(T);var I,N,W,G=R.trans,K=R.values,Z=R.limit,X=R.query,U=Z===1/0?void 0:Z,J=X.index,X=X.range,G=G.objectStore(C),J=J.isPrimaryKey?G:G.index(J.name),X=p(X);if(Z===0)return T({result:[]});D?((U=K?J.getAll(X,U):J.getAllKeys(X,U)).onsuccess=function(nt){return T({result:nt.target.result})},U.onerror=Ee(F)):(I=0,N=!K&&"openKeyCursor"in J?J.openKeyCursor(X):J.openCursor(X),W=[],N.onsuccess=function(nt){var ft=N.result;return ft?(W.push(K?ft.value:ft.primaryKey),++I===Z?T({result:W}):void ft.continue()):T({result:W})},N.onerror=Ee(F))})}),openCursor:function(R){var T=R.trans,F=R.values,I=R.query,N=R.reverse,W=R.unique;return new Promise(function(K,Z){K=It(K);var J=I.index,U=I.range,G=T.objectStore(C),G=J.isPrimaryKey?G:G.index(J.name),J=N?W?"prevunique":"prev":W?"nextunique":"next",X=!F&&"openKeyCursor"in G?G.openKeyCursor(p(U),J):G.openCursor(p(U),J);X.onerror=Ee(Z),X.onsuccess=It(function(nt){var ft,gt,mt,me,ht=X.result;ht?(ht.___id=++Wd,ht.done=!1,ft=ht.continue.bind(ht),gt=(gt=ht.continuePrimaryKey)&&gt.bind(ht),mt=ht.advance.bind(ht),me=function(){throw new Error("Cursor not stopped")},ht.trans=T,ht.stop=ht.continue=ht.continuePrimaryKey=ht.advance=function(){throw new Error("Cursor not started")},ht.fail=It(Z),ht.next=function(){var ie=this,se=1;return this.start(function(){return se--?ie.continue():ie.stop()}).then(function(){return ie})},ht.start=function(ie){function se(){if(X.result)try{ie()}catch(ue){ht.fail(ue)}else ht.done=!0,ht.start=function(){throw new Error("Cursor behind last entry")},ht.stop()}var sr=new Promise(function(ue,Hn){ue=It(ue),X.onerror=Ee(Hn),ht.fail=Hn,ht.stop=function(Go){ht.stop=ht.continue=ht.continuePrimaryKey=ht.advance=me,ue(Go)}});return X.onsuccess=It(function(ue){X.onsuccess=se,se()}),ht.continue=ft,ht.continuePrimaryKey=gt,ht.advance=mt,se(),sr},K(ht)):K(null)},Z)})},count:function(R){var T=R.query,F=R.trans,I=T.index,N=T.range;return new Promise(function(W,K){var Z=F.objectStore(C),U=I.isPrimaryKey?Z:Z.index(I.name),Z=p(N),U=Z?U.count(Z):U.count();U.onsuccess=It(function(G){return W(G.target.result)}),U.onerror=Ee(K)})}}}var b,v,k,A=(v=O,k=ec((b=l).objectStoreNames),{schema:{name:b.name,tables:k.map(function(E){return v.objectStore(E)}).map(function(E){var D=E.keyPath,T=E.autoIncrement,C=a(D),R={},T={name:E.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:D==null,compound:C,keyPath:D,autoIncrement:T,unique:!0,extractKey:Ao(D)},indexes:ec(E.indexNames).map(function(F){return E.index(F)}).map(function(W){var I=W.name,N=W.unique,K=W.multiEntry,W=W.keyPath,K={name:I,compound:a(W),keyPath:W,unique:N,multiEntry:K,extractKey:Ao(W)};return R[Ki(W)]=K}),getIndexByKeyPath:function(F){return R[Ki(F)]}};return R[":id"]=T.primaryKey,D!=null&&(R[Ki(D)]=T.primaryKey),T})},hasGetAll:0<k.length&&"getAll"in v.objectStore(k[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),O=A.schema,P=A.hasGetAll,A=O.tables.map(m),S={};return A.forEach(function(E){return S[E.name]=E}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(E){if(!S[E])throw new Error("Table '".concat(E,"' not found"));return S[E]},MIN_KEY:-1/0,MAX_KEY:Hi(u),schema:O}}function jd(l,u,f,p){var m=f.IDBKeyRange;return f.indexedDB,{dbcore:(p=Bd(u,m,p),l.dbcore.reduce(function(b,v){return v=v.create,i(i({},b),v(b))},p))}}function Us(l,p){var f=p.db,p=jd(l._middlewares,f,l._deps,p);l.core=p.dbcore,l.tables.forEach(function(m){var b=m.name;l.core.schema.tables.some(function(v){return v.name===b})&&(m.core=l.core.table(b),l[b]instanceof l.Table&&(l[b].core=m.core))})}function $s(l,u,f,p){f.forEach(function(m){var b=p[m];u.forEach(function(v){var k=function O(P,A){return M(P,A)||(P=h(P))&&O(P,A)}(v,m);(!k||"value"in k&&k.value===void 0)&&(v===l.Transaction.prototype||v instanceof l.Transaction?x(v,m,{get:function(){return this.table(m)},set:function(O){_(this,m,{value:O,writable:!0,configurable:!0,enumerable:!0})}}):v[m]=new l.Table(m,b))})})}function Ro(l,u){u.forEach(function(f){for(var p in f)f[p]instanceof l.Table&&delete f[p]})}function zd(l,u){return l._cfg.version-u._cfg.version}function Vd(l,u,f,p){var m=l._dbSchema;f.objectStoreNames.contains("$meta")&&!m.$meta&&(m.$meta=Co("$meta",ic("")[0],[]),l._storeNames.push("$meta"));var b=l._createTransaction("readwrite",l._storeNames,m);b.create(f),b._completion.catch(p);var v=b._reject.bind(b),k=ot.transless||ot;fn(function(){return ot.trans=b,ot.transless=k,u!==0?(Us(l,f),P=u,((O=b).storeNames.includes("$meta")?O.table("$meta").get("version").then(function(A){return A??P}):et.resolve(P)).then(function(A){return E=A,D=b,C=f,R=[],A=(S=l)._versions,T=S._dbSchema=Gs(0,S.idbdb,C),(A=A.filter(function(F){return F._cfg.version>=E})).length!==0?(A.forEach(function(F){R.push(function(){var I=T,N=F._cfg.dbschema;Xs(S,I,C),Xs(S,N,C),T=S._dbSchema=N;var W=Eo(I,N);W.add.forEach(function(J){Lo(C,J[0],J[1].primKey,J[1].indexes)}),W.change.forEach(function(J){if(J.recreate)throw new lt.Upgrade("Not yet support for changing primary key");var X=C.objectStore(J.name);J.add.forEach(function(nt){return qs(X,nt)}),J.change.forEach(function(nt){X.deleteIndex(nt.name),qs(X,nt)}),J.del.forEach(function(nt){return X.deleteIndex(nt)})});var K=F._cfg.contentUpgrade;if(K&&F._cfg.version>E){Us(S,C),D._memoizedTables={};var Z=q(N);W.del.forEach(function(J){Z[J]=I[J]}),Ro(S,[S.Transaction.prototype]),$s(S,[S.Transaction.prototype],o(Z),Z),D.schema=Z;var U,G=cn(K);return G&&hi(),W=et.follow(function(){var J;(U=K(D))&&G&&(J=dn.bind(null,null),U.then(J,J))}),U&&typeof U.then=="function"?et.resolve(U):W.then(function(){return U})}}),R.push(function(I){var N,W,K=F._cfg.dbschema;N=K,W=I,[].slice.call(W.db.objectStoreNames).forEach(function(Z){return N[Z]==null&&W.db.deleteObjectStore(Z)}),Ro(S,[S.Transaction.prototype]),$s(S,[S.Transaction.prototype],S._storeNames,S._dbSchema),D.schema=S._dbSchema}),R.push(function(I){S.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(S.idbdb.version/10)===F._cfg.version?(S.idbdb.deleteObjectStore("$meta"),delete S._dbSchema.$meta,S._storeNames=S._storeNames.filter(function(N){return N!=="$meta"})):I.objectStore("$meta").put(F._cfg.version,"version"))})}),function F(){return R.length?et.resolve(R.shift()(D.idbtrans)).then(F):et.resolve()}().then(function(){nc(T,C)})):et.resolve();var S,E,D,C,R,T}).catch(v)):(o(m).forEach(function(A){Lo(f,A,m[A].primKey,m[A].indexes)}),Us(l,f),void et.follow(function(){return l.on.populate.fire(b)}).catch(v));var O,P})}function Hd(l,u){nc(l._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var f=Gs(0,l.idbdb,u);Xs(l,l._dbSchema,u);for(var p=0,m=Eo(f,l._dbSchema).change;p<m.length;p++){var b=function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var k=u.objectStore(v.name);v.add.forEach(function(O){Re&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(O.src)),qs(k,O)})}(m[p]);if(typeof b=="object")return b.value}}function Eo(l,u){var f,p={del:[],add:[],change:[]};for(f in l)u[f]||p.del.push(f);for(f in u){var m=l[f],b=u[f];if(m){var v={name:f,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(m.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||m.primKey.auto!==b.primKey.auto)v.recreate=!0,p.change.push(v);else{var k=m.idxByName,O=b.idxByName,P=void 0;for(P in k)O[P]||v.del.push(P);for(P in O){var A=k[P],S=O[P];A?A.src!==S.src&&v.change.push(S):v.add.push(S)}(0<v.del.length||0<v.add.length||0<v.change.length)&&p.change.push(v)}}else p.add.push([f,b])}return p}function Lo(l,u,f,p){var m=l.db.createObjectStore(u,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});return p.forEach(function(b){return qs(m,b)}),m}function nc(l,u){o(l).forEach(function(f){u.db.objectStoreNames.contains(f)||(Re&&console.debug("Dexie: Creating missing table",f),Lo(u,f,l[f].primKey,l[f].indexes))})}function qs(l,u){l.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function Gs(l,u,f){var p={};return Y(u.objectStoreNames,0).forEach(function(m){for(var b=f.objectStore(m),v=To(tc(P=b.keyPath),P||"",!0,!1,!!b.autoIncrement,P&&typeof P!="string",!0),k=[],O=0;O<b.indexNames.length;++O){var A=b.index(b.indexNames[O]),P=A.keyPath,A=To(A.name,P,!!A.unique,!!A.multiEntry,!1,P&&typeof P!="string",!1);k.push(A)}p[m]=Co(m,v,k)}),p}function Xs(l,u,f){for(var p=f.db.objectStoreNames,m=0;m<p.length;++m){var b=p[m],v=f.objectStore(b);l._hasGetAll="getAll"in v;for(var k=0;k<v.indexNames.length;++k){var O=v.indexNames[k],P=v.index(O).keyPath,A=typeof P=="string"?P:"["+Y(P).join("+")+"]";!u[b]||(P=u[b].idxByName[A])&&(P.name=O,delete u[b].idxByName[A],u[b].idxByName[O]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function ic(l){return l.split(",").map(function(u,f){var p=(u=u.trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return To(p,m||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),a(m),f===0)})}var Kd=(Zs.prototype._parseStoresSpec=function(l,u){o(l).forEach(function(f){if(l[f]!==null){var p=ic(l[f]),m=p.shift();if(m.unique=!0,m.multi)throw new lt.Schema("Primary key cannot be multi-valued");p.forEach(function(b){if(b.auto)throw new lt.Schema("Only primary key can be marked as autoIncrement (++)");if(!b.keyPath)throw new lt.Schema("Index must have a name and cannot be an empty string")}),u[f]=Co(f,m,p)}})},Zs.prototype.stores=function(f){var u=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,f):f;var f=u._versions,p={},m={};return f.forEach(function(b){c(p,b._cfg.storesSource),m=b._cfg.dbschema={},b._parseStoresSpec(p,m)}),u._dbSchema=m,Ro(u,[u._allTables,u,u.Transaction.prototype]),$s(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],o(m),m),u._storeNames=o(m),this},Zs.prototype.upgrade=function(l){return this._cfg.contentUpgrade=po(this._cfg.contentUpgrade||Tt,l),this},Zs);function Zs(){}function Fo(l,u){var f=l._dbNamesDB;return f||(f=l._dbNamesDB=new Ve(js,{addons:[],indexedDB:l,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Io(l){return l&&typeof l.databases=="function"}function No(l){return fn(function(){return ot.letThrough=!0,l()})}function Yo(l){return!("from"in l)}var ne=function(l,u){if(!this){var f=new ne;return l&&"d"in l&&c(f,l),f}c(this,arguments.length?{d:1,from:l,to:1<arguments.length?u:l}:{d:0})};function Ui(l,u,f){var p=xt(u,f);if(!isNaN(p)){if(0<p)throw RangeError();if(Yo(l))return c(l,{from:u,to:f,d:1});var m=l.l,p=l.r;if(xt(f,l.from)<0)return m?Ui(m,u,f):l.l={from:u,to:f,d:1,l:null,r:null},rc(l);if(0<xt(u,l.to))return p?Ui(p,u,f):l.r={from:u,to:f,d:1,l:null,r:null},rc(l);xt(u,l.from)<0&&(l.from=u,l.l=null,l.d=p?p.d+1:1),0<xt(f,l.to)&&(l.to=f,l.r=null,l.d=l.l?l.l.d+1:1),f=!l.r,m&&!l.l&&$i(l,m),p&&f&&$i(l,p)}}function $i(l,u){Yo(u)||function f(p,O){var b=O.from,v=O.to,k=O.l,O=O.r;Ui(p,b,v),k&&f(p,k),O&&f(p,O)}(l,u)}function sc(l,u){var f=Qs(u),p=f.next();if(p.done)return!1;for(var m=p.value,b=Qs(l),v=b.next(m.from),k=v.value;!p.done&&!v.done;){if(xt(k.from,m.to)<=0&&0<=xt(k.to,m.from))return!0;xt(m.from,k.from)<0?m=(p=f.next(k.from)).value:k=(v=b.next(m.from)).value}return!1}function Qs(l){var u=Yo(l)?null:{s:0,n:l};return{next:function(f){for(var p=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,p)for(;u.n.l&&xt(f,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!p||xt(f,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function rc(l){var u,f,p=(((u=l.r)===null||u===void 0?void 0:u.d)||0)-(((f=l.l)===null||f===void 0?void 0:f.d)||0),m=1<p?"r":p<-1?"l":"";m&&(u=m=="r"?"l":"r",f=i({},l),p=l[m],l.from=p.from,l.to=p.to,l[m]=p[m],f[m]=p[u],(l[u]=f).d=oc(f)),l.d=oc(l)}function oc(f){var u=f.r,f=f.l;return(u?f?Math.max(u.d,f.d):u.d:f?f.d:0)+1}function Js(l,u){return o(u).forEach(function(f){l[f]?$i(l[f],u[f]):l[f]=function p(m){var b,v,k={};for(b in m)g(m,b)&&(v=m[b],k[b]=!v||typeof v!="object"||rt.has(v.constructor)?v:p(v));return k}(u[f])}),l}function Wo(l,u){return l.all||u.all||Object.keys(l).some(function(f){return u[f]&&sc(u[f],l[f])})}y(ne.prototype,((ve={add:function(l){return $i(this,l),this},addKey:function(l){return Ui(this,l,l),this},addKeys:function(l){var u=this;return l.forEach(function(f){return Ui(u,f,f)}),this},hasKey:function(l){var u=Qs(this).next(l).value;return u&&xt(u.from,l)<=0&&0<=xt(u.to,l)}})[Pt]=function(){return Qs(this)},ve));var zn={},Bo={},jo=!1;function tr(l){Js(Bo,l),jo||(jo=!0,setTimeout(function(){jo=!1,zo(Bo,!(Bo={}))},0))}function zo(l,u){u===void 0&&(u=!1);var f=new Set;if(l.all)for(var p=0,m=Object.values(zn);p<m.length;p++)ac(v=m[p],l,f,u);else for(var b in l){var v,k=/^idb\:\/\/(.*)\/(.*)\//.exec(b);k&&(b=k[1],k=k[2],(v=zn["idb://".concat(b,"/").concat(k)])&&ac(v,l,f,u))}f.forEach(function(O){return O()})}function ac(l,u,f,p){for(var m=[],b=0,v=Object.entries(l.queries.query);b<v.length;b++){for(var k=v[b],O=k[0],P=[],A=0,S=k[1];A<S.length;A++){var E=S[A];Wo(u,E.obsSet)?E.subscribers.forEach(function(T){return f.add(T)}):p&&P.push(E)}p&&m.push([O,P])}if(p)for(var D=0,C=m;D<C.length;D++){var R=C[D],O=R[0],P=R[1];l.queries.query[O]=P}}function Ud(l){var u=l._state,f=l._deps.indexedDB;if(u.isBeingOpened||l.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?Ht(u.dbOpenError):l});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var p=u.openCanceller,m=Math.round(10*l.verno),b=!1;function v(){if(u.openCanceller!==p)throw new lt.DatabaseClosed("db.open() was cancelled")}function k(){return new et(function(E,D){if(v(),!f)throw new lt.MissingAPI;var C=l.name,R=u.autoSchema||!m?f.open(C):f.open(C,m);if(!R)throw new lt.MissingAPI;R.onerror=Ee(D),R.onblocked=It(l._fireOnBlocked),R.onupgradeneeded=It(function(T){var F;A=R.transaction,u.autoSchema&&!l._options.allowEmptyDB?(R.onerror=zi,A.abort(),R.result.close(),(F=f.deleteDatabase(C)).onsuccess=F.onerror=It(function(){D(new lt.NoSuchDatabase("Database ".concat(C," doesnt exist")))})):(A.onerror=Ee(D),T=T.oldVersion>Math.pow(2,62)?0:T.oldVersion,S=T<1,l.idbdb=R.result,b&&Hd(l,A),Vd(l,T/10,A,D))},D),R.onsuccess=It(function(){A=null;var T,F,I,N,W,K=l.idbdb=R.result,Z=Y(K.objectStoreNames);if(0<Z.length)try{var U=K.transaction((N=Z).length===1?N[0]:N,"readonly");if(u.autoSchema)F=K,I=U,(T=l).verno=F.version/10,I=T._dbSchema=Gs(0,F,I),T._storeNames=Y(F.objectStoreNames,0),$s(T,[T._allTables],o(I),I);else if(Xs(l,l._dbSchema,U),((W=Eo(Gs(0,(W=l).idbdb,U),W._dbSchema)).add.length||W.change.some(function(G){return G.add.length||G.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),K.close(),m=K.version+1,b=!0,E(k());Us(l,U)}catch{}fi.push(l),K.onversionchange=It(function(G){u.vcFired=!0,l.on("versionchange").fire(G)}),K.onclose=It(function(G){l.on("close").fire(G)}),S&&(W=l._deps,U=C,K=W.indexedDB,W=W.IDBKeyRange,Io(K)||U===js||Fo(K,W).put({name:U}).catch(Tt)),E()},D)}).catch(function(E){switch(E?.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),k();break;case"VersionError":if(0<m)return m=0,k()}return et.reject(E)})}var O,P=u.dbReadyResolve,A=null,S=!1;return et.race([p,(typeof navigator>"u"?et.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(E){function D(){return indexedDB.databases().finally(E)}O=setInterval(D,100),D()}).finally(function(){return clearInterval(O)}):Promise.resolve()).then(k)]).then(function(){return v(),u.onReadyBeingFired=[],et.resolve(No(function(){return l.on.ready.fire(l.vip)})).then(function E(){if(0<u.onReadyBeingFired.length){var D=u.onReadyBeingFired.reduce(po,Tt);return u.onReadyBeingFired=[],et.resolve(No(function(){return D(l.vip)})).then(E)}})}).finally(function(){u.openCanceller===p&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(E){u.dbOpenError=E;try{A&&A.abort()}catch{}return p===u.openCanceller&&l._close(),Ht(E)}).finally(function(){u.openComplete=!0,P()}).then(function(){var E;return S&&(E={},l.tables.forEach(function(D){D.schema.indexes.forEach(function(C){C.name&&(E["idb://".concat(l.name,"/").concat(D.name,"/").concat(C.name)]=new ne(-1/0,[[[]]]))}),E["idb://".concat(l.name,"/").concat(D.name,"/")]=E["idb://".concat(l.name,"/").concat(D.name,"/:dels")]=new ne(-1/0,[[[]]])}),mn(Vi).fire(E),zo(E,!0)),l})}function Vo(l){function u(b){return l.next(b)}var f=m(u),p=m(function(b){return l.throw(b)});function m(b){return function(O){var k=b(O),O=k.value;return k.done?O:O&&typeof O.then=="function"?O.then(f,p):a(O)?Promise.all(O).then(f,p):f(O)}}return m(u)()}function er(l,u,f){for(var p=a(l)?l.slice():[l],m=0;m<f;++m)p.push(u);return p}var $d={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return i(i({},l),{table:function(u){var f=l.table(u),p=f.schema,m={},b=[];function v(S,E,D){var C=Ki(S),R=m[C]=m[C]||[],T=S==null?0:typeof S=="string"?1:S.length,F=0<E,F=i(i({},D),{name:F?"".concat(C,"(virtual-from:").concat(D.name,")"):D.name,lowLevelIndex:D,isVirtual:F,keyTail:E,keyLength:T,extractKey:Ao(S),unique:!F&&D.unique});return R.push(F),F.isPrimaryKey||b.push(F),1<T&&v(T===2?S[0]:S.slice(0,T-1),E+1,D),R.sort(function(I,N){return I.keyTail-N.keyTail}),F}u=v(p.primaryKey.keyPath,0,p.primaryKey),m[":id"]=[u];for(var k=0,O=p.indexes;k<O.length;k++){var P=O[k];v(P.keyPath,0,P)}function A(S){var E,D=S.query.index;return D.isVirtual?i(i({},S),{query:{index:D.lowLevelIndex,range:(E=S.query.range,D=D.keyTail,{type:E.type===1?2:E.type,lower:er(E.lower,E.lowerOpen?l.MAX_KEY:l.MIN_KEY,D),lowerOpen:!0,upper:er(E.upper,E.upperOpen?l.MIN_KEY:l.MAX_KEY,D),upperOpen:!0})}}):S}return i(i({},f),{schema:i(i({},p),{primaryKey:u,indexes:b,getIndexByKeyPath:function(S){return(S=m[Ki(S)])&&S[0]}}),count:function(S){return f.count(A(S))},query:function(S){return f.query(A(S))},openCursor:function(S){var E=S.query.index,D=E.keyTail,C=E.isVirtual,R=E.keyLength;return C?f.openCursor(A(S)).then(function(F){return F&&T(F)}):f.openCursor(S);function T(F){return Object.create(F,{continue:{value:function(I){I!=null?F.continue(er(I,S.reverse?l.MAX_KEY:l.MIN_KEY,D)):S.unique?F.continue(F.key.slice(0,R).concat(S.reverse?l.MIN_KEY:l.MAX_KEY,D)):F.continue()}},continuePrimaryKey:{value:function(I,N){F.continuePrimaryKey(er(I,l.MAX_KEY,D),N)}},primaryKey:{get:function(){return F.primaryKey}},key:{get:function(){var I=F.key;return R===1?I[0]:I.slice(0,R)}},value:{get:function(){return F.value}}})}}})}})}};function Ho(l,u,f,p){return f=f||{},p=p||"",o(l).forEach(function(m){var b,v,k;g(u,m)?(b=l[m],v=u[m],typeof b=="object"&&typeof v=="object"&&b&&v?(k=dt(b))!==dt(v)?f[p+m]=u[m]:k==="Object"?Ho(b,v,f,p+m+"."):b!==v&&(f[p+m]=u[m]):b!==v&&(f[p+m]=u[m])):f[p+m]=void 0}),o(u).forEach(function(m){g(l,m)||(f[p+m]=u[m])}),f}function Ko(l,u){return u.type==="delete"?u.keys:u.keys||u.values.map(l.extractKey)}var qd={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return i(i({},l),{table:function(u){var f=l.table(u),p=f.schema.primaryKey;return i(i({},f),{mutate:function(m){var b=ot.trans,v=b.table(u).hook,k=v.deleting,O=v.creating,P=v.updating;switch(m.type){case"add":if(O.fire===Tt)break;return b._promise("readwrite",function(){return A(m)},!0);case"put":if(O.fire===Tt&&P.fire===Tt)break;return b._promise("readwrite",function(){return A(m)},!0);case"delete":if(k.fire===Tt)break;return b._promise("readwrite",function(){return A(m)},!0);case"deleteRange":if(k.fire===Tt)break;return b._promise("readwrite",function(){return function S(E,D,C){return f.query({trans:E,values:!1,query:{index:p,range:D},limit:C}).then(function(R){var T=R.result;return A({type:"delete",keys:T,trans:E}).then(function(F){return 0<F.numFailures?Promise.reject(F.failures[0]):T.length<C?{failures:[],numFailures:0,lastResult:void 0}:S(E,i(i({},D),{lower:T[T.length-1],lowerOpen:!0}),C)})})}(m.trans,m.range,1e4)},!0)}return f.mutate(m);function A(S){var E,D,C,R=ot.trans,T=S.keys||Ko(p,S);if(!T)throw new Error("Keys missing");return(S=S.type==="add"||S.type==="put"?i(i({},S),{keys:T}):i({},S)).type!=="delete"&&(S.values=s([],S.values)),S.keys&&(S.keys=s([],S.keys)),E=f,C=T,((D=S).type==="add"?Promise.resolve([]):E.getMany({trans:D.trans,keys:C,cache:"immutable"})).then(function(F){var I=T.map(function(N,W){var K,Z,U,G=F[W],J={onerror:null,onsuccess:null};return S.type==="delete"?k.fire.call(J,N,G,R):S.type==="add"||G===void 0?(K=O.fire.call(J,N,S.values[W],R),N==null&&K!=null&&(S.keys[W]=N=K,p.outbound||j(S.values[W],p.keyPath,N))):(K=Ho(G,S.values[W]),(Z=P.fire.call(J,K,N,G,R))&&(U=S.values[W],Object.keys(Z).forEach(function(X){g(U,X)?U[X]=Z[X]:j(U,X,Z[X])}))),J});return f.mutate(S).then(function(N){for(var W=N.failures,K=N.results,Z=N.numFailures,N=N.lastResult,U=0;U<T.length;++U){var G=(K||T)[U],J=I[U];G==null?J.onerror&&J.onerror(W[U]):J.onsuccess&&J.onsuccess(S.type==="put"&&F[U]?S.values[U]:G)}return{failures:W,results:K,numFailures:Z,lastResult:N}}).catch(function(N){return I.forEach(function(W){return W.onerror&&W.onerror(N)}),Promise.reject(N)})})}}})}})}};function lc(l,u,f){try{if(!u||u.keys.length<l.length)return null;for(var p=[],m=0,b=0;m<u.keys.length&&b<l.length;++m)xt(u.keys[m],l[b])===0&&(p.push(f?yt(u.values[m]):u.values[m]),++b);return p.length===l.length?p:null}catch{return null}}var Gd={stack:"dbcore",level:-1,create:function(l){return{table:function(u){var f=l.table(u);return i(i({},f),{getMany:function(p){if(!p.cache)return f.getMany(p);var m=lc(p.keys,p.trans._cache,p.cache==="clone");return m?et.resolve(m):f.getMany(p).then(function(b){return p.trans._cache={keys:p.keys,values:p.cache==="clone"?yt(b):b},b})},mutate:function(p){return p.type!=="add"&&(p.trans._cache=null),f.mutate(p)}})}}}};function cc(l,u){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function uc(l,u){switch(l){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Xd={stack:"dbcore",level:0,name:"Observability",create:function(l){var u=l.schema.name,f=new ne(l.MIN_KEY,l.MAX_KEY);return i(i({},l),{transaction:function(p,m,b){if(ot.subscr&&m!=="readonly")throw new lt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ot.querier));return l.transaction(p,m,b)},table:function(p){var m=l.table(p),b=m.schema,v=b.primaryKey,S=b.indexes,k=v.extractKey,O=v.outbound,P=v.autoIncrement&&S.filter(function(D){return D.compound&&D.keyPath.includes(v.keyPath)}),A=i(i({},m),{mutate:function(D){function C(X){return X="idb://".concat(u,"/").concat(p,"/").concat(X),N[X]||(N[X]=new ne)}var R,T,F,I=D.trans,N=D.mutatedParts||(D.mutatedParts={}),W=C(""),K=C(":dels"),Z=D.type,J=D.type==="deleteRange"?[D.range]:D.type==="delete"?[D.keys]:D.values.length<50?[Ko(v,D).filter(function(X){return X}),D.values]:[],U=J[0],G=J[1],J=D.trans._cache;return a(U)?(W.addKeys(U),(J=Z==="delete"||U.length===G.length?lc(U,J):null)||K.addKeys(U),(J||G)&&(R=C,T=J,F=G,b.indexes.forEach(function(X){var nt=R(X.name||"");function ft(mt){return mt!=null?X.extractKey(mt):null}function gt(mt){return X.multiEntry&&a(mt)?mt.forEach(function(me){return nt.addKey(me)}):nt.addKey(mt)}(T||F).forEach(function(mt,ie){var ht=T&&ft(T[ie]),ie=F&&ft(F[ie]);xt(ht,ie)!==0&&(ht!=null&&gt(ht),ie!=null&&gt(ie))})}))):U?(G={from:(G=U.lower)!==null&&G!==void 0?G:l.MIN_KEY,to:(G=U.upper)!==null&&G!==void 0?G:l.MAX_KEY},K.add(G),W.add(G)):(W.add(f),K.add(f),b.indexes.forEach(function(X){return C(X.name).add(f)})),m.mutate(D).then(function(X){return!U||D.type!=="add"&&D.type!=="put"||(W.addKeys(X.results),P&&P.forEach(function(nt){for(var ft=D.values.map(function(ht){return nt.extractKey(ht)}),gt=nt.keyPath.findIndex(function(ht){return ht===v.keyPath}),mt=0,me=X.results.length;mt<me;++mt)ft[mt][gt]=X.results[mt];C(nt.name).addKeys(ft)})),I.mutatedParts=Js(I.mutatedParts||{},N),X})}}),S=function(C){var R=C.query,C=R.index,R=R.range;return[C,new ne((C=R.lower)!==null&&C!==void 0?C:l.MIN_KEY,(R=R.upper)!==null&&R!==void 0?R:l.MAX_KEY)]},E={get:function(D){return[v,new ne(D.key)]},getMany:function(D){return[v,new ne().addKeys(D.keys)]},count:S,query:S,openCursor:S};return o(E).forEach(function(D){A[D]=function(C){var R=ot.subscr,T=!!R,F=cc(ot,m)&&uc(D,C)?C.obsSet={}:R;if(T){var I=function(G){return G="idb://".concat(u,"/").concat(p,"/").concat(G),F[G]||(F[G]=new ne)},N=I(""),W=I(":dels"),R=E[D](C),T=R[0],R=R[1];if((D==="query"&&T.isPrimaryKey&&!C.values?W:I(T.name||"")).add(R),!T.isPrimaryKey){if(D!=="count"){var K=D==="query"&&O&&C.values&&m.query(i(i({},C),{values:!1}));return m[D].apply(this,arguments).then(function(G){if(D==="query"){if(O&&C.values)return K.then(function(ft){return ft=ft.result,N.addKeys(ft),G});var J=C.values?G.result.map(k):G.result;(C.values?N:W).addKeys(J)}else if(D==="openCursor"){var X=G,nt=C.values;return X&&Object.create(X,{key:{get:function(){return W.addKey(X.primaryKey),X.key}},primaryKey:{get:function(){var ft=X.primaryKey;return W.addKey(ft),ft}},value:{get:function(){return nt&&N.addKey(X.primaryKey),X.value}}})}return G})}W.add(f)}}return m[D].apply(this,arguments)}}),A}})}};function hc(l,u,f){if(f.numFailures===0)return u;if(u.type==="deleteRange")return null;var p=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1;return f.numFailures===p?null:(u=i({},u),a(u.keys)&&(u.keys=u.keys.filter(function(m,b){return!(b in f.failures)})),"values"in u&&a(u.values)&&(u.values=u.values.filter(function(m,b){return!(b in f.failures)})),u)}function Uo(l,u){return f=l,((p=u).lower===void 0||(p.lowerOpen?0<xt(f,p.lower):0<=xt(f,p.lower)))&&(l=l,(u=u).upper===void 0||(u.upperOpen?xt(l,u.upper)<0:xt(l,u.upper)<=0));var f,p}function fc(l,u,E,p,m,b){if(!E||E.length===0)return l;var v=u.query.index,k=v.multiEntry,O=u.query.range,P=p.schema.primaryKey.extractKey,A=v.extractKey,S=(v.lowLevelIndex||v).extractKey,E=E.reduce(function(D,C){var R=D,T=[];if(C.type==="add"||C.type==="put")for(var F=new ne,I=C.values.length-1;0<=I;--I){var N,W=C.values[I],K=P(W);F.hasKey(K)||(N=A(W),(k&&a(N)?N.some(function(X){return Uo(X,O)}):Uo(N,O))&&(F.addKey(K),T.push(W)))}switch(C.type){case"add":var Z=new ne().addKeys(u.values?D.map(function(nt){return P(nt)}):D),R=D.concat(u.values?T.filter(function(nt){return nt=P(nt),!Z.hasKey(nt)&&(Z.addKey(nt),!0)}):T.map(function(nt){return P(nt)}).filter(function(nt){return!Z.hasKey(nt)&&(Z.addKey(nt),!0)}));break;case"put":var U=new ne().addKeys(C.values.map(function(nt){return P(nt)}));R=D.filter(function(nt){return!U.hasKey(u.values?P(nt):nt)}).concat(u.values?T:T.map(function(nt){return P(nt)}));break;case"delete":var G=new ne().addKeys(C.keys);R=D.filter(function(nt){return!G.hasKey(u.values?P(nt):nt)});break;case"deleteRange":var J=C.range;R=D.filter(function(nt){return!Uo(P(nt),J)})}return R},l);return E===l?l:(E.sort(function(D,C){return xt(S(D),S(C))||xt(P(D),P(C))}),u.limit&&u.limit<1/0&&(E.length>u.limit?E.length=u.limit:l.length===u.limit&&E.length<u.limit&&(m.dirty=!0)),b?Object.freeze(E):E)}function dc(l,u){return xt(l.lower,u.lower)===0&&xt(l.upper,u.upper)===0&&!!l.lowerOpen==!!u.lowerOpen&&!!l.upperOpen==!!u.upperOpen}function Zd(l,u){return function(f,p,m,b){if(f===void 0)return p!==void 0?-1:0;if(p===void 0)return 1;if((p=xt(f,p))===0){if(m&&b)return 0;if(m)return 1;if(b)return-1}return p}(l.lower,u.lower,l.lowerOpen,u.lowerOpen)<=0&&0<=function(f,p,m,b){if(f===void 0)return p!==void 0?1:0;if(p===void 0)return-1;if((p=xt(f,p))===0){if(m&&b)return 0;if(m)return-1;if(b)return 1}return p}(l.upper,u.upper,l.upperOpen,u.upperOpen)}function Qd(l,u,f,p){l.subscribers.add(f),p.addEventListener("abort",function(){var m,b;l.subscribers.delete(f),l.subscribers.size===0&&(m=l,b=u,setTimeout(function(){m.subscribers.size===0&&qt(b,m)},3e3))})}var Jd={stack:"dbcore",level:0,name:"Cache",create:function(l){var u=l.schema.name;return i(i({},l),{transaction:function(f,p,m){var b,v,k=l.transaction(f,p,m);return p==="readwrite"&&(v=(b=new AbortController).signal,m=function(O){return function(){if(b.abort(),p==="readwrite"){for(var P=new Set,A=0,S=f;A<S.length;A++){var E=S[A],D=zn["idb://".concat(u,"/").concat(E)];if(D){var C=l.table(E),R=D.optimisticOps.filter(function(nt){return nt.trans===k});if(k._explicit&&O&&k.mutatedParts)for(var T=0,F=Object.values(D.queries.query);T<F.length;T++)for(var I=0,N=(Z=F[T]).slice();I<N.length;I++)Wo((U=N[I]).obsSet,k.mutatedParts)&&(qt(Z,U),U.subscribers.forEach(function(nt){return P.add(nt)}));else if(0<R.length){D.optimisticOps=D.optimisticOps.filter(function(nt){return nt.trans!==k});for(var W=0,K=Object.values(D.queries.query);W<K.length;W++)for(var Z,U,G,J=0,X=(Z=K[W]).slice();J<X.length;J++)(U=X[J]).res!=null&&k.mutatedParts&&(O&&!U.dirty?(G=Object.isFrozen(U.res),G=fc(U.res,U.req,R,C,U,G),U.dirty?(qt(Z,U),U.subscribers.forEach(function(nt){return P.add(nt)})):G!==U.res&&(U.res=G,U.promise=et.resolve({result:G}))):(U.dirty&&qt(Z,U),U.subscribers.forEach(function(nt){return P.add(nt)})))}}}P.forEach(function(nt){return nt()})}}},k.addEventListener("abort",m(!1),{signal:v}),k.addEventListener("error",m(!1),{signal:v}),k.addEventListener("complete",m(!0),{signal:v})),k},table:function(f){var p=l.table(f),m=p.schema.primaryKey;return i(i({},p),{mutate:function(b){var v=ot.trans;if(m.outbound||v.db._options.cache==="disabled"||v.explicit||v.idbtrans.mode!=="readwrite")return p.mutate(b);var k=zn["idb://".concat(u,"/").concat(f)];return k?(v=p.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||Ko(m,b).some(function(O){return O==null}))?(k.optimisticOps.push(b),b.mutatedParts&&tr(b.mutatedParts),v.then(function(O){0<O.numFailures&&(qt(k.optimisticOps,b),(O=hc(0,b,O))&&k.optimisticOps.push(O),b.mutatedParts&&tr(b.mutatedParts))}),v.catch(function(){qt(k.optimisticOps,b),b.mutatedParts&&tr(b.mutatedParts)})):v.then(function(O){var P=hc(0,i(i({},b),{values:b.values.map(function(A,S){var E;return O.failures[S]?A:(A=(E=m.keyPath)!==null&&E!==void 0&&E.includes(".")?yt(A):i({},A),j(A,m.keyPath,O.results[S]),A)})}),O);k.optimisticOps.push(P),queueMicrotask(function(){return b.mutatedParts&&tr(b.mutatedParts)})}),v):p.mutate(b)},query:function(b){if(!cc(ot,p)||!uc("query",b))return p.query(b);var v=((P=ot.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",S=ot,k=S.requery,O=S.signal,P=function(C,R,T,F){var I=zn["idb://".concat(C,"/").concat(R)];if(!I)return[];if(!(R=I.queries[T]))return[null,!1,I,null];var N=R[(F.query?F.query.index.name:null)||""];if(!N)return[null,!1,I,null];switch(T){case"query":var W=N.find(function(K){return K.req.limit===F.limit&&K.req.values===F.values&&dc(K.req.query.range,F.query.range)});return W?[W,!0,I,N]:[N.find(function(K){return("limit"in K.req?K.req.limit:1/0)>=F.limit&&(!F.values||K.req.values)&&Zd(K.req.query.range,F.query.range)}),!1,I,N];case"count":return W=N.find(function(K){return dc(K.req.query.range,F.query.range)}),[W,!!W,I,N]}}(u,f,"query",b),A=P[0],S=P[1],E=P[2],D=P[3];return A&&S?A.obsSet=b.obsSet:(S=p.query(b).then(function(C){var R=C.result;if(A&&(A.res=R),v){for(var T=0,F=R.length;T<F;++T)Object.freeze(R[T]);Object.freeze(R)}else C.result=yt(R);return C}).catch(function(C){return D&&A&&qt(D,A),Promise.reject(C)}),A={obsSet:b.obsSet,promise:S,subscribers:new Set,type:"query",req:b,dirty:!1},D?D.push(A):(D=[A],(E=E||(zn["idb://".concat(u,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=D)),Qd(A,D,k,O),A.promise.then(function(C){return{result:fc(C.result,b,E?.optimisticOps,p,A,v)}})}})}})}};function nr(l,u){return new Proxy(l,{get:function(f,p,m){return p==="db"?u:Reflect.get(f,p,m)}})}var Ve=(Kt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new lt.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new lt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var u=this._versions,f=u.filter(function(p){return p._cfg.version===l})[0];return f||(f=new this.Version(l),u.push(f),u.sort(zd),f.stores({}),this._state.autoSchema=!1,f)},Kt.prototype._whenReady=function(l){var u=this;return this.idbdb&&(this._state.openComplete||ot.letThrough||this._vip)?l():new et(function(f,p){if(u._state.openComplete)return p(new lt.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void p(new lt.DatabaseClosed);u.open().catch(Tt)}u._state.dbReadyPromise.then(f,p)}).then(l)},Kt.prototype.use=function(l){var u=l.stack,f=l.create,p=l.level,m=l.name;return m&&this.unuse({stack:u,name:m}),l=this._middlewares[u]||(this._middlewares[u]=[]),l.push({stack:u,create:f,level:p??10,name:m}),l.sort(function(b,v){return b.level-v.level}),this},Kt.prototype.unuse=function(l){var u=l.stack,f=l.name,p=l.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(m){return p?m.create!==p:!!f&&m.name!==f})),this},Kt.prototype.open=function(){var l=this;return Wn(hn,function(){return Ud(l)})},Kt.prototype._close=function(){var l=this._state,u=fi.indexOf(this);if(0<=u&&fi.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new et(function(f){l.dbReadyResolve=f}),l.openCanceller=new et(function(f,p){l.cancelOpen=p}))},Kt.prototype.close=function(f){var u=(f===void 0?{disableAutoOpen:!0}:f).disableAutoOpen,f=this._state;u?(f.isBeingOpened&&f.cancelOpen(new lt.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new lt.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Kt.prototype.delete=function(l){var u=this;l===void 0&&(l={disableAutoOpen:!0});var f=0<arguments.length&&typeof arguments[0]!="object",p=this._state;return new et(function(m,b){function v(){u.close(l);var k=u._deps.indexedDB.deleteDatabase(u.name);k.onsuccess=It(function(){var O,P,A;O=u._deps,P=u.name,A=O.indexedDB,O=O.IDBKeyRange,Io(A)||P===js||Fo(A,O).delete(P).catch(Tt),m()}),k.onerror=Ee(b),k.onblocked=u._fireOnBlocked}if(f)throw new lt.InvalidArgument("Invalid closeOptions argument to db.delete()");p.isBeingOpened?p.dbReadyPromise.then(v):v()})},Kt.prototype.backendDB=function(){return this.idbdb},Kt.prototype.isOpen=function(){return this.idbdb!==null},Kt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Kt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Kt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Kt.prototype,"tables",{get:function(){var l=this;return o(this._allTables).map(function(u){return l._allTables[u]})},enumerable:!1,configurable:!0}),Kt.prototype.transaction=function(){var l=(function(u,f,p){var m=arguments.length;if(m<2)throw new lt.InvalidArgument("Too few arguments");for(var b=new Array(m-1);--m;)b[m-1]=arguments[m];return p=b.pop(),[u,st(b),p]}).apply(this,arguments);return this._transaction.apply(this,l)},Kt.prototype._transaction=function(l,u,f){var p=this,m=ot.trans;m&&m.db===this&&l.indexOf("!")===-1||(m=null);var b,v,k=l.indexOf("?")!==-1;l=l.replace("!","").replace("?","");try{if(v=u.map(function(P){if(P=P instanceof p.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),l=="r"||l===ko)b=ko;else{if(l!="rw"&&l!=So)throw new lt.InvalidArgument("Invalid transaction mode: "+l);b=So}if(m){if(m.mode===ko&&b===So){if(!k)throw new lt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");m=null}m&&v.forEach(function(P){if(m&&m.storeNames.indexOf(P)===-1){if(!k)throw new lt.SubTransaction("Table "+P+" not included in parent transaction.");m=null}}),k&&m&&!m.active&&(m=null)}}catch(P){return m?m._promise(null,function(A,S){S(P)}):Ht(P)}var O=(function P(A,S,E,D,C){return et.resolve().then(function(){var R=ot.transless||ot,T=A._createTransaction(S,E,A._dbSchema,D);if(T.explicit=!0,R={trans:T,transless:R},D)T.idbtrans=D.idbtrans;else try{T.create(),T.idbtrans._explicit=!0,A._state.PR1398_maxLoop=3}catch(N){return N.name===fo.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return P(A,S,E,null,C)})):Ht(N)}var F,I=cn(C);return I&&hi(),R=et.follow(function(){var N;(F=C.call(T,T))&&(I?(N=dn.bind(null,null),F.then(N,N)):typeof F.next=="function"&&typeof F.throw=="function"&&(F=Vo(F)))},R),(F&&typeof F.then=="function"?et.resolve(F).then(function(N){return T.active?N:Ht(new lt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):R.then(function(){return F})).then(function(N){return D&&T._resolve(),T._completion.then(function(){return N})}).catch(function(N){return T._reject(N),Ht(N)})})}).bind(null,this,b,v,m,f);return m?m._promise(b,O,"lock"):ot.trans?Wn(ot.transless,function(){return p._whenReady(O)}):this._whenReady(O)},Kt.prototype.table=function(l){if(!g(this._allTables,l))throw new lt.InvalidTable("Table ".concat(l," does not exist"));return this._allTables[l]},Kt);function Kt(l,u){var f=this;this._middlewares={},this.verno=0;var p=Kt.dependencies;this._options=u=i({addons:Kt.addons,autoOpen:!0,indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},p=u.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var m,b,v,k,O,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Tt,dbReadyPromise:null,cancelOpen:Tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen};P.dbReadyPromise=new et(function(S){P.dbReadyResolve=S}),P.openCanceller=new et(function(S,E){P.cancelOpen=E}),this._state=P,this.name=l,this.on=Wi(this,"populate","blocked","versionchange","close",{ready:[po,Tt]}),this.on.ready.subscribe=V(this.on.ready.subscribe,function(S){return function(E,D){Kt.vip(function(){var C,R=f._state;R.openComplete?(R.dbOpenError||et.resolve().then(E),D&&S(E)):R.onReadyBeingFired?(R.onReadyBeingFired.push(E),D&&S(E)):(S(E),C=f,D||S(function T(){C.on.ready.unsubscribe(E),C.on.ready.unsubscribe(T)}))})}}),this.Collection=(m=this,Bi(Fd.prototype,function(F,T){this.db=m;var D=Hl,C=null;if(T)try{D=T()}catch(I){C=I}var R=F._ctx,T=R.table,F=T.hook.reading.fire;this._ctx={table:T,index:R.index,isPrimKey:!R.index||T.schema.primKey.keyPath&&R.index===T.schema.primKey.name,range:D,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:C,or:R.or,valueMapper:F!==Li?F:null}})),this.Table=(b=this,Bi(ql.prototype,function(S,E,D){this.db=b,this._tx=D,this.name=S,this.schema=E,this.hook=b._allTables[S]?b._allTables[S].hook:Wi(null,{creating:[Od,Tt],reading:[Md,Li],updating:[Pd,Tt],deleting:[Dd,Tt]})})),this.Transaction=(v=this,Bi(Yd.prototype,function(S,E,D,C,R){var T=this;this.db=v,this.mode=S,this.storeNames=E,this.schema=D,this.chromeTransactionDurability=C,this.idbtrans=null,this.on=Wi(this,"complete","error","abort"),this.parent=R||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new et(function(F,I){T._resolve=F,T._reject=I}),this._completion.then(function(){T.active=!1,T.on.complete.fire()},function(F){var I=T.active;return T.active=!1,T.on.error.fire(F),T.parent?T.parent._reject(F):I&&T.idbtrans&&T.idbtrans.abort(),Ht(F)})})),this.Version=(k=this,Bi(Kd.prototype,function(S){this.db=k,this._cfg={version:S,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(O=this,Bi(Jl.prototype,function(S,E,D){if(this.db=O,this._ctx={table:S,index:E===":id"?null:E,or:D},this._cmp=this._ascending=xt,this._descending=function(C,R){return xt(R,C)},this._max=function(C,R){return 0<xt(C,R)?C:R},this._min=function(C,R){return xt(C,R)<0?C:R},this._IDBKeyRange=O._deps.IDBKeyRange,!this._IDBKeyRange)throw new lt.MissingAPI})),this.on("versionchange",function(S){0<S.newVersion?console.warn("Another connection wants to upgrade database '".concat(f.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(f.name,"'. Closing db now to resume the delete request.")),f.close({disableAutoOpen:!1})}),this.on("blocked",function(S){!S.newVersion||S.newVersion<S.oldVersion?console.warn("Dexie.delete('".concat(f.name,"') was blocked")):console.warn("Upgrade '".concat(f.name,"' blocked by other connection holding version ").concat(S.oldVersion/10))}),this._maxKey=Hi(u.IDBKeyRange),this._createTransaction=function(S,E,D,C){return new f.Transaction(S,E,D,f._options.chromeTransactionDurability,C)},this._fireOnBlocked=function(S){f.on("blocked").fire(S),fi.filter(function(E){return E.name===f.name&&E!==f&&!E._state.vcFired}).map(function(E){return E.on("versionchange").fire(S)})},this.use(Gd),this.use(Jd),this.use(Xd),this.use($d),this.use(qd);var A=new Proxy(this,{get:function(S,E,D){if(E==="_vip")return!0;if(E==="table")return function(R){return nr(f.table(R),A)};var C=Reflect.get(S,E,D);return C instanceof ql?nr(C,A):E==="tables"?C.map(function(R){return nr(R,A)}):E==="_createTransaction"?function(){return nr(C.apply(this,arguments),A)}:C}});this.vip=A,p.forEach(function(S){return S(f)})}var ir,ve=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",tp=($o.prototype.subscribe=function(l,u,f){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:u,complete:f})},$o.prototype[ve]=function(){return this},$o);function $o(l){this._subscribe=l}try{ir={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch{ir={indexedDB:null,IDBKeyRange:null}}function pc(l){var u,f=!1,p=new tp(function(m){var b=cn(l),v,k=!1,O={},P={},A={get closed(){return k},unsubscribe:function(){k||(k=!0,v&&v.abort(),S&&mn.storagemutated.unsubscribe(D))}};m.start&&m.start(A);var S=!1,E=function(){return wo(C)},D=function(R){Js(O,R),Wo(P,O)&&E()},C=function(){var R,T,F;!k&&ir.indexedDB&&(O={},R={},v&&v.abort(),v=new AbortController,F=function(I){var N=ci();try{b&&hi();var W=fn(l,I);return W=b?W.finally(dn):W}finally{N&&ui()}}(T={subscr:R,signal:v.signal,requery:E,querier:l,trans:null}),Promise.resolve(F).then(function(I){f=!0,u=I,k||T.signal.aborted||(O={},function(N){for(var W in N)if(g(N,W))return;return 1}(P=R)||S||(mn(Vi,D),S=!0),wo(function(){return!k&&m.next&&m.next(I)}))},function(I){f=!1,["DatabaseClosedError","AbortError"].includes(I?.name)||k||wo(function(){k||m.error&&m.error(I)})}))};return setTimeout(E,0),A});return p.hasValue=function(){return f},p.getValue=function(){return u},p}var Vn=Ve;function qo(l){var u=yn;try{yn=!0,mn.storagemutated.fire(l),zo(l,!0)}finally{yn=u}}y(Vn,i(i({},Rs),{delete:function(l){return new Vn(l,{addons:[]}).delete()},exists:function(l){return new Vn(l,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return u=Vn.dependencies,f=u.indexedDB,u=u.IDBKeyRange,(Io(f)?Promise.resolve(f.databases()).then(function(p){return p.map(function(m){return m.name}).filter(function(m){return m!==js})}):Fo(f,u).toCollection().primaryKeys()).then(l)}catch{return Ht(new lt.MissingAPI)}var u,f},defineClass:function(){return function(l){c(this,l)}},ignoreTransaction:function(l){return ot.trans?Wn(ot.transless,l):l()},vip:No,async:function(l){return function(){try{var u=Vo(l.apply(this,arguments));return u&&typeof u.then=="function"?u:et.resolve(u)}catch(f){return Ht(f)}}},spawn:function(l,u,f){try{var p=Vo(l.apply(f,u||[]));return p&&typeof p.then=="function"?p:et.resolve(p)}catch(m){return Ht(m)}},currentTransaction:{get:function(){return ot.trans||null}},waitFor:function(l,u){return u=et.resolve(typeof l=="function"?Vn.ignoreTransaction(l):l).timeout(u||6e4),ot.trans?ot.trans.waitFor(u):u},Promise:et,debug:{get:function(){return Re},set:function(l){Nl(l)}},derive:w,extend:c,props:y,override:V,Events:Wi,on:mn,liveQuery:pc,extendObservabilitySet:Js,getByKeyPath:$,setByKeyPath:j,delByKeyPath:function(l,u){typeof u=="string"?j(l,u,void 0):"length"in u&&[].map.call(u,function(f){j(l,f,void 0)})},shallowClone:q,deepClone:yt,getObjectDiff:Ho,cmp:xt,asap:B,minKey:-1/0,addons:[],connections:fi,errnames:fo,dependencies:ir,cache:zn,semVer:"4.0.11",version:"4.0.11".split(".").map(function(l){return parseInt(l)}).reduce(function(l,u,f){return l+u/Math.pow(10,2*f)})})),Vn.maxKey=Hi(Vn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(mn(Vi,function(l){yn||(l=new CustomEvent(Po,{detail:l}),yn=!0,dispatchEvent(l),yn=!1)}),addEventListener(Po,function(l){l=l.detail,yn||qo(l)}));var gi,yn=!1,gc=function(){};return typeof BroadcastChannel<"u"&&((gc=function(){(gi=new BroadcastChannel(Po)).onmessage=function(l){return l.data&&qo(l.data)}})(),typeof gi.unref=="function"&&gi.unref(),mn(Vi,function(l){yn||gi.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!Ve.disableBfCache&&l.persisted){Re&&console.debug("Dexie: handling persisted pagehide"),gi?.close();for(var u=0,f=fi;u<f.length;u++)f[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!Ve.disableBfCache&&l.persisted&&(Re&&console.debug("Dexie: handling persisted pageshow"),gc(),qo({all:new ne(-1/0,[[]])}))})),et.rejectionMapper=function(l,u){return!l||l instanceof _e||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Il[l.name]?l:(u=new Il[l.name](u||l.message,l),"stack"in l&&x(u,"stack",{get:function(){return this.inner.stack}}),u)},Nl(Re),i(Ve,Object.freeze({__proto__:null,Dexie:Ve,liveQuery:pc,Entity:Kl,cmp:xt,PropModification:ji,replacePrefix:function(l,u){return new ji({replacePrefix:[l,u]})},add:function(l){return new ji({add:l})},remove:function(l){return new ji({remove:l})},default:Ve,RangeSet:ne,mergeRanges:$i,rangesOverlap:sc}),{default:Ve}),Ve})}(Dr)),Dr.exports}var Bk=Wk();const Ha=Nk(Bk),ah=Symbol.for("Dexie"),Vr=globalThis[ah]||(globalThis[ah]=Ha);if(Ha.semVer!==Vr.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ha.semVer} and ${Vr.semVer}`);const{liveQuery:Uk,mergeRanges:$k,rangesOverlap:qk,RangeSet:Gk,cmp:Xk,Entity:Zk,PropModification:Qk,replacePrefix:Jk,add:tS,remove:eS}=Vr;Ds.defaults.font.size=16;Ds.defaults.color="#FFF";const Fl=new WebSocket("ws://"+location.hostname+"/socket"),Hr=new Vr("ESP32WebTemp");Hr.version(1).stores({readings:"++id, timestamp, internal_temp, external_temp"});const Xe=Ss({internalTemp:-500,externalTemp:-500});function jk(e){return{$template:"#top-navbar",deleteDB(){Hr.delete(),location.reload()}}}function zk(e){return{$template:"#chart",async renderChart(){const t=await Hr.readings.toArray();let n=new Ds(document.getElementById("live-chart"),{type:"line",data:{labels:t.map(i=>i.timestamp),datasets:[{label:"ESP32 Temperature in C (Celsius)",data:t.map(i=>i.internal_temp)},{label:"Environment Temperature in C (Celsius)",data:t.map(i=>i.external_temp)}]},options:{scales:{x:{grid:{color:"#666"},type:"time"},y:{grid:{color:"#666"}}},elements:{line:{tension:.4}}}});setInterval(async()=>{Fl.send("get_temp");let i=new Date;Xe.internalTemp!==-500&&Xe.externalTemp!==-500&&(n.data.labels.push(i),n.data.datasets[0].data.push(Xe.internalTemp),n.data.datasets[1].data.push(Xe.externalTemp),n.update(),await Hr.readings.add({timestamp:i,internal_temp:Xe.internalTemp,external_temp:Xe.externalTemp}))},5e3)}}}function Vk(){return{$template:"#temperatures"}}Rh({store:Xe,TopNavbar:jk,TemperatureChart:zk,Temperatures:Vk}).mount("#app");Fl.onmessage=e=>{let t={};try{t=JSON.parse(e.data),Xe.internalTemp=t.internal,Xe.externalTemp=t.external}catch{}};Fl.onclose=e=>{location.reload()}});export default Hk();
